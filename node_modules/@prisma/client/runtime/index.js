var kr=Object.defineProperty,Pd=Object.prototype.hasOwnProperty,p=(e,t)=>()=>(t||(t={exports:{}},e(t.exports,t)),t.exports),zs=e=>kr(e,"__esModule",{value:!0}),Ld=(e,t)=>{zs(e);for(var r in t)kr(e,r,{get:t[r],enumerable:!0})},Nd=(e,t)=>{if(zs(e),typeof t=="object"||typeof t=="function")for(let r in t)!Pd.call(e,r)&&r!=="default"&&kr(e,r,{get:()=>t[r],enumerable:!0});return e},R=e=>e&&e.__esModule?e:Nd(kr({},"default",{value:e,enumerable:!0}),e);var Js=p((Uw,Hs)=>{Hs.exports=Ws;Ws.sync=Fd;var Vs=require("fs");function jd(e,t){var r=t.pathExt!==void 0?t.pathExt:process.env.PATHEXT;if(!r)return!0;if(r=r.split(";"),r.indexOf("")!==-1)return!0;for(var n=0;n<r.length;n++){var i=r[n].toLowerCase();if(i&&e.substr(-i.length).toLowerCase()===i)return!0}return!1}function Ys(e,t,r){return!e.isSymbolicLink()&&!e.isFile()?!1:jd(t,r)}function Ws(e,t,r){Vs.stat(e,function(n,i){r(n,n?!1:Ys(i,e,t))})}function Fd(e,t){return Ys(Vs.statSync(e),e,t)}});var eo=p((Gw,Qs)=>{Qs.exports=Ks;Ks.sync=qd;var Xs=require("fs");function Ks(e,t,r){Xs.stat(e,function(n,i){r(n,n?!1:Zs(i,t))})}function qd(e,t){return Zs(Xs.statSync(e),t)}function Zs(e,t){return e.isFile()&&$d(e,t)}function $d(e,t){var r=e.mode,n=e.uid,i=e.gid,s=t.uid!==void 0?t.uid:process.getuid&&process.getuid(),o=t.gid!==void 0?t.gid:process.getgid&&process.getgid(),a=parseInt("100",8),l=parseInt("010",8),d=parseInt("001",8),u=a|l,c=r&d||r&l&&i===o||r&a&&n===s||r&u&&s===0;return c}});var ro=p((Hw,to)=>{var zw=require("fs"),_r;process.platform==="win32"||global.TESTING_WINDOWS?_r=Js():_r=eo();to.exports=Jn;Jn.sync=Bd;function Jn(e,t,r){if(typeof t=="function"&&(r=t,t={}),!r){if(typeof Promise!="function")throw new TypeError("callback not provided");return new Promise(function(n,i){Jn(e,t||{},function(s,o){s?i(s):n(o)})})}_r(e,t||{},function(n,i){n&&((n.code==="EACCES"||t&&t.ignoreErrors)&&(n=null,i=!1)),r(n,i)})}function Bd(e,t){try{return _r.sync(e,t||{})}catch(r){if(t&&t.ignoreErrors||r.code==="EACCES")return!1;throw r}}});var uo=p((Ww,no)=>{const ct=process.platform==="win32"||process.env.OSTYPE==="cygwin"||process.env.OSTYPE==="msys",io=require("path"),Ud=ct?";":":",so=ro(),oo=e=>Object.assign(new Error(`not found: ${e}`),{code:"ENOENT"}),ao=(e,t)=>{const r=t.colon||Ud,n=e.match(/\//)||ct&&e.match(/\\/)?[""]:[...ct?[process.cwd()]:[],...(t.path||process.env.PATH||"").split(r)],i=ct?t.pathExt||process.env.PATHEXT||".EXE;.CMD;.BAT;.COM":"",s=ct?i.split(r):[""];return ct&&(e.indexOf(".")!==-1&&s[0]!==""&&s.unshift("")),{pathEnv:n,pathExt:s,pathExtExe:i}},lo=(e,t,r)=>{typeof t=="function"&&(r=t,t={}),t||(t={});const{pathEnv:n,pathExt:i,pathExtExe:s}=ao(e,t),o=[],a=d=>new Promise((u,c)=>{if(d===n.length)return t.all&&o.length?u(o):c(oo(e));const f=n[d],h=/^".*"$/.test(f)?f.slice(1,-1):f,m=io.join(h,e),b=!h&&/^\.[\\\/]/.test(e)?e.slice(0,2)+m:m;u(l(b,d,0))}),l=(d,u,c)=>new Promise((f,h)=>{if(c===i.length)return f(a(u+1));const m=i[c];so(d+m,{pathExt:s},(b,g)=>{if(!b&&g)if(t.all)o.push(d+m);else return f(d+m);return f(l(d,u,c+1))})});return r?a(0).then(d=>r(null,d),r):a(0)},Gd=(e,t)=>{t=t||{};const{pathEnv:r,pathExt:n,pathExtExe:i}=ao(e,t),s=[];for(let o=0;o<r.length;o++){const a=r[o],l=/^".*"$/.test(a)?a.slice(1,-1):a,d=io.join(l,e),u=!l&&/^\.[\\\/]/.test(e)?e.slice(0,2)+d:d;for(let c=0;c<n.length;c++){const f=u+n[c];try{const h=so.sync(f,{pathExt:i});if(h)if(t.all)s.push(f);else return f}catch(h){}}}if(t.all&&s.length)return s;if(t.nothrow)return null;throw oo(e)};no.exports=lo;lo.sync=Gd});var Kn=p((Vw,Qn)=>{"use strict";const co=(e={})=>{const t=e.env||process.env,r=e.platform||process.platform;return r!=="win32"?"PATH":Object.keys(t).reverse().find(n=>n.toUpperCase()==="PATH")||"Path"};Qn.exports=co;Qn.exports.default=co});var mo=p((Yw,fo)=>{"use strict";const ho=require("path"),zd=uo(),Hd=Kn();function po(e,t){const r=e.options.env||process.env,n=process.cwd(),i=e.options.cwd!=null,s=i&&process.chdir!==void 0&&!process.chdir.disabled;if(s)try{process.chdir(e.options.cwd)}catch(a){}let o;try{o=zd.sync(e.command,{path:r[Hd({env:r})],pathExt:t?ho.delimiter:void 0})}catch(a){}finally{s&&process.chdir(n)}return o&&(o=ho.resolve(i?e.options.cwd:"",o)),o}function Wd(e){return po(e)||po(e,!0)}fo.exports=Wd});var go=p((Jw,Xn)=>{"use strict";const Zn=/([()\][%!^"`<>&|;, *?])/g;function Vd(e){return e=e.replace(Zn,"^$1"),e}function Yd(e,t){return e=`${e}`,e=e.replace(/(\\*)"/g,'$1$1\\"'),e=e.replace(/(\\*)$/,"$1$1"),e=`"${e}"`,e=e.replace(Zn,"^$1"),t&&(e=e.replace(Zn,"^$1")),e}Xn.exports.command=Vd;Xn.exports.argument=Yd});var wo=p((Qw,yo)=>{"use strict";yo.exports=/^#!(.*)/});var Mo=p((Kw,bo)=>{"use strict";const Jd=wo();bo.exports=(e="")=>{const t=e.match(Jd);if(!t)return null;const[r,n]=t[0].replace(/#! ?/,"").split(" "),i=r.split("/").pop();return i==="env"?n:n?`${i} ${n}`:i}});var Eo=p((Xw,vo)=>{"use strict";const ei=require("fs"),Qd=Mo();function Kd(e){const t=150,r=Buffer.alloc(t);let n;try{n=ei.openSync(e,"r"),ei.readSync(n,r,0,t,0),ei.closeSync(n)}catch(i){}return Qd(r.toString())}vo.exports=Kd});var Co=p((Zw,To)=>{"use strict";const Xd=require("path"),Ao=mo(),Do=go(),Zd=Eo(),ef=process.platform==="win32",tf=/\.(?:com|exe)$/i,rf=/node_modules[\\/].bin[\\/][^\\/]+\.cmd$/i;function nf(e){e.file=Ao(e);const t=e.file&&Zd(e.file);return t?(e.args.unshift(e.file),e.command=t,Ao(e)):e.file}function sf(e){if(!ef)return e;const t=nf(e),r=!tf.test(t);if(e.options.forceShell||r){const n=rf.test(t);e.command=Xd.normalize(e.command),e.command=Do.command(e.command),e.args=e.args.map(s=>Do.argument(s,n));const i=[e.command].concat(e.args).join(" ");e.args=["/d","/s","/c",`"${i}"`],e.command=process.env.comspec||"cmd.exe",e.options.windowsVerbatimArguments=!0}return e}function of(e,t,r){t&&!Array.isArray(t)&&(r=t,t=null),t=t?t.slice(0):[],r=Object.assign({},r);const n={command:e,args:t,options:r,file:void 0,original:{command:e,args:t}};return r.shell?n:sf(n)}To.exports=of});var Oo=p((eb,xo)=>{"use strict";const ti=process.platform==="win32";function ri(e,t){return Object.assign(new Error(`${t} ${e.command} ENOENT`),{code:"ENOENT",errno:"ENOENT",syscall:`${t} ${e.command}`,path:e.command,spawnargs:e.args})}function af(e,t){if(!ti)return;const r=e.emit;e.emit=function(n,i){if(n==="exit"){const s=So(i,t,"spawn");if(s)return r.call(e,"error",s)}return r.apply(e,arguments)}}function So(e,t){return ti&&e===1&&!t.file?ri(t.original,"spawn"):null}function lf(e,t){return ti&&e===1&&!t.file?ri(t.original,"spawnSync"):null}xo.exports={hookChildProcess:af,verifyENOENT:So,verifyENOENTSync:lf,notFoundError:ri}});var si=p((tb,dt)=>{"use strict";const Io=require("child_process"),ni=Co(),ii=Oo();function ko(e,t,r){const n=ni(e,t,r),i=Io.spawn(n.command,n.args,n.options);return ii.hookChildProcess(i,n),i}function uf(e,t,r){const n=ni(e,t,r),i=Io.spawnSync(n.command,n.args,n.options);return i.error=i.error||ii.verifyENOENTSync(i.status,n),i}dt.exports=ko;dt.exports.spawn=ko;dt.exports.sync=uf;dt.exports._parse=ni;dt.exports._enoent=ii});var ai=p((Wt,Rr)=>{"use strict";Object.defineProperty(Wt,"__esModule",{value:!0});Wt.createLineStream=void 0;const oi=require("stream"),cf=require("util");function df(e,t){return Rr.exports.createStream(e,t)}Wt.default=df;Rr.exports.createStream=function(e,t){return e?_o(e,t):new Ne(t)};function _o(e,t){if(!e)throw new Error("expected readStream");if(!e.readable)throw new Error("readStream must be readable");const r=new Ne(t);return e.pipe(r),r}Wt.createLineStream=_o;Rr.exports.LineStream=Ne;function Ne(e){oi.Transform.call(this,e),e=e||{},this._readableState.objectMode=!0,this._lineBuffer=[],this._keepEmptyLines=e.keepEmptyLines||!1,this._lastChunkEndedWithCR=!1,this.on("pipe",function(t){this.encoding||t instanceof oi.Readable&&(this.encoding=t._readableState.encoding)})}cf.inherits(Ne,oi.Transform);Ne.prototype._transform=function(e,t,r){t=t||"utf8",Buffer.isBuffer(e)&&(t=="buffer"?(e=e.toString(),t="utf8"):e=e.toString(t)),this._chunkEncoding=t;const n=e.split(/\r\n|\r|\n/g);this._lastChunkEndedWithCR&&e[0]==`
`&&n.shift(),this._lineBuffer.length>0&&(this._lineBuffer[this._lineBuffer.length-1]+=n[0],n.shift()),this._lastChunkEndedWithCR=e[e.length-1]=="\r",this._lineBuffer=this._lineBuffer.concat(n),this._pushBuffer(t,1,r)};Ne.prototype._pushBuffer=function(e,t,r){for(;this._lineBuffer.length>t;){const n=this._lineBuffer.shift();if((this._keepEmptyLines||n.length>0)&&!this.push(this._reencode(n,e))){const i=this;setImmediate(function(){i._pushBuffer(e,t,r)});return}}r()};Ne.prototype._flush=function(e){this._pushBuffer(this._chunkEncoding,0,e)};Ne.prototype._reencode=function(e,t){return this.encoding&&this.encoding!=t?Buffer.from(e,t).toString(this.encoding):this.encoding?e:Buffer.from(e,t)}});var Po=p((rb,Ro)=>{"use strict";Ro.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}});var li=p((nb,Lo)=>{const Vt=Po(),No={};for(const e of Object.keys(Vt))No[Vt[e]]=e;const T={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};Lo.exports=T;for(const e of Object.keys(T)){if(!("channels"in T[e]))throw new Error("missing channels property: "+e);if(!("labels"in T[e]))throw new Error("missing channel labels property: "+e);if(T[e].labels.length!==T[e].channels)throw new Error("channel and label counts mismatch: "+e);const{channels:t,labels:r}=T[e];delete T[e].channels,delete T[e].labels,Object.defineProperty(T[e],"channels",{value:t}),Object.defineProperty(T[e],"labels",{value:r})}T.rgb.hsl=function(e){const t=e[0]/255,r=e[1]/255,n=e[2]/255,i=Math.min(t,r,n),s=Math.max(t,r,n),o=s-i;let a,l;s===i?a=0:t===s?a=(r-n)/o:r===s?a=2+(n-t)/o:n===s&&(a=4+(t-r)/o),a=Math.min(a*60,360),a<0&&(a+=360);const d=(i+s)/2;return s===i?l=0:d<=.5?l=o/(s+i):l=o/(2-s-i),[a,l*100,d*100]};T.rgb.hsv=function(e){let t,r,n,i,s;const o=e[0]/255,a=e[1]/255,l=e[2]/255,d=Math.max(o,a,l),u=d-Math.min(o,a,l),c=function(f){return(d-f)/6/u+1/2};return u===0?(i=0,s=0):(s=u/d,t=c(o),r=c(a),n=c(l),o===d?i=n-r:a===d?i=1/3+t-n:l===d&&(i=2/3+r-t),i<0?i+=1:i>1&&(i-=1)),[i*360,s*100,d*100]};T.rgb.hwb=function(e){const t=e[0],r=e[1];let n=e[2];const i=T.rgb.hsl(e)[0],s=1/255*Math.min(t,Math.min(r,n));return n=1-1/255*Math.max(t,Math.max(r,n)),[i,s*100,n*100]};T.rgb.cmyk=function(e){const t=e[0]/255,r=e[1]/255,n=e[2]/255,i=Math.min(1-t,1-r,1-n),s=(1-t-i)/(1-i)||0,o=(1-r-i)/(1-i)||0,a=(1-n-i)/(1-i)||0;return[s*100,o*100,a*100,i*100]};function ff(e,t){return(e[0]-t[0])**2+(e[1]-t[1])**2+(e[2]-t[2])**2}T.rgb.keyword=function(e){const t=No[e];if(t)return t;let r=Infinity,n;for(const i of Object.keys(Vt)){const s=Vt[i],o=ff(e,s);o<r&&(r=o,n=i)}return n};T.keyword.rgb=function(e){return Vt[e]};T.rgb.xyz=function(e){let t=e[0]/255,r=e[1]/255,n=e[2]/255;t=t>.04045?((t+.055)/1.055)**2.4:t/12.92,r=r>.04045?((r+.055)/1.055)**2.4:r/12.92,n=n>.04045?((n+.055)/1.055)**2.4:n/12.92;const i=t*.4124+r*.3576+n*.1805,s=t*.2126+r*.7152+n*.0722,o=t*.0193+r*.1192+n*.9505;return[i*100,s*100,o*100]};T.rgb.lab=function(e){const t=T.rgb.xyz(e);let r=t[0],n=t[1],i=t[2];r/=95.047,n/=100,i/=108.883,r=r>.008856?r**(1/3):7.787*r+16/116,n=n>.008856?n**(1/3):7.787*n+16/116,i=i>.008856?i**(1/3):7.787*i+16/116;const s=116*n-16,o=500*(r-n),a=200*(n-i);return[s,o,a]};T.hsl.rgb=function(e){const t=e[0]/360,r=e[1]/100,n=e[2]/100;let i,s,o;if(r===0)return o=n*255,[o,o,o];n<.5?i=n*(1+r):i=n+r-n*r;const a=2*n-i,l=[0,0,0];for(let d=0;d<3;d++)s=t+1/3*-(d-1),s<0&&s++,s>1&&s--,6*s<1?o=a+(i-a)*6*s:2*s<1?o=i:3*s<2?o=a+(i-a)*(2/3-s)*6:o=a,l[d]=o*255;return l};T.hsl.hsv=function(e){const t=e[0];let r=e[1]/100,n=e[2]/100,i=r;const s=Math.max(n,.01);n*=2,r*=n<=1?n:2-n,i*=s<=1?s:2-s;const o=(n+r)/2,a=n===0?2*i/(s+i):2*r/(n+r);return[t,a*100,o*100]};T.hsv.rgb=function(e){const t=e[0]/60,r=e[1]/100;let n=e[2]/100;const i=Math.floor(t)%6,s=t-Math.floor(t),o=255*n*(1-r),a=255*n*(1-r*s),l=255*n*(1-r*(1-s));n*=255;switch(i){case 0:return[n,l,o];case 1:return[a,n,o];case 2:return[o,n,l];case 3:return[o,a,n];case 4:return[l,o,n];case 5:return[n,o,a]}};T.hsv.hsl=function(e){const t=e[0],r=e[1]/100,n=e[2]/100,i=Math.max(n,.01);let s,o;o=(2-r)*n;const a=(2-r)*i;return s=r*i,s/=a<=1?a:2-a,s=s||0,o/=2,[t,s*100,o*100]};T.hwb.rgb=function(e){const t=e[0]/360;let r=e[1]/100,n=e[2]/100;const i=r+n;let s;i>1&&(r/=i,n/=i);const o=Math.floor(6*t),a=1-n;s=6*t-o,(o&1)!==0&&(s=1-s);const l=r+s*(a-r);let d,u,c;switch(o){default:case 6:case 0:d=a,u=l,c=r;break;case 1:d=l,u=a,c=r;break;case 2:d=r,u=a,c=l;break;case 3:d=r,u=l,c=a;break;case 4:d=l,u=r,c=a;break;case 5:d=a,u=r,c=l;break}return[d*255,u*255,c*255]};T.cmyk.rgb=function(e){const t=e[0]/100,r=e[1]/100,n=e[2]/100,i=e[3]/100,s=1-Math.min(1,t*(1-i)+i),o=1-Math.min(1,r*(1-i)+i),a=1-Math.min(1,n*(1-i)+i);return[s*255,o*255,a*255]};T.xyz.rgb=function(e){const t=e[0]/100,r=e[1]/100,n=e[2]/100;let i,s,o;return i=t*3.2406+r*-1.5372+n*-.4986,s=t*-.9689+r*1.8758+n*.0415,o=t*.0557+r*-.204+n*1.057,i=i>.0031308?1.055*i**(1/2.4)-.055:i*12.92,s=s>.0031308?1.055*s**(1/2.4)-.055:s*12.92,o=o>.0031308?1.055*o**(1/2.4)-.055:o*12.92,i=Math.min(Math.max(0,i),1),s=Math.min(Math.max(0,s),1),o=Math.min(Math.max(0,o),1),[i*255,s*255,o*255]};T.xyz.lab=function(e){let t=e[0],r=e[1],n=e[2];t/=95.047,r/=100,n/=108.883,t=t>.008856?t**(1/3):7.787*t+16/116,r=r>.008856?r**(1/3):7.787*r+16/116,n=n>.008856?n**(1/3):7.787*n+16/116;const i=116*r-16,s=500*(t-r),o=200*(r-n);return[i,s,o]};T.lab.xyz=function(e){const t=e[0],r=e[1],n=e[2];let i,s,o;s=(t+16)/116,i=r/500+s,o=s-n/200;const a=s**3,l=i**3,d=o**3;return s=a>.008856?a:(s-16/116)/7.787,i=l>.008856?l:(i-16/116)/7.787,o=d>.008856?d:(o-16/116)/7.787,i*=95.047,s*=100,o*=108.883,[i,s,o]};T.lab.lch=function(e){const t=e[0],r=e[1],n=e[2];let i;const s=Math.atan2(n,r);i=s*360/2/Math.PI,i<0&&(i+=360);const o=Math.sqrt(r*r+n*n);return[t,o,i]};T.lch.lab=function(e){const t=e[0],r=e[1],n=e[2],i=n/360*2*Math.PI,s=r*Math.cos(i),o=r*Math.sin(i);return[t,s,o]};T.rgb.ansi16=function(e,t=null){const[r,n,i]=e;let s=t===null?T.rgb.hsv(e)[2]:t;if(s=Math.round(s/50),s===0)return 30;let o=30+(Math.round(i/255)<<2|Math.round(n/255)<<1|Math.round(r/255));return s===2&&(o+=60),o};T.hsv.ansi16=function(e){return T.rgb.ansi16(T.hsv.rgb(e),e[2])};T.rgb.ansi256=function(e){const t=e[0],r=e[1],n=e[2];if(t===r&&r===n)return t<8?16:t>248?231:Math.round((t-8)/247*24)+232;const i=16+36*Math.round(t/255*5)+6*Math.round(r/255*5)+Math.round(n/255*5);return i};T.ansi16.rgb=function(e){let t=e%10;if(t===0||t===7)return e>50&&(t+=3.5),t=t/10.5*255,[t,t,t];const r=(~~(e>50)+1)*.5,n=(t&1)*r*255,i=(t>>1&1)*r*255,s=(t>>2&1)*r*255;return[n,i,s]};T.ansi256.rgb=function(e){if(e>=232){const s=(e-232)*10+8;return[s,s,s]}e-=16;let t;const r=Math.floor(e/36)/5*255,n=Math.floor((t=e%36)/6)/5*255,i=t%6/5*255;return[r,n,i]};T.rgb.hex=function(e){const t=((Math.round(e[0])&255)<<16)+((Math.round(e[1])&255)<<8)+(Math.round(e[2])&255),r=t.toString(16).toUpperCase();return"000000".substring(r.length)+r};T.hex.rgb=function(e){const t=e.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!t)return[0,0,0];let r=t[0];t[0].length===3&&(r=r.split("").map(a=>a+a).join(""));const n=parseInt(r,16),i=n>>16&255,s=n>>8&255,o=n&255;return[i,s,o]};T.rgb.hcg=function(e){const t=e[0]/255,r=e[1]/255,n=e[2]/255,i=Math.max(Math.max(t,r),n),s=Math.min(Math.min(t,r),n),o=i-s;let a,l;return o<1?a=s/(1-o):a=0,o<=0?l=0:i===t?l=(r-n)/o%6:i===r?l=2+(n-t)/o:l=4+(t-r)/o,l/=6,l%=1,[l*360,o*100,a*100]};T.hsl.hcg=function(e){const t=e[1]/100,r=e[2]/100,n=r<.5?2*t*r:2*t*(1-r);let i=0;return n<1&&(i=(r-.5*n)/(1-n)),[e[0],n*100,i*100]};T.hsv.hcg=function(e){const t=e[1]/100,r=e[2]/100,n=t*r;let i=0;return n<1&&(i=(r-n)/(1-n)),[e[0],n*100,i*100]};T.hcg.rgb=function(e){const t=e[0]/360,r=e[1]/100,n=e[2]/100;if(r===0)return[n*255,n*255,n*255];const i=[0,0,0],s=t%1*6,o=s%1,a=1-o;let l=0;switch(Math.floor(s)){case 0:i[0]=1,i[1]=o,i[2]=0;break;case 1:i[0]=a,i[1]=1,i[2]=0;break;case 2:i[0]=0,i[1]=1,i[2]=o;break;case 3:i[0]=0,i[1]=a,i[2]=1;break;case 4:i[0]=o,i[1]=0,i[2]=1;break;default:i[0]=1,i[1]=0,i[2]=a}return l=(1-r)*n,[(r*i[0]+l)*255,(r*i[1]+l)*255,(r*i[2]+l)*255]};T.hcg.hsv=function(e){const t=e[1]/100,r=e[2]/100,n=t+r*(1-t);let i=0;return n>0&&(i=t/n),[e[0],i*100,n*100]};T.hcg.hsl=function(e){const t=e[1]/100,r=e[2]/100,n=r*(1-t)+.5*t;let i=0;return n>0&&n<.5?i=t/(2*n):n>=.5&&n<1&&(i=t/(2*(1-n))),[e[0],i*100,n*100]};T.hcg.hwb=function(e){const t=e[1]/100,r=e[2]/100,n=t+r*(1-t);return[e[0],(n-t)*100,(1-n)*100]};T.hwb.hcg=function(e){const t=e[1]/100,r=e[2]/100,n=1-r,i=n-t;let s=0;return i<1&&(s=(n-i)/(1-i)),[e[0],i*100,s*100]};T.apple.rgb=function(e){return[e[0]/65535*255,e[1]/65535*255,e[2]/65535*255]};T.rgb.apple=function(e){return[e[0]/255*65535,e[1]/255*65535,e[2]/255*65535]};T.gray.rgb=function(e){return[e[0]/100*255,e[0]/100*255,e[0]/100*255]};T.gray.hsl=function(e){return[0,0,e[0]]};T.gray.hsv=T.gray.hsl;T.gray.hwb=function(e){return[0,100,e[0]]};T.gray.cmyk=function(e){return[0,0,0,e[0]]};T.gray.lab=function(e){return[e[0],0,0]};T.gray.hex=function(e){const t=Math.round(e[0]/100*255)&255,r=(t<<16)+(t<<8)+t,n=r.toString(16).toUpperCase();return"000000".substring(n.length)+n};T.rgb.gray=function(e){const t=(e[0]+e[1]+e[2])/3;return[t/255*100]}});var jo=p((ib,Fo)=>{const Pr=li();function hf(){const e={},t=Object.keys(Pr);for(let r=t.length,n=0;n<r;n++)e[t[n]]={distance:-1,parent:null};return e}function pf(e){const t=hf(),r=[e];for(t[e].distance=0;r.length;){const n=r.pop(),i=Object.keys(Pr[n]);for(let s=i.length,o=0;o<s;o++){const a=i[o],l=t[a];l.distance===-1&&(l.distance=t[n].distance+1,l.parent=n,r.unshift(a))}}return t}function mf(e,t){return function(r){return t(e(r))}}function gf(e,t){const r=[t[e].parent,e];let n=Pr[t[e].parent][e],i=t[e].parent;for(;t[i].parent;)r.unshift(t[i].parent),n=mf(Pr[t[i].parent][i],n),i=t[i].parent;return n.conversion=r,n}Fo.exports=function(e){const t=pf(e),r={},n=Object.keys(t);for(let i=n.length,s=0;s<i;s++){const o=n[s],a=t[o];if(a.parent===null)continue;r[o]=gf(o,t)}return r}});var $o=p((sb,qo)=>{const ui=li(),yf=jo(),ft={},wf=Object.keys(ui);function bf(e){const t=function(...r){const n=r[0];return n==null?n:(n.length>1&&(r=n),e(r))};return"conversion"in e&&(t.conversion=e.conversion),t}function Mf(e){const t=function(...r){const n=r[0];if(n==null)return n;n.length>1&&(r=n);const i=e(r);if(typeof i=="object")for(let s=i.length,o=0;o<s;o++)i[o]=Math.round(i[o]);return i};return"conversion"in e&&(t.conversion=e.conversion),t}wf.forEach(e=>{ft[e]={},Object.defineProperty(ft[e],"channels",{value:ui[e].channels}),Object.defineProperty(ft[e],"labels",{value:ui[e].labels});const t=yf(e),r=Object.keys(t);r.forEach(n=>{const i=t[n];ft[e][n]=Mf(i),ft[e][n].raw=bf(i)})});qo.exports=ft});var Wo=p((ob,Bo)=>{"use strict";const Uo=(e,t)=>(...r)=>{const n=e(...r);return`[${n+t}m`},Go=(e,t)=>(...r)=>{const n=e(...r);return`[${38+t};5;${n}m`},zo=(e,t)=>(...r)=>{const n=e(...r);return`[${38+t};2;${n[0]};${n[1]};${n[2]}m`},Lr=e=>e,Ho=(e,t,r)=>[e,t,r],ht=(e,t,r)=>{Object.defineProperty(e,t,{get:()=>{const n=r();return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0}),n},enumerable:!0,configurable:!0})};let ci;const pt=(e,t,r,n)=>{ci===void 0&&(ci=$o());const i=n?10:0,s={};for(const[o,a]of Object.entries(ci)){const l=o==="ansi16"?"ansi":o;o===t?s[l]=e(r,i):typeof a=="object"&&(s[l]=e(a[t],i))}return s};function vf(){const e=new Map,t={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};t.color.gray=t.color.blackBright,t.bgColor.bgGray=t.bgColor.bgBlackBright,t.color.grey=t.color.blackBright,t.bgColor.bgGrey=t.bgColor.bgBlackBright;for(const[r,n]of Object.entries(t)){for(const[i,s]of Object.entries(n))t[i]={open:`[${s[0]}m`,close:`[${s[1]}m`},n[i]=t[i],e.set(s[0],s[1]);Object.defineProperty(t,r,{value:n,enumerable:!1})}return Object.defineProperty(t,"codes",{value:e,enumerable:!1}),t.color.close="[39m",t.bgColor.close="[49m",ht(t.color,"ansi",()=>pt(Uo,"ansi16",Lr,!1)),ht(t.color,"ansi256",()=>pt(Go,"ansi256",Lr,!1)),ht(t.color,"ansi16m",()=>pt(zo,"rgb",Ho,!1)),ht(t.bgColor,"ansi",()=>pt(Uo,"ansi16",Lr,!0)),ht(t.bgColor,"ansi256",()=>pt(Go,"ansi256",Lr,!0)),ht(t.bgColor,"ansi16m",()=>pt(zo,"rgb",Ho,!0)),t}Object.defineProperty(Bo,"exports",{enumerable:!0,get:vf})});var di=p((ab,Vo)=>{"use strict";Vo.exports=(e,t=process.argv)=>{const r=e.startsWith("-")?"":e.length===1?"-":"--",n=t.indexOf(r+e),i=t.indexOf("--");return n!==-1&&(i===-1||n<i)}});var Yt=p((lb,Yo)=>{"use strict";const Ef=require("os"),Jo=require("tty"),fe=di(),{env:q}=process;let Fe;fe("no-color")||fe("no-colors")||fe("color=false")||fe("color=never")?Fe=0:(fe("color")||fe("colors")||fe("color=true")||fe("color=always"))&&(Fe=1);"FORCE_COLOR"in q&&(q.FORCE_COLOR==="true"?Fe=1:q.FORCE_COLOR==="false"?Fe=0:Fe=q.FORCE_COLOR.length===0?1:Math.min(parseInt(q.FORCE_COLOR,10),3));function fi(e){return e===0?!1:{level:e,hasBasic:!0,has256:e>=2,has16m:e>=3}}function hi(e,t){if(Fe===0)return 0;if(fe("color=16m")||fe("color=full")||fe("color=truecolor"))return 3;if(fe("color=256"))return 2;if(e&&!t&&Fe===void 0)return 0;const r=Fe||0;if(q.TERM==="dumb")return r;if(process.platform==="win32"){const n=Ef.release().split(".");return Number(n[0])>=10&&Number(n[2])>=10586?Number(n[2])>=14931?3:2:1}if("CI"in q)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI"].some(n=>n in q)||q.CI_NAME==="codeship"?1:r;if("TEAMCITY_VERSION"in q)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(q.TEAMCITY_VERSION)?1:0;if("GITHUB_ACTIONS"in q)return 1;if(q.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in q){const n=parseInt((q.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(q.TERM_PROGRAM){case"iTerm.app":return n>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(q.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(q.TERM)||"COLORTERM"in q?1:r}function Tf(e){const t=hi(e,e&&e.isTTY);return fi(t)}Yo.exports={supportsColor:Tf,stdout:fi(hi(!0,Jo.isatty(1))),stderr:fi(hi(!0,Jo.isatty(2)))}});var Ko=p((ub,Qo)=>{"use strict";const Af=(e,t,r)=>{let n=e.indexOf(t);if(n===-1)return e;const i=t.length;let s=0,o="";do o+=e.substr(s,n-s)+t+r,s=n+i,n=e.indexOf(t,s);while(n!==-1);return o+=e.substr(s),o},Df=(e,t,r,n)=>{let i=0,s="";do{const o=e[n-1]==="\r";s+=e.substr(i,(o?n-1:n)-i)+t+(o?`\r
`:`
`)+r,i=n+1,n=e.indexOf(`
`,i)}while(n!==-1);return s+=e.substr(i),s};Qo.exports={stringReplaceAll:Af,stringEncaseCRLFWithFirstIndex:Df}});var ra=p((cb,Xo)=>{"use strict";const Cf=/(?:\\(u(?:[a-f\d]{4}|\{[a-f\d]{1,6}\})|x[a-f\d]{2}|.))|(?:\{(~)?(\w+(?:\([^)]*\))?(?:\.\w+(?:\([^)]*\))?)*)(?:[ \t]|(?=\r?\n)))|(\})|((?:.|[\r\n\f])+?)/gi,Zo=/(?:^|\.)(\w+)(?:\(([^)]*)\))?/g,xf=/^(['"])((?:\\.|(?!\1)[^\\])*)\1$/,Sf=/\\(u(?:[a-f\d]{4}|{[a-f\d]{1,6}})|x[a-f\d]{2}|.)|([^\\])/gi,Of=new Map([["n",`
`],["r","\r"],["t","	"],["b","\b"],["f","\f"],["v","\v"],["0","\0"],["\\","\\"],["e",""],["a","\x07"]]);function ea(e){const t=e[0]==="u",r=e[1]==="{";return t&&!r&&e.length===5||e[0]==="x"&&e.length===3?String.fromCharCode(parseInt(e.slice(1),16)):t&&r?String.fromCodePoint(parseInt(e.slice(2,-1),16)):Of.get(e)||e}function If(e,t){const r=[],n=t.trim().split(/\s*,\s*/g);let i;for(const s of n){const o=Number(s);if(!Number.isNaN(o))r.push(o);else if(i=s.match(xf))r.push(i[2].replace(Sf,(a,l,d)=>l?ea(l):d));else throw new Error(`Invalid Chalk template style argument: ${s} (in style '${e}')`)}return r}function kf(e){Zo.lastIndex=0;const t=[];let r;for(;(r=Zo.exec(e))!==null;){const n=r[1];if(r[2]){const i=If(n,r[2]);t.push([n].concat(i))}else t.push([n])}return t}function ta(e,t){const r={};for(const i of t)for(const s of i.styles)r[s[0]]=i.inverse?null:s.slice(1);let n=e;for(const[i,s]of Object.entries(r)){if(!Array.isArray(s))continue;if(!(i in n))throw new Error(`Unknown Chalk style: ${i}`);n=s.length>0?n[i](...s):n[i]}return n}Xo.exports=(e,t)=>{const r=[],n=[];let i=[];if(t.replace(Cf,(s,o,a,l,d,u)=>{if(o)i.push(ea(o));else if(l){const c=i.join("");i=[],n.push(r.length===0?c:ta(e,r)(c)),r.push({inverse:a,styles:kf(l)})}else if(d){if(r.length===0)throw new Error("Found extraneous } in Chalk template literal");n.push(ta(e,r)(i.join(""))),i=[],r.pop()}else i.push(u)}),n.push(i.join("")),r.length>0){const s=`Chalk template literal is missing ${r.length} closing bracket${r.length===1?"":"s"} (\`}\`)`;throw new Error(s)}return n.join("")}});var ve=p((db,na)=>{"use strict";const Jt=Wo(),{stdout:pi,stderr:mi}=Yt(),{stringReplaceAll:_f,stringEncaseCRLFWithFirstIndex:Rf}=Ko(),{isArray:Nr}=Array,ia=["ansi","ansi","ansi256","ansi16m"],mt=Object.create(null),Pf=(e,t={})=>{if(t.level&&!(Number.isInteger(t.level)&&t.level>=0&&t.level<=3))throw new Error("The `level` option should be an integer from 0 to 3");const r=pi?pi.level:0;e.level=t.level===void 0?r:t.level};class Lf{constructor(e){return sa(e)}}const sa=e=>{const t={};return Pf(t,e),t.template=(...r)=>oa(t.template,...r),Object.setPrototypeOf(t,Fr.prototype),Object.setPrototypeOf(t.template,t),t.template.constructor=()=>{throw new Error("`chalk.constructor()` is deprecated. Use `new chalk.Instance()` instead.")},t.template.Instance=Lf,t.template};function Fr(e){return sa(e)}for(const[e,t]of Object.entries(Jt))mt[e]={get(){const r=jr(this,gi(t.open,t.close,this._styler),this._isEmpty);return Object.defineProperty(this,e,{value:r}),r}};mt.visible={get(){const e=jr(this,this._styler,!0);return Object.defineProperty(this,"visible",{value:e}),e}};const aa=["rgb","hex","keyword","hsl","hsv","hwb","ansi","ansi256"];for(const e of aa)mt[e]={get(){const{level:t}=this;return function(...r){const n=gi(Jt.color[ia[t]][e](...r),Jt.color.close,this._styler);return jr(this,n,this._isEmpty)}}};for(const e of aa){const t="bg"+e[0].toUpperCase()+e.slice(1);mt[t]={get(){const{level:r}=this;return function(...n){const i=gi(Jt.bgColor[ia[r]][e](...n),Jt.bgColor.close,this._styler);return jr(this,i,this._isEmpty)}}}}const Nf=Object.defineProperties(()=>{},{...mt,level:{enumerable:!0,get(){return this._generator.level},set(e){this._generator.level=e}}}),gi=(e,t,r)=>{let n,i;return r===void 0?(n=e,i=t):(n=r.openAll+e,i=t+r.closeAll),{open:e,close:t,openAll:n,closeAll:i,parent:r}},jr=(e,t,r)=>{const n=(...i)=>Nr(i[0])&&Nr(i[0].raw)?la(n,oa(n,...i)):la(n,i.length===1?""+i[0]:i.join(" "));return Object.setPrototypeOf(n,Nf),n._generator=e,n._styler=t,n._isEmpty=r,n},la=(e,t)=>{if(e.level<=0||!t)return e._isEmpty?"":t;let r=e._styler;if(r===void 0)return t;const{openAll:n,closeAll:i}=r;if(t.indexOf("")!==-1)for(;r!==void 0;)t=_f(t,r.close,r.open),r=r.parent;const s=t.indexOf(`
`);return s!==-1&&(t=Rf(t,i,n,s)),n+t+i};let yi;const oa=(e,...t)=>{const[r]=t;if(!Nr(r)||!Nr(r.raw))return t.join(" ");const n=t.slice(1),i=[r.raw[0]];for(let s=1;s<r.length;s++)i.push(String(n[s-1]).replace(/[{}\\]/g,"\\$&"),String(r.raw[s]));return yi===void 0&&(yi=ra()),yi(e,i.join(""))};Object.defineProperties(Fr.prototype,mt);const qr=Fr();qr.supportsColor=pi;qr.stderr=Fr({level:mi?mi.level:0});qr.stderr.supportsColor=mi;na.exports=qr});var wi=p((fb,ua)=>{var gt=1e3,yt=gt*60,wt=yt*60,Qe=wt*24,Ff=Qe*7,jf=Qe*365.25;ua.exports=function(e,t){t=t||{};var r=typeof e;if(r==="string"&&e.length>0)return qf(e);if(r==="number"&&isFinite(e))return t.long?Bf(e):$f(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function qf(e){if(e=String(e),e.length>100)return;var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(!t)return;var r=parseFloat(t[1]),n=(t[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return r*jf;case"weeks":case"week":case"w":return r*Ff;case"days":case"day":case"d":return r*Qe;case"hours":case"hour":case"hrs":case"hr":case"h":return r*wt;case"minutes":case"minute":case"mins":case"min":case"m":return r*yt;case"seconds":case"second":case"secs":case"sec":case"s":return r*gt;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}function $f(e){var t=Math.abs(e);return t>=Qe?Math.round(e/Qe)+"d":t>=wt?Math.round(e/wt)+"h":t>=yt?Math.round(e/yt)+"m":t>=gt?Math.round(e/gt)+"s":e+"ms"}function Bf(e){var t=Math.abs(e);return t>=Qe?$r(e,t,Qe,"day"):t>=wt?$r(e,t,wt,"hour"):t>=yt?$r(e,t,yt,"minute"):t>=gt?$r(e,t,gt,"second"):e+" ms"}function $r(e,t,r,n){var i=t>=r*1.5;return Math.round(e/r)+" "+n+(i?"s":"")}});var bi=p((hb,ca)=>{function Uf(e){r.debug=r,r.default=r,r.coerce=d,r.disable=o,r.enable=s,r.enabled=a,r.humanize=wi(),Object.keys(e).forEach(u=>{r[u]=e[u]}),r.instances=[],r.names=[],r.skips=[],r.formatters={};function t(u){let c=0;for(let f=0;f<u.length;f++)c=(c<<5)-c+u.charCodeAt(f),c|=0;return r.colors[Math.abs(c)%r.colors.length]}r.selectColor=t;function r(u){let c;function f(...h){if(!f.enabled)return;const m=f,b=Number(new Date),g=b-(c||b);m.diff=g,m.prev=c,m.curr=b,c=b,h[0]=r.coerce(h[0]),typeof h[0]!="string"&&h.unshift("%O");let w=0;h[0]=h[0].replace(/%([a-zA-Z%])/g,(y,v)=>{if(y==="%%")return y;w++;const A=r.formatters[v];if(typeof A=="function"){const _=h[w];y=A.call(m,_),h.splice(w,1),w--}return y}),r.formatArgs.call(m,h);const M=m.log||r.log;M.apply(m,h)}return f.namespace=u,f.enabled=r.enabled(u),f.useColors=r.useColors(),f.color=r.selectColor(u),f.destroy=n,f.extend=i,typeof r.init=="function"&&r.init(f),r.instances.push(f),f}function n(){const u=r.instances.indexOf(this);return u!==-1?(r.instances.splice(u,1),!0):!1}function i(u,c){const f=r(this.namespace+(typeof c=="undefined"?":":c)+u);return f.log=this.log,f}function s(u){r.save(u),r.names=[],r.skips=[];let c;const f=(typeof u=="string"?u:"").split(/[\s,]+/),h=f.length;for(c=0;c<h;c++){if(!f[c])continue;u=f[c].replace(/\*/g,".*?"),u[0]==="-"?r.skips.push(new RegExp("^"+u.substr(1)+"$")):r.names.push(new RegExp("^"+u+"$"))}for(c=0;c<r.instances.length;c++){const m=r.instances[c];m.enabled=r.enabled(m.namespace)}}function o(){const u=[...r.names.map(l),...r.skips.map(l).map(c=>"-"+c)].join(",");return r.enable(""),u}function a(u){if(u[u.length-1]==="*")return!0;let c,f;for(c=0,f=r.skips.length;c<f;c++)if(r.skips[c].test(u))return!1;for(c=0,f=r.names.length;c<f;c++)if(r.names[c].test(u))return!0;return!1}function l(u){return u.toString().substring(2,u.toString().length-2).replace(/\.\*\?$/,"*")}function d(u){return u instanceof Error?u.stack||u.message:u}return r.enable(r.load()),r}ca.exports=Uf});var da=p((he,Br)=>{he.formatArgs=Gf;he.save=zf;he.load=Hf;he.useColors=Wf;he.storage=Vf();he.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function Wf(){return typeof window!="undefined"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document!="undefined"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window!="undefined"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function Gf(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+Br.exports.humanize(this.diff),!this.useColors)return;const t="color: "+this.color;e.splice(1,0,t,"color: inherit");let r=0,n=0;e[0].replace(/%[a-zA-Z%]/g,i=>{if(i==="%%")return;r++,i==="%c"&&(n=r)}),e.splice(n,0,t)}he.log=console.debug||console.log||(()=>{});function zf(e){try{e?he.storage.setItem("debug",e):he.storage.removeItem("debug")}catch(t){}}function Hf(){let e;try{e=he.storage.getItem("debug")}catch(t){}return!e&&typeof process!="undefined"&&"env"in process&&(e=process.env.DEBUG),e}function Vf(){try{return localStorage}catch(e){}}Br.exports=bi()(he);const{formatters:Yf}=Br.exports;Yf.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}});var ha=p((W,Ur)=>{const Jf=require("tty"),Mi=require("util");W.init=Qf;W.log=Kf;W.formatArgs=Xf;W.save=Zf;W.load=eh;W.useColors=th;W.colors=[6,2,3,4,5,1];try{const e=Yt();e&&(e.stderr||e).level>=2&&(W.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch(e){}W.inspectOpts=Object.keys(process.env).filter(e=>/^debug_/i.test(e)).reduce((e,t)=>{const r=t.substring(6).toLowerCase().replace(/_([a-z])/g,(i,s)=>s.toUpperCase());let n=process.env[t];return/^(yes|on|true|enabled)$/i.test(n)?n=!0:/^(no|off|false|disabled)$/i.test(n)?n=!1:n==="null"?n=null:n=Number(n),e[r]=n,e},{});function th(){return"colors"in W.inspectOpts?Boolean(W.inspectOpts.colors):Jf.isatty(process.stderr.fd)}function Xf(e){const{namespace:t,useColors:r}=this;if(r){const n=this.color,i="[3"+(n<8?n:"8;5;"+n),s=`  ${i};1m${t} [0m`;e[0]=s+e[0].split(`
`).join(`
`+s),e.push(i+"m+"+Ur.exports.humanize(this.diff)+"[0m")}else e[0]=rh()+t+" "+e[0]}function rh(){return W.inspectOpts.hideDate?"":new Date().toISOString()+" "}function Kf(...e){return process.stderr.write(Mi.format(...e)+`
`)}function Zf(e){e?process.env.DEBUG=e:delete process.env.DEBUG}function eh(){return process.env.DEBUG}function Qf(e){e.inspectOpts={};const t=Object.keys(W.inspectOpts);for(let r=0;r<t.length;r++)e.inspectOpts[t[r]]=W.inspectOpts[t[r]]}Ur.exports=bi()(W);const{formatters:fa}=Ur.exports;fa.o=function(e){return this.inspectOpts.colors=this.useColors,Mi.inspect(e,this.inspectOpts).replace(/\s*\n\s*/g," ")};fa.O=function(e){return this.inspectOpts.colors=this.useColors,Mi.inspect(e,this.inspectOpts)}});var Ei=p((pb,vi)=>{typeof process=="undefined"||process.type==="renderer"||process.browser===!0||process.__nwjs?vi.exports=da():vi.exports=ha()});var ma=p(Ee=>{"use strict";var nh=Ee&&Ee.__awaiter||function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{d(n.next(u))}catch(c){o(c)}}function l(u){try{d(n.throw(u))}catch(c){o(c)}}function d(u){u.done?s(u.value):i(u.value).then(a,l)}d((n=n.apply(e,t||[])).next())})},Ti=Ee&&Ee.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ee,"__esModule",{value:!0});Ee.GeneratorProcess=Ee.GeneratorError=void 0;const ih=si(),sh=Ti(ai()),oh=Ti(ve()),ah=Ti(Ei()),lh=ah.default("GeneratorProcess");let uh=1;class pa extends Error{constructor(e,t,r){super(e);this.code=t,this.data=r}}Ee.GeneratorError=pa;class ch{constructor(e){this.executablePath=e,this.listeners={},this.exitCode=null,this.stderrLogs=""}init(){return nh(this,void 0,void 0,function*(){return this.initPromise||(this.initPromise=this.initSingleton()),this.initPromise})}initSingleton(){return new Promise((e,t)=>{try{this.child=ih.spawn(this.executablePath,{stdio:["pipe","inherit","pipe"],env:Object.assign(Object.assign({},process.env),{PRISMA_GENERATOR_INVOCATION:"true"}),shell:!0}),this.child.on("exit",r=>{this.exitCode=r,r&&r>0&&this.currentGenerateDeferred&&this.currentGenerateDeferred.reject(new Error(this.stderrLogs.split(`
`).slice(-5).join(`
`)))}),this.child.on("error",r=>{this.lastError=r,r.message.includes("EACCES")?t(new Error(`The executable at ${this.executablePath} lacks the right chmod. Please use ${oh.default.bold(`chmod +x ${this.executablePath}`)}`)):t(r)}),sh.default(this.child.stderr).on("data",r=>{const n=String(r);this.stderrLogs+=n+`
`;let i;try{i=JSON.parse(n)}catch(s){lh(n)}i&&this.handleResponse(i)}),setTimeout(()=>{this.exitCode&&this.exitCode>0?t(new Error(`Generator at ${this.executablePath} could not start:

${this.stderrLogs}`)):e()},200)}catch(r){t(r)}})}handleResponse(e){if(e.jsonrpc&&e.id){if(typeof e.id!="number")throw new Error(`message.id has to be a number. Found value ${e.id}`);if(this.listeners[e.id]){if(e.error){const t=new pa(e.error.message,e.error.code,e.error.data);this.listeners[e.id](null,t)}else this.listeners[e.id](e.result);delete this.listeners[e.id]}}}registerListener(e,t){this.listeners[e]=t}sendMessage(e){this.child.stdin.write(JSON.stringify(e)+`
`)}getMessageId(){return uh++}stop(){this.child.killed||this.child.kill()}getManifest(){return new Promise((e,t)=>{const r=this.getMessageId();this.registerListener(r,(n,i)=>{if(i)return t(i);n.manifest?e(n.manifest):e(null)}),this.sendMessage({jsonrpc:"2.0",method:"getManifest",params:{},id:r})})}generate(e){return new Promise((t,r)=>{const n=this.getMessageId();this.currentGenerateDeferred={resolve:t,reject:r},this.registerListener(n,(i,s)=>{if(s){r(s),this.currentGenerateDeferred=void 0;return}t(i),this.currentGenerateDeferred=void 0}),this.sendMessage({jsonrpc:"2.0",method:"generate",params:e,id:n})})}}Ee.GeneratorProcess=ch});var ga=p(je=>{"use strict";var dh=je&&je.__awaiter||function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{d(n.next(u))}catch(c){o(c)}}function l(u){try{d(n.throw(u))}catch(c){o(c)}}function d(u){u.done?s(u.value):i(u.value).then(a,l)}d((n=n.apply(e,t||[])).next())})},fh=je&&je.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(je,"__esModule",{value:!0});je.generatorHandler=void 0;const hh=fh(ai());function ph(e){hh.default(process.stdin).on("data",t=>dh(this,void 0,void 0,function*(){const r=JSON.parse(String(t));if(r.method==="generate"&&r.params)try{const n=yield e.onGenerate(r.params);Qt({jsonrpc:"2.0",result:n,id:r.id})}catch(n){Qt({jsonrpc:"2.0",error:{code:-32e3,message:n.stack||n.message,data:null},id:r.id})}if(r.method==="getManifest")if(e.onManifest)try{const n=e.onManifest();Qt({jsonrpc:"2.0",result:{manifest:n},id:r.id})}catch(n){Qt({jsonrpc:"2.0",error:{code:-32e3,message:n.stack||n.message,data:null},id:r.id})}else Qt({jsonrpc:"2.0",result:{manifest:null},id:r.id})})),process.stdin.resume()}je.generatorHandler=ph;function Qt(e){console.error(JSON.stringify(e))}});var wa=p(ya=>{"use strict";Object.defineProperty(ya,"__esModule",{value:!0})});var ba=p(Kt=>{"use strict";Object.defineProperty(Kt,"__esModule",{value:!0});Kt.DMMF=void 0;var mh;(function(e){let t;(function(r){r.findOne="findOne",r.findFirst="findFirst",r.findMany="findMany",r.create="create",r.update="update",r.updateMany="updateMany",r.upsert="upsert",r.delete="delete",r.deleteMany="deleteMany"})(t=e.ModelAction||(e.ModelAction={}))})(mh=Kt.DMMF||(Kt.DMMF={}))});var Ea=p(Z=>{"use strict";var gh=Z&&Z.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Ma=Z&&Z.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&gh(t,e,r)};Object.defineProperty(Z,"__esModule",{value:!0});Z.generatorHandler=Z.GeneratorError=Z.GeneratorProcess=void 0;var va=ma();Object.defineProperty(Z,"GeneratorProcess",{enumerable:!0,get:function(){return va.GeneratorProcess}});Object.defineProperty(Z,"GeneratorError",{enumerable:!0,get:function(){return va.GeneratorError}});var yh=ga();Object.defineProperty(Z,"generatorHandler",{enumerable:!0,get:function(){return yh.generatorHandler}});Ma(wa(),Z);Ma(ba(),Z)});var Gr=p((Mb,Ta)=>{"use strict";Ta.exports=(e,t=1,r)=>{if(r={indent:" ",includeEmptyLines:!1,...r},typeof e!="string")throw new TypeError(`Expected \`input\` to be a \`string\`, got \`${typeof e}\``);if(typeof t!="number")throw new TypeError(`Expected \`count\` to be a \`number\`, got \`${typeof t}\``);if(typeof r.indent!="string")throw new TypeError(`Expected \`options.indent\` to be a \`string\`, got \`${typeof r.indent}\``);if(t===0)return e;const n=r.includeEmptyLines?/^/gm:/^(?!\s*$)/gm;return e.replace(n,r.indent.repeat(t))}});var Da=p((vb,Aa)=>{"use strict";Aa.exports=function(){function e(t,r,n,i,s){return t<r||n<r?t>n?n+1:t+1:i===s?r:r+1}return function(t,r){if(t===r)return 0;if(t.length>r.length){var n=t;t=r,r=n}for(var i=t.length,s=r.length;i>0&&t.charCodeAt(i-1)===r.charCodeAt(s-1);)i--,s--;for(var o=0;o<i&&t.charCodeAt(o)===r.charCodeAt(o);)o++;if(i-=o,s-=o,i===0||s<3)return s;var a=0,l,d,u,c,f,h,m,b,g,w,M,y,v=[];for(l=0;l<i;l++)v.push(l+1),v.push(t.charCodeAt(o+l));for(var A=v.length-1;a<s-3;)for(g=r.charCodeAt(o+(d=a)),w=r.charCodeAt(o+(u=a+1)),M=r.charCodeAt(o+(c=a+2)),y=r.charCodeAt(o+(f=a+3)),h=a+=4,l=0;l<A;l+=2)m=v[l],b=v[l+1],d=e(m,d,u,g,b),u=e(d,u,c,w,b),c=e(u,c,f,M,b),h=e(c,f,h,y,b),v[l]=h,f=c,c=u,u=d,d=m;for(;a<s;)for(g=r.charCodeAt(o+(d=a)),h=++a,l=0;l<A;l+=2)m=v[l],v[l]=h=e(m,d,h,g,v[l+1]),d=m;return h}}()});var xa=p((Eb,Ca)=>{"use strict";Ca.exports=({onlyFirst:e=!1}={})=>{const t=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:[a-zA-Z\\d]*(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PR-TZcf-ntqry=><~]))"].join("|");return new RegExp(t,e?void 0:"g")}});var Xt=p((Tb,Sa)=>{"use strict";const wh=xa();Sa.exports=e=>typeof e=="string"?e.replace(wh(),""):e});var Ia=p((Ab,Oa)=>{"use strict";Oa.exports=e=>Object.prototype.toString.call(e)==="[object RegExp]"});var _a=p((Db,ka)=>{"use strict";ka.exports=e=>{const t=typeof e;return e!==null&&(t==="object"||t==="function")}});var Ra=p(Ai=>{"use strict";Object.defineProperty(Ai,"__esModule",{value:!0});Ai.default=e=>Object.getOwnPropertySymbols(e).filter(t=>Object.prototype.propertyIsEnumerable.call(e,t))});var Pa=p(Di=>{"use strict";Object.defineProperty(Di,"__esModule",{value:!0});var Zt="<unknown>";function Ah(e){var t=e.split(`
`);return t.reduce(function(r,n){var i=bh(n)||Mh(n)||vh(n)||Th(n)||Eh(n);return i&&r.push(i),r},[])}var Dh=/^\s*at (.*?) ?\(((?:file|https?|blob|chrome-extension|native|eval|webpack|<anonymous>|\/|[a-z]:\\|\\\\).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,Ch=/\((\S*)(?::(\d+))(?::(\d+))\)/;function bh(e){var t=Dh.exec(e);if(!t)return null;var r=t[2]&&t[2].indexOf("native")===0,n=t[2]&&t[2].indexOf("eval")===0,i=Ch.exec(t[2]);return n&&i!=null&&(t[2]=i[1],t[3]=i[2],t[4]=i[3]),{file:r?null:t[2],methodName:t[1]||Zt,arguments:r?[t[2]]:[],lineNumber:t[3]?+t[3]:null,column:t[4]?+t[4]:null}}var xh=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i;function Mh(e){var t=xh.exec(e);return t?{file:t[2],methodName:t[1]||Zt,arguments:[],lineNumber:+t[3],column:t[4]?+t[4]:null}:null}var Sh=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|webpack|resource|\[native).*?|[^@]*bundle)(?::(\d+))?(?::(\d+))?\s*$/i,Oh=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i;function vh(e){var t=Sh.exec(e);if(!t)return null;var r=t[3]&&t[3].indexOf(" > eval")>-1,n=Oh.exec(t[3]);return r&&n!=null&&(t[3]=n[1],t[4]=n[2],t[5]=null),{file:t[3],methodName:t[1]||Zt,arguments:t[2]?t[2].split(","):[],lineNumber:t[4]?+t[4]:null,column:t[5]?+t[5]:null}}var Ih=/^\s*(?:([^@]*)(?:\((.*?)\))?@)?(\S.*?):(\d+)(?::(\d+))?\s*$/i;function Eh(e){var t=Ih.exec(e);return t?{file:t[3],methodName:t[1]||Zt,arguments:[],lineNumber:+t[4],column:t[5]?+t[5]:null}:null}var kh=/^\s*at (?:((?:\[object object\])?[^\\/]+(?: \[as \S+\])?) )?\(?(.*?):(\d+)(?::(\d+))?\)?\s*$/i;function Th(e){var t=kh.exec(e);return t?{file:t[2],methodName:t[1]||Zt,arguments:[],lineNumber:+t[3],column:t[4]?+t[4]:null}:null}Di.parse=Ah});var Na=p((Sb,La)=>{"use strict";La.exports=e=>{const t=e.match(/^[ \t]*(?=\S)/gm);return t?t.reduce((r,n)=>Math.min(r,n.length),Infinity):0}});var ja=p((Ob,Fa)=>{"use strict";const _h=Na();Fa.exports=e=>{const t=_h(e);if(t===0)return e;const r=new RegExp(`^[ \\t]{${t}}`,"gm");return e.replace(r,"")}});var Ci=p((Ib,qa)=>{function Rh(e){r.debug=r,r.default=r,r.coerce=d,r.disable=o,r.enable=s,r.enabled=a,r.humanize=wi(),Object.keys(e).forEach(u=>{r[u]=e[u]}),r.instances=[],r.names=[],r.skips=[],r.formatters={};function t(u){let c=0;for(let f=0;f<u.length;f++)c=(c<<5)-c+u.charCodeAt(f),c|=0;return r.colors[Math.abs(c)%r.colors.length]}r.selectColor=t;function r(u){let c;function f(...h){if(!f.enabled)return;const m=f,b=Number(new Date),g=b-(c||b);m.diff=g,m.prev=c,m.curr=b,c=b,h[0]=r.coerce(h[0]),typeof h[0]!="string"&&h.unshift("%O");let w=0;h[0]=h[0].replace(/%([a-zA-Z%])/g,(y,v)=>{if(y==="%%")return y;w++;const A=r.formatters[v];if(typeof A=="function"){const _=h[w];y=A.call(m,_),h.splice(w,1),w--}return y}),r.formatArgs.call(m,h);const M=m.log||r.log;M.apply(m,h)}return f.namespace=u,f.enabled=r.enabled(u),f.useColors=r.useColors(),f.color=t(u),f.destroy=n,f.extend=i,typeof r.init=="function"&&r.init(f),r.instances.push(f),f}function n(){const u=r.instances.indexOf(this);return u!==-1?(r.instances.splice(u,1),!0):!1}function i(u,c){const f=r(this.namespace+(typeof c=="undefined"?":":c)+u);return f.log=this.log,f}function s(u){r.save(u),r.names=[],r.skips=[];let c;const f=(typeof u=="string"?u:"").split(/[\s,]+/),h=f.length;for(c=0;c<h;c++){if(!f[c])continue;u=f[c].replace(/\*/g,".*?"),u[0]==="-"?r.skips.push(new RegExp("^"+u.substr(1)+"$")):r.names.push(new RegExp("^"+u+"$"))}for(c=0;c<r.instances.length;c++){const m=r.instances[c];m.enabled=r.enabled(m.namespace)}}function o(){const u=[...r.names.map(l),...r.skips.map(l).map(c=>"-"+c)].join(",");return r.enable(""),u}function a(u){if(u[u.length-1]==="*")return!0;let c,f;for(c=0,f=r.skips.length;c<f;c++)if(r.skips[c].test(u))return!1;for(c=0,f=r.names.length;c<f;c++)if(r.names[c].test(u))return!0;return!1}function l(u){return u.toString().substring(2,u.toString().length-2).replace(/\.\*\?$/,"*")}function d(u){return u instanceof Error?u.stack||u.message:u}return r.enable(r.load()),r}qa.exports=Rh});var $a=p((pe,zr)=>{pe.log=Ph;pe.formatArgs=Lh;pe.save=Nh;pe.load=Fh;pe.useColors=jh;pe.storage=qh();pe.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function jh(){return typeof window!="undefined"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document!="undefined"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window!="undefined"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function Lh(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+zr.exports.humanize(this.diff),!this.useColors)return;const t="color: "+this.color;e.splice(1,0,t,"color: inherit");let r=0,n=0;e[0].replace(/%[a-zA-Z%]/g,i=>{if(i==="%%")return;r++,i==="%c"&&(n=r)}),e.splice(n,0,t)}function Ph(...e){return typeof console=="object"&&console.log&&console.log(...e)}function Nh(e){try{e?pe.storage.setItem("debug",e):pe.storage.removeItem("debug")}catch(t){}}function Fh(){let e;try{e=pe.storage.getItem("debug")}catch(t){}return!e&&typeof process!="undefined"&&"env"in process&&(e=process.env.DEBUG),e}function qh(){try{return localStorage}catch(e){}}zr.exports=Ci()(pe);const{formatters:$h}=zr.exports;$h.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}});var Ua=p((V,Hr)=>{const Bh=require("tty"),xi=require("util");V.init=Uh;V.log=Gh;V.formatArgs=zh;V.save=Hh;V.load=Wh;V.useColors=Vh;V.colors=[6,2,3,4,5,1];try{const e=Yt();e&&(e.stderr||e).level>=2&&(V.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch(e){}V.inspectOpts=Object.keys(process.env).filter(e=>/^debug_/i.test(e)).reduce((e,t)=>{const r=t.substring(6).toLowerCase().replace(/_([a-z])/g,(i,s)=>s.toUpperCase());let n=process.env[t];return/^(yes|on|true|enabled)$/i.test(n)?n=!0:/^(no|off|false|disabled)$/i.test(n)?n=!1:n==="null"?n=null:n=Number(n),e[r]=n,e},{});function Vh(){return"colors"in V.inspectOpts?Boolean(V.inspectOpts.colors):Bh.isatty(process.stderr.fd)}function zh(e){const{namespace:t,useColors:r}=this;if(r){const n=this.color,i="[3"+(n<8?n:"8;5;"+n),s=`  ${i};1m${t} [0m`;e[0]=s+e[0].split(`
`).join(`
`+s),e.push(i+"m+"+Hr.exports.humanize(this.diff)+"[0m")}else e[0]=Yh()+t+" "+e[0]}function Yh(){return V.inspectOpts.hideDate?"":new Date().toISOString()+" "}function Gh(...e){return process.stderr.write(xi.format(...e)+`
`)}function Hh(e){e?process.env.DEBUG=e:delete process.env.DEBUG}function Wh(){return process.env.DEBUG}function Uh(e){e.inspectOpts={};const t=Object.keys(V.inspectOpts);for(let r=0;r<t.length;r++)e.inspectOpts[t[r]]=V.inspectOpts[t[r]]}Hr.exports=Ci()(V);const{formatters:Ba}=Hr.exports;Ba.o=function(e){return this.inspectOpts.colors=this.useColors,xi.inspect(e,this.inspectOpts).replace(/\s*\n\s*/g," ")};Ba.O=function(e){return this.inspectOpts.colors=this.useColors,xi.inspect(e,this.inspectOpts)}});var Ga=p((kb,Si)=>{typeof process=="undefined"||process.type==="renderer"||process.browser===!0||process.__nwjs?Si.exports=$a():Si.exports=Ua()});var er=p(Ke=>{"use strict";var Jh=Ke&&Ke.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ke,"__esModule",{value:!0});Ke.getLogs=void 0;const Wr=Jh(Ga()),Vr=[],Qh=100,za=[],Yr=new Map,Ha=process.env.DEBUG?process.env.DEBUG+",":"",Kh=Wr.default.skips.slice(),Xh=Wr.default.names.slice();function Zh(e){if(e[e.length-1]==="*")return!0;for(const t of Kh)if(t.test(e))return!1;for(const t of Xh)if(t.test(e))return!0;return!1}function Oi(e){const t=Wr.default(e);za.push(e),Wr.default.enable(Ha+za.join(",")),process.env.DEBUG=Ha,Zh(e)&&Yr.set(e,!0);const r=(n,...i)=>t(n,...i);return r.log=console.error.bind(console),r.color=t.color,r.namespace=t.namespace,r.enabled=t.enabled,r.destroy=t.destroy,r.extend=t.extend,t.log=(...n)=>{Vr.push(n),Vr.length>Qh&&Vr.shift(),Yr.has(e)&&r.log(...n)},r}Ke.default=Oi;Oi.enable=e=>{Yr.set(e,!0)};Oi.enabled=e=>Yr.has(e);function ep(e=7500){let t=Vr.map(r=>r.join("  ")).join(`
`);return t.length<e?t:t.slice(-e)}Ke.getLogs=ep});var Ii=p(bt=>{"use strict";Object.defineProperty(bt,"__esModule",{value:!0});bt.convertLog=bt.isRustError=void 0;function tp(e){return typeof e.is_panic!="undefined"}bt.isRustError=tp;function np(e){const t=rp(e.fields),r=t?"query":e.level.toLowerCase();return{...e,level:r,timestamp:new Date(new Date().getFullYear()+" "+e.timestamp)}}bt.convertLog=np;function rp(e){return Boolean(e.query)}});var Va=p((Pb,ki)=>{"use strict";const x=ki.exports;ki.exports.default=x;const k="[",tr="]",Mt="\x07",Jr=";",Wa=process.env.TERM_PROGRAM==="Apple_Terminal";x.cursorTo=(e,t)=>{if(typeof e!="number")throw new TypeError("The `x` argument is required");return typeof t!="number"?k+(e+1)+"G":k+(t+1)+";"+(e+1)+"H"};x.cursorMove=(e,t)=>{if(typeof e!="number")throw new TypeError("The `x` argument is required");let r="";return e<0?r+=k+-e+"D":e>0&&(r+=k+e+"C"),t<0?r+=k+-t+"A":t>0&&(r+=k+t+"B"),r};x.cursorUp=(e=1)=>k+e+"A";x.cursorDown=(e=1)=>k+e+"B";x.cursorForward=(e=1)=>k+e+"C";x.cursorBackward=(e=1)=>k+e+"D";x.cursorLeft=k+"G";x.cursorSavePosition=Wa?"7":k+"s";x.cursorRestorePosition=Wa?"8":k+"u";x.cursorGetPosition=k+"6n";x.cursorNextLine=k+"E";x.cursorPrevLine=k+"F";x.cursorHide=k+"?25l";x.cursorShow=k+"?25h";x.eraseLines=e=>{let t="";for(let r=0;r<e;r++)t+=x.eraseLine+(r<e-1?x.cursorUp():"");return e&&(t+=x.cursorLeft),t};x.eraseEndLine=k+"K";x.eraseStartLine=k+"1K";x.eraseLine=k+"2K";x.eraseDown=k+"J";x.eraseUp=k+"1J";x.eraseScreen=k+"2J";x.scrollUp=k+"S";x.scrollDown=k+"T";x.clearScreen="c";x.clearTerminal=process.platform==="win32"?`${x.eraseScreen}${k}0f`:`${x.eraseScreen}${k}3J${k}H`;x.beep=Mt;x.link=(e,t)=>[tr,"8",Jr,Jr,t,Mt,e,tr,"8",Jr,Jr,Mt].join("");x.image=(e,t={})=>{let r=`${tr}1337;File=inline=1`;return t.width&&(r+=`;width=${t.width}`),t.height&&(r+=`;height=${t.height}`),t.preserveAspectRatio===!1&&(r+=";preserveAspectRatio=0"),r+":"+e.toString("base64")+Mt};x.iTerm={setCwd:(e=process.cwd())=>`${tr}50;CurrentDir=${e}${Mt}`,annotation:(e,t={})=>{let r=`${tr}1337;`;const n=typeof t.x!="undefined",i=typeof t.y!="undefined";if((n||i)&&!(n&&i&&typeof t.length!="undefined"))throw new Error("`x`, `y` and `length` must be defined when `x` or `y` is defined");return e=e.replace(/\|/g,""),r+=t.isHidden?"AddHiddenAnnotation=":"AddAnnotation=",t.length>0?r+=(n?[e,t.length,t.x,t.y]:[t.length,e]).join("|"):r+=e,r+Mt}}});var Qa=p((Lb,Ya)=>{"use strict";const ip=Yt(),vt=di();function Ja(e){if(/^\d{3,4}$/.test(e)){const r=/(\d{1,2})(\d{2})/.exec(e);return{major:0,minor:parseInt(r[1],10),patch:parseInt(r[2],10)}}const t=(e||"").split(".").map(r=>parseInt(r,10));return{major:t[0],minor:t[1],patch:t[2]}}function _i(e){const{env:t}=process;if("FORCE_HYPERLINK"in t)return!(t.FORCE_HYPERLINK.length>0&&parseInt(t.FORCE_HYPERLINK,10)===0);if(vt("no-hyperlink")||vt("no-hyperlinks")||vt("hyperlink=false")||vt("hyperlink=never"))return!1;if(vt("hyperlink=true")||vt("hyperlink=always"))return!0;if(!ip.supportsColor(e))return!1;if(e&&!e.isTTY)return!1;if(process.platform==="win32")return!1;if("CI"in t)return!1;if("TEAMCITY_VERSION"in t)return!1;if("TERM_PROGRAM"in t){const r=Ja(t.TERM_PROGRAM_VERSION);switch(t.TERM_PROGRAM){case"iTerm.app":return r.major===3?r.minor>=1:r.major>3}}if("VTE_VERSION"in t){if(t.VTE_VERSION==="0.50.0")return!1;const r=Ja(t.VTE_VERSION);return r.major>0||r.minor>=50}return!1}Ya.exports={supportsHyperlink:_i,stdout:_i(process.stdout),stderr:_i(process.stderr)}});var Xa=p((Nb,rr)=>{"use strict";const sp=Va(),Ri=Qa(),Ka=(e,t,{target:r="stdout",...n}={})=>Ri[r]?sp.link(e,t):n.fallback===!1?e:typeof n.fallback=="function"?n.fallback(e,t):`${e} (​${t}​)`;rr.exports=(e,t,r={})=>Ka(e,t,r);rr.exports.stderr=(e,t,r={})=>Ka(e,t,{target:"stderr",...r});rr.exports.isSupported=Ri.stdout;rr.exports.stderr.isSupported=Ri.stderr});var Za=p((Fb,Qr)=>{"use strict";Qr.exports=(e={})=>{let t;if(e.repoUrl)t=e.repoUrl;else if(e.user&&e.repo)t=`https://github.com/${e.user}/${e.repo}`;else throw new Error("You need to specify either the `repoUrl` option or both the `user` and `repo` options");const r=new URL(`${t}/issues/new`),n=["body","title","labels","template","milestone","assignee","projects"];for(const i of n){let s=e[i];if(s===void 0)continue;if(i==="labels"||i==="projects"){if(!Array.isArray(s))throw new TypeError(`The \`${i}\` option should be an array`);s=s.join(",")}r.searchParams.set(i,s)}return r.toString()};Qr.exports.default=Qr.exports});var Kr=p(ee=>{"use strict";var Et=ee&&ee.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ee,"__esModule",{value:!0});ee.getRandomString=ee.getGithubIssueUrl=ee.link=ee.fixBinaryTargets=ee.plusX=void 0;const el=Et(require("fs")),op=Et(Xa()),ap=Et(Za()),lp=Et(ve()),up=Et(er()),cp=Et(require("crypto")),tl=up.default("plusX");function dp(e){const t=el.default.statSync(e),r=t.mode|64|8|1;if(t.mode===r){tl(`Execution permissions of ${e} are fine`);return}const n=r.toString(8).slice(-3);tl(`Have to call plusX on ${e}`),el.default.chmodSync(e,n)}ee.plusX=dp;function fp(e,t){return e=e||[],e.includes("native")?[...e,t]:["native",...e]}ee.fixBinaryTargets=fp;function hp(e){return op.default(e,e,{fallback:t=>lp.default.underline(t)})}ee.link=hp;function pp({title:e,user:t="prisma",repo:r="prisma-client-js",template:n="bug_report.md",body:i}){return ap.default({user:t,repo:r,template:n,title:e,body:i})}ee.getGithubIssueUrl=pp;function mp(){return cp.default.randomBytes(12).toString("hex")}ee.getRandomString=mp});var Pi=p($=>{"use strict";var gp=$&&$.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty($,"__esModule",{value:!0});$.getErrorMessageWithLink=$.PrismaClientInitializationError=$.PrismaClientRustPanicError=$.PrismaClientUnknownRequestError=$.PrismaClientKnownRequestError=$.getMessage=$.PrismaQueryEngineError=void 0;const yp=Ii(),wp=er(),rl=Kr(),nl=gp(Xt());class bp extends Error{constructor(e,t){super(e);this.code=t}}$.PrismaQueryEngineError=bp;function Mp(e){return typeof e=="string"?e:yp.isRustError(e)?e.message:e.fields&&e.fields.message?e.fields.reason?`${e.fields.message}: ${e.fields.reason}`:e.fields.message:JSON.stringify(e)}$.getMessage=Mp;class vp extends Error{constructor(e,t,r){super(e);this.code=t,this.meta=r}}$.PrismaClientKnownRequestError=vp;class Ep extends Error{constructor(e){super(e)}}$.PrismaClientUnknownRequestError=Ep;class Tp extends Error{constructor(e){super(e)}}$.PrismaClientRustPanicError=Tp;class Ap extends Error{constructor(e){super(e)}}$.PrismaClientInitializationError=Ap;function Cp({version:e,platform:t,title:r,description:n}){const i=Dp(nl.default(wp.getLogs())),s=n?`# Description
\`\`\`
${n}
\`\`\``:"",o=nl.default(`Hi Prisma Team! My Prisma Client just crashed. This is the report:
## Versions

| Name            | Version            |
|-----------------|--------------------|
| Node            | ${process.version.padEnd(19)}| 
| OS              | ${t.padEnd(19)}|
| Prisma Client   | ${e.padEnd(19)}|

${s}

## Logs
\`\`\`
${i}
\`\`\``),a=rl.getGithubIssueUrl({title:r,body:o});return`${r}

This is a non-recoverable error which probably happens when the Prisma Query Engine has a panic.

${rl.link(a)}

If you want the Prisma team to look into it, please open the link above 🙏
`}$.getErrorMessageWithLink=Cp;function Dp(e){return e.split(`
`).map(t=>t.replace(/^\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z)\s*/,"").replace(/\+\d+\s*ms$/,"")).join(`
`)}});var hl=p(Y=>{"use strict";var il=Y&&Y.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Y,"__esModule",{value:!0});Y.getPlatform=Y.getOpenSSLVersion=Y.parseOpenSSLVersion=Y.resolveDistro=Y.parseDistro=Y.getos=void 0;const xp=il(require("os")),sl=il(require("fs")),ol=require("util"),Sp=require("child_process"),Op=ol.promisify(sl.default.readFile),al=ol.promisify(sl.default.exists);async function cl(){const e=xp.default.platform();if(e==="freebsd"){const t=await Li("freebsd-version");if(t&&t.trim().length>0){const r=/^(\d+)\.?/,n=r.exec(t);if(n)return{platform:"freebsd",distro:`freebsd${n[1]}`}}}return e!=="linux"?{platform:e}:{platform:"linux",libssl:await ul(),distro:await ll()}}Y.getos=cl;function dl(e){const t=/^ID="?([^"\n]*)"?$/im,r=/^ID_LIKE="?([^"\n]*)"?$/im,n=t.exec(e),i=n&&n[1]&&n[1].toLowerCase()||"",s=r.exec(e),o=s&&s[1]&&s[1].toLowerCase()||"";return i==="raspbian"?"arm":i==="nixos"?"nixos":o.includes("centos")||o.includes("fedora")||o.includes("rhel")||i==="fedora"?"rhel":o.includes("debian")||o.includes("ubuntu")||i==="debian"?"debian":void 0}Y.parseDistro=dl;async function ll(){const e="/etc/os-release",t="/etc/alpine-release";return await al(t)?"musl":await al(e)?dl(await Op(e,"utf-8")):void 0}Y.resolveDistro=ll;function fl(e){const t=/^OpenSSL\s(\d+\.\d+)\.\d+/.exec(e);return t?t[1]+".x":void 0}Y.parseOpenSSLVersion=fl;async function ul(){const[e,t]=await Promise.all([Li("openssl version -v"),Li(`
      ls -l /lib64 | grep ssl;
      ls -l /usr/lib64 | grep ssl;
    `)]);if(e){const r=fl(e);if(r)return r}if(t){const r=/libssl\.so\.(\d+\.\d+)\.\d+/.exec(t);if(r)return r[1]+".x"}return}Y.getOpenSSLVersion=ul;async function Li(e){return new Promise(t=>{try{Sp.exec(e,(r,n)=>{t(String(n))})}catch(r){t(void 0);return}})}async function Ip(){const{platform:e,libssl:t,distro:r}=await cl();return e==="darwin"?"darwin":e==="win32"?"windows":e==="freebsd"?r:e==="openbsd"?"openbsd":e==="netbsd"?"netbsd":e==="linux"&&r==="nixos"?"linux-nixos":e==="linux"&&r==="musl"?"linux-musl":e==="linux"&&r&&t?r+"-openssl-"+t:t?"debian-openssl-"+t:r?r+"-openssl-1.1.x":"debian-openssl-1.1.x"}Y.getPlatform=Ip});var Ni=p(Tt=>{"use strict";Object.defineProperty(Tt,"__esModule",{value:!0});Tt.mayBeCompatible=Tt.platforms=void 0;Tt.platforms=["darwin","debian-openssl-1.0.x","debian-openssl-1.1.x","rhel-openssl-1.0.x","rhel-openssl-1.1.x","linux-musl","linux-nixos","windows","freebsd11","freebsd12","openbsd","netbsd","arm"];function kp(e,t){return e.startsWith("freebsd")||t.startsWith("freebsd")?!1:e==="native"||t==="native"?!0:e==="darwin"||t==="darwin"?!1:!(e==="windows"||t==="windows")}Tt.mayBeCompatible=kp});var ml=p(Te=>{"use strict";Object.defineProperty(Te,"__esModule",{value:!0});Te.platforms=Te.mayBeCompatible=Te.getos=Te.getPlatform=void 0;var pl=hl();Object.defineProperty(Te,"getPlatform",{enumerable:!0,get:function(){return pl.getPlatform}});Object.defineProperty(Te,"getos",{enumerable:!0,get:function(){return pl.getos}});var _p=Ni();Object.defineProperty(Te,"mayBeCompatible",{enumerable:!0,get:function(){return _p.mayBeCompatible}});var Rp=Ni();Object.defineProperty(Te,"platforms",{enumerable:!0,get:function(){return Rp.platforms}})});var Fi=p(Ae=>{"use strict";var Pp=Ae&&Ae.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ae,"__esModule",{value:!0});Ae.printDatamodelObject=Ae.GeneratorConfigClass=Ae.printGeneratorConfig=void 0;const Lp=Pp(Gr());function Np(e){return String(new gl(e))}Ae.printGeneratorConfig=Np;class gl{constructor(e){this.config=e}toString(){const{config:e}=this,t=JSON.parse(JSON.stringify({provider:e.provider,binaryTargets:e.binaryTargets||void 0}));return`generator ${e.name} {
${Lp.default(yl(t),2)}
}`}}Ae.GeneratorConfigClass=gl;function yl(e){const t=Object.keys(e).reduce((r,n)=>Math.max(r,n.length),0);return Object.entries(e).map(([r,n])=>`${r.padEnd(t)} = ${Fp(n)}`).join(`
`)}Ae.printDatamodelObject=yl;function Fp(e){return JSON.parse(JSON.stringify(e,(t,r)=>Array.isArray(r)?`[${r.map(n=>JSON.stringify(n)).join(", ")}]`:JSON.stringify(r)))}});var qi=p((nr,Xr)=>{"use strict";Object.defineProperty(nr,"__esModule",{value:!0});nr.createLineStream=void 0;var ji=require("stream"),jp=require("util");function qp(e,t){return Xr.exports.createStream(e,t)}nr.default=qp;Xr.exports.createStream=function(e,t){return e?wl(e,t):new qe(t)};function wl(e,t){if(!e)throw new Error("expected readStream");if(!e.readable)throw new Error("readStream must be readable");var r=new qe(t);return e.pipe(r),r}nr.createLineStream=wl;Xr.exports.LineStream=qe;function qe(e){ji.Transform.call(this,e),e=e||{},this._readableState.objectMode=!0,this._lineBuffer=[],this._keepEmptyLines=e.keepEmptyLines||!1,this._lastChunkEndedWithCR=!1,this.on("pipe",function(t){this.encoding||t instanceof ji.Readable&&(this.encoding=t._readableState.encoding)})}jp.inherits(qe,ji.Transform);qe.prototype._transform=function(e,t,r){t=t||"utf8",Buffer.isBuffer(e)&&(t=="buffer"?(e=e.toString(),t="utf8"):e=e.toString(t)),this._chunkEncoding=t;var n=e.split(/\r\n|\r|\n/g);this._lastChunkEndedWithCR&&e[0]==`
`&&n.shift(),this._lineBuffer.length>0&&(this._lineBuffer[this._lineBuffer.length-1]+=n[0],n.shift()),this._lastChunkEndedWithCR=e[e.length-1]=="\r",this._lineBuffer=this._lineBuffer.concat(n),this._pushBuffer(t,1,r)};qe.prototype._pushBuffer=function(e,t,r){for(;this._lineBuffer.length>t;){var n=this._lineBuffer.shift();if((this._keepEmptyLines||n.length>0)&&!this.push(this._reencode(n,e))){var i=this;setImmediate(function(){i._pushBuffer(e,t,r)});return}}r()};qe.prototype._flush=function(e){this._pushBuffer(this._chunkEncoding,0,e)};qe.prototype._reencode=function(e,t){return this.encoding&&this.encoding!=t?Buffer.from(e,t).toString(this.encoding):this.encoding?e:Buffer.from(e,t)}});var Ml=p((zb,bl)=>{function me(e,t){typeof t=="boolean"&&(t={forever:t}),this._originalTimeouts=JSON.parse(JSON.stringify(e)),this._timeouts=e,this._options=t||{},this._maxRetryTime=t&&t.maxRetryTime||Infinity,this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._operationStart=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}bl.exports=me;me.prototype.reset=function(){this._attempts=1,this._timeouts=this._originalTimeouts};me.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timeouts=[],this._cachedTimeouts=null};me.prototype.retry=function(e){if(this._timeout&&clearTimeout(this._timeout),!e)return!1;var t=new Date().getTime();if(e&&t-this._operationStart>=this._maxRetryTime)return this._errors.unshift(new Error("RetryOperation timeout occurred")),!1;this._errors.push(e);var r=this._timeouts.shift();if(r===void 0)if(this._cachedTimeouts)this._errors.splice(this._errors.length-1,this._errors.length),this._timeouts=this._cachedTimeouts.slice(0),r=this._timeouts.shift();else return!1;var n=this,i=setTimeout(function(){n._attempts++,n._operationTimeoutCb&&(n._timeout=setTimeout(function(){n._operationTimeoutCb(n._attempts)},n._operationTimeout),n._options.unref&&n._timeout.unref()),n._fn(n._attempts)},r);return this._options.unref&&i.unref(),!0};me.prototype.attempt=function(e,t){this._fn=e,t&&(t.timeout&&(this._operationTimeout=t.timeout),t.cb&&(this._operationTimeoutCb=t.cb));var r=this;this._operationTimeoutCb&&(this._timeout=setTimeout(function(){r._operationTimeoutCb()},r._operationTimeout)),this._operationStart=new Date().getTime(),this._fn(this._attempts)};me.prototype.try=function(e){console.log("Using RetryOperation.try() is deprecated"),this.attempt(e)};me.prototype.start=function(e){console.log("Using RetryOperation.start() is deprecated"),this.attempt(e)};me.prototype.start=me.prototype.try;me.prototype.errors=function(){return this._errors};me.prototype.attempts=function(){return this._attempts};me.prototype.mainError=function(){if(this._errors.length===0)return null;for(var e={},t=null,r=0,n=0;n<this._errors.length;n++){var i=this._errors[n],s=i.message,o=(e[s]||0)+1;e[s]=o,o>=r&&(t=i,r=o)}return t}});var vl=p(Xe=>{var $p=Ml();Xe.operation=function(e){var t=Xe.timeouts(e);return new $p(t,{forever:e&&e.forever,unref:e&&e.unref,maxRetryTime:e&&e.maxRetryTime})};Xe.timeouts=function(e){if(e instanceof Array)return[].concat(e);var t={retries:10,factor:2,minTimeout:1*1e3,maxTimeout:Infinity,randomize:!1};for(var r in e)t[r]=e[r];if(t.minTimeout>t.maxTimeout)throw new Error("minTimeout is greater than maxTimeout");for(var n=[],i=0;i<t.retries;i++)n.push(this.createTimeout(i,t));return e&&e.forever&&!n.length&&n.push(this.createTimeout(i,t)),n.sort(function(s,o){return s-o}),n};Xe.createTimeout=function(e,t){var r=t.randomize?Math.random()+1:1,n=Math.round(r*t.minTimeout*Math.pow(t.factor,e));return n=Math.min(n,t.maxTimeout),n};Xe.wrap=function(e,t,r){if(t instanceof Array&&(r=t,t=null),!r){r=[];for(var n in e)typeof e[n]=="function"&&r.push(n)}for(var i=0;i<r.length;i++){var s=r[i],o=e[s];e[s]=function(l){var d=Xe.operation(t),u=Array.prototype.slice.call(arguments,1),c=u.pop();u.push(function(f){if(d.retry(f))return;f&&(arguments[0]=d.mainError()),c.apply(this,arguments)}),d.attempt(function(){l.apply(e,u)})}.bind(e,o),e[s].options=t}}});var Tl=p((Wb,El)=>{El.exports=vl()});var Cl=p((Vb,Zr)=>{"use strict";const Bp=Tl();class Al extends Error{constructor(e){super();e instanceof Error?(this.originalError=e,{message:e}=e):(this.originalError=new Error(e),this.originalError.stack=this.stack),this.name="AbortError",this.message=e}}const Up=(e,t,r)=>{const n=r.retries-(t-1);return e.attemptNumber=t,e.retriesLeft=n,e},Dl=(e,t)=>new Promise((r,n)=>{t={onFailedAttempt:()=>{},retries:10,...t};const i=Bp.operation(t);i.attempt(async s=>{try{r(await e(s))}catch(o){if(!(o instanceof Error)){n(new TypeError(`Non-error was thrown: "${o}". You should only throw errors.`));return}if(o instanceof Al)i.stop(),n(o.originalError);else if(o instanceof TypeError)i.stop(),n(o);else{Up(o,s,t);try{await t.onFailedAttempt(o)}catch(a){n(a);return}i.retry(o)||n(i.mainError())}}})});Zr.exports=Dl;Zr.exports.default=Dl;Zr.exports.AbortError=Al});var Sl=p((Yb,xl)=>{"use strict";xl.exports=e=>{const t=typeof e=="string"?`
`:`
`.charCodeAt(),r=typeof e=="string"?"\r":"\r".charCodeAt();return e[e.length-1]===t&&(e=e.slice(0,e.length-1)),e[e.length-1]===r&&(e=e.slice(0,e.length-1)),e}});var kl=p((Jb,ir)=>{"use strict";const sr=require("path"),Ol=Kn(),Il=e=>{e={cwd:process.cwd(),path:process.env[Ol()],execPath:process.execPath,...e};let t,r=sr.resolve(e.cwd);const n=[];for(;t!==r;)n.push(sr.join(r,"node_modules/.bin")),t=r,r=sr.resolve(r,"..");const i=sr.resolve(e.cwd,e.execPath,"..");return n.push(i),n.concat(e.path).join(sr.delimiter)};ir.exports=Il;ir.exports.default=Il;ir.exports.env=e=>{e={env:process.env,...e};const t={...e.env},r=Ol({env:t});return e.path=t[r],t[r]=ir.exports(e),t}});var Rl=p((Qb,$i)=>{"use strict";const _l=(e,t)=>{for(const r of Reflect.ownKeys(t))Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));return e};$i.exports=_l;$i.exports.default=_l});var Ll=p((Kb,en)=>{"use strict";const Gp=Rl(),tn=new WeakMap,Pl=(e,t={})=>{if(typeof e!="function")throw new TypeError("Expected a function");let r,n=!1,i=0;const s=e.displayName||e.name||"<anonymous>",o=function(...a){if(tn.set(o,++i),n){if(t.throw===!0)throw new Error(`Function \`${s}\` can only be called once`);return r}return n=!0,r=e.apply(this,a),e=null,r};return Gp(o,e),tn.set(o,i),o};en.exports=Pl;en.exports.default=Pl;en.exports.callCount=e=>{if(!tn.has(e))throw new Error(`The given function \`${e.name}\` is not wrapped by the \`onetime\` package`);return tn.get(e)}});var Nl=p(rn=>{"use strict";Object.defineProperty(rn,"__esModule",{value:!0});rn.SIGNALS=void 0;const zp=[{name:"SIGHUP",number:1,action:"terminate",description:"Terminal closed",standard:"posix"},{name:"SIGINT",number:2,action:"terminate",description:"User interruption with CTRL-C",standard:"ansi"},{name:"SIGQUIT",number:3,action:"core",description:"User interruption with CTRL-\\",standard:"posix"},{name:"SIGILL",number:4,action:"core",description:"Invalid machine instruction",standard:"ansi"},{name:"SIGTRAP",number:5,action:"core",description:"Debugger breakpoint",standard:"posix"},{name:"SIGABRT",number:6,action:"core",description:"Aborted",standard:"ansi"},{name:"SIGIOT",number:6,action:"core",description:"Aborted",standard:"bsd"},{name:"SIGBUS",number:7,action:"core",description:"Bus error due to misaligned, non-existing address or paging error",standard:"bsd"},{name:"SIGEMT",number:7,action:"terminate",description:"Command should be emulated but is not implemented",standard:"other"},{name:"SIGFPE",number:8,action:"core",description:"Floating point arithmetic error",standard:"ansi"},{name:"SIGKILL",number:9,action:"terminate",description:"Forced termination",standard:"posix",forced:!0},{name:"SIGUSR1",number:10,action:"terminate",description:"Application-specific signal",standard:"posix"},{name:"SIGSEGV",number:11,action:"core",description:"Segmentation fault",standard:"ansi"},{name:"SIGUSR2",number:12,action:"terminate",description:"Application-specific signal",standard:"posix"},{name:"SIGPIPE",number:13,action:"terminate",description:"Broken pipe or socket",standard:"posix"},{name:"SIGALRM",number:14,action:"terminate",description:"Timeout or timer",standard:"posix"},{name:"SIGTERM",number:15,action:"terminate",description:"Termination",standard:"ansi"},{name:"SIGSTKFLT",number:16,action:"terminate",description:"Stack is empty or overflowed",standard:"other"},{name:"SIGCHLD",number:17,action:"ignore",description:"Child process terminated, paused or unpaused",standard:"posix"},{name:"SIGCLD",number:17,action:"ignore",description:"Child process terminated, paused or unpaused",standard:"other"},{name:"SIGCONT",number:18,action:"unpause",description:"Unpaused",standard:"posix",forced:!0},{name:"SIGSTOP",number:19,action:"pause",description:"Paused",standard:"posix",forced:!0},{name:"SIGTSTP",number:20,action:"pause",description:'Paused using CTRL-Z or "suspend"',standard:"posix"},{name:"SIGTTIN",number:21,action:"pause",description:"Background process cannot read terminal input",standard:"posix"},{name:"SIGBREAK",number:21,action:"terminate",description:"User interruption with CTRL-BREAK",standard:"other"},{name:"SIGTTOU",number:22,action:"pause",description:"Background process cannot write to terminal output",standard:"posix"},{name:"SIGURG",number:23,action:"ignore",description:"Socket received out-of-band data",standard:"bsd"},{name:"SIGXCPU",number:24,action:"core",description:"Process timed out",standard:"bsd"},{name:"SIGXFSZ",number:25,action:"core",description:"File too big",standard:"bsd"},{name:"SIGVTALRM",number:26,action:"terminate",description:"Timeout or timer",standard:"bsd"},{name:"SIGPROF",number:27,action:"terminate",description:"Timeout or timer",standard:"bsd"},{name:"SIGWINCH",number:28,action:"ignore",description:"Terminal window size changed",standard:"bsd"},{name:"SIGIO",number:29,action:"terminate",description:"I/O is available",standard:"other"},{name:"SIGPOLL",number:29,action:"terminate",description:"Watched event",standard:"other"},{name:"SIGINFO",number:29,action:"ignore",description:"Request for process information",standard:"other"},{name:"SIGPWR",number:30,action:"terminate",description:"Device running out of power",standard:"systemv"},{name:"SIGSYS",number:31,action:"core",description:"Invalid system call",standard:"other"},{name:"SIGUNUSED",number:31,action:"terminate",description:"Invalid system call",standard:"other"}];rn.SIGNALS=zp});var Bi=p(At=>{"use strict";Object.defineProperty(At,"__esModule",{value:!0});At.SIGRTMAX=At.getRealtimeSignals=void 0;const Wp=function(){const e=jl-Fl+1;return Array.from({length:e},Hp)};At.getRealtimeSignals=Wp;const Hp=function(e,t){return{name:`SIGRT${t+1}`,number:Fl+t,action:"terminate",description:"Application-specific signal (realtime)",standard:"posix"}},Fl=34,jl=64;At.SIGRTMAX=jl});var ql=p(nn=>{"use strict";Object.defineProperty(nn,"__esModule",{value:!0});nn.getSignals=void 0;var Vp=require("os"),Yp=Nl(),Jp=Bi();const Kp=function(){const e=(0,Jp.getRealtimeSignals)(),t=[...Yp.SIGNALS,...e].map(Qp);return t};nn.getSignals=Kp;const Qp=function({name:e,number:t,description:r,action:n,forced:i=!1,standard:s}){const{signals:{[e]:o}}=Vp.constants,a=o!==void 0,l=a?o:t;return{name:e,number:l,description:r,supported:a,action:n,forced:i,standard:s}}});var Bl=p(Dt=>{"use strict";Object.defineProperty(Dt,"__esModule",{value:!0});Dt.signalsByNumber=Dt.signalsByName=void 0;var Xp=require("os"),$l=ql(),Zp=Bi();const tm=function(){const e=(0,$l.getSignals)();return e.reduce(em,{})},em=function(e,{name:t,number:r,description:n,supported:i,action:s,forced:o,standard:a}){return{...e,[t]:{name:t,number:r,description:n,supported:i,action:s,forced:o,standard:a}}},rm=tm();Dt.signalsByName=rm;const im=function(){const e=(0,$l.getSignals)(),t=Zp.SIGRTMAX+1,r=Array.from({length:t},(n,i)=>nm(i,e));return Object.assign({},...r)},nm=function(e,t){const r=sm(e,t);if(r===void 0)return{};const{name:n,description:i,supported:s,action:o,forced:a,standard:l}=r;return{[e]:{name:n,number:e,description:i,supported:s,action:o,forced:a,standard:l}}},sm=function(e,t){const r=t.find(({name:n})=>Xp.constants.signals[n]===e);return r!==void 0?r:t.find(n=>n.number===e)},om=im();Dt.signalsByNumber=om});var Gl=p((r0,Ul)=>{"use strict";const{signalsByName:am}=Bl(),lm=({timedOut:e,timeout:t,errorCode:r,signal:n,signalDescription:i,exitCode:s,isCanceled:o})=>e?`timed out after ${t} milliseconds`:o?"was canceled":r!==void 0?`failed with ${r}`:n!==void 0?`was killed with ${n} (${i})`:s!==void 0?`failed with exit code ${s}`:"failed",um=({stdout:e,stderr:t,all:r,error:n,signal:i,exitCode:s,command:o,timedOut:a,isCanceled:l,killed:d,parsed:{options:{timeout:u}}})=>{s=s===null?void 0:s,i=i===null?void 0:i;const c=i===void 0?void 0:am[i].description,f=n&&n.code,h=lm({timedOut:a,timeout:u,errorCode:f,signal:i,signalDescription:c,exitCode:s,isCanceled:l}),m=`Command ${h}: ${o}`,b=Object.prototype.toString.call(n)==="[object Error]",g=b?`${m}
${n.message}`:m,w=[g,t,e].filter(Boolean).join(`
`);return b?(n.originalMessage=n.message,n.message=w):n=new Error(w),n.shortMessage=g,n.command=o,n.exitCode=s,n.signal=i,n.signalDescription=c,n.stdout=e,n.stderr=t,r!==void 0&&(n.all=r),"bufferedData"in n&&delete n.bufferedData,n.failed=!0,n.timedOut=Boolean(a),n.isCanceled=l,n.killed=d&&!a,n};Ul.exports=um});var Hl=p((n0,Ui)=>{"use strict";const sn=["stdin","stdout","stderr"],cm=e=>sn.some(t=>e[t]!==void 0),zl=e=>{if(!e)return;const{stdio:t}=e;if(t===void 0)return sn.map(n=>e[n]);if(cm(e))throw new Error(`It's not possible to provide \`stdio\` in combination with one of ${sn.map(n=>`\`${n}\``).join(", ")}`);if(typeof t=="string")return t;if(!Array.isArray(t))throw new TypeError(`Expected \`stdio\` to be of type \`string\` or \`Array\`, got \`${typeof t}\``);const r=Math.max(t.length,sn.length);return Array.from({length:r},(n,i)=>t[i])};Ui.exports=zl;Ui.exports.node=e=>{const t=zl(e);return t==="ipc"?"ipc":t===void 0||typeof t=="string"?[t,t,t,"ipc"]:t.includes("ipc")?t:[...t,"ipc"]}});var Wl=p((i0,on)=>{on.exports=["SIGABRT","SIGALRM","SIGHUP","SIGINT","SIGTERM"];process.platform!=="win32"&&on.exports.push("SIGVTALRM","SIGXCPU","SIGXFSZ","SIGUSR2","SIGTRAP","SIGSYS","SIGQUIT","SIGIOT");process.platform==="linux"&&on.exports.push("SIGIO","SIGPOLL","SIGPWR","SIGSTKFLT","SIGUNUSED")});var Jl=p((s0,or)=>{var dm=require("assert"),ar=Wl(),fm=/^win/i.test(process.platform),an=require("events");typeof an!="function"&&(an=an.EventEmitter);var H;process.__signal_exit_emitter__?H=process.__signal_exit_emitter__:(H=process.__signal_exit_emitter__=new an,H.count=0,H.emitted={});H.infinite||(H.setMaxListeners(Infinity),H.infinite=!0);or.exports=function(e,t){dm.equal(typeof e,"function","a callback must be provided for exit handler"),lr===!1&&Vl();var r="exit";t&&t.alwaysLast&&(r="afterexit");var n=function(){H.removeListener(r,e),H.listeners("exit").length===0&&H.listeners("afterexit").length===0&&Gi()};return H.on(r,e),n};or.exports.unload=Gi;function Gi(){if(!lr)return;lr=!1,ar.forEach(function(e){try{process.removeListener(e,zi[e])}catch(t){}}),process.emit=Hi,process.reallyExit=Yl,H.count-=1}function Ct(e,t,r){if(H.emitted[e])return;H.emitted[e]=!0,H.emit(e,t,r)}var zi={};ar.forEach(function(e){zi[e]=function(){var r=process.listeners(e);r.length===H.count&&(Gi(),Ct("exit",null,e),Ct("afterexit",null,e),fm&&e==="SIGHUP"&&(e="SIGINT"),process.kill(process.pid,e))}});or.exports.signals=function(){return ar};or.exports.load=Vl;var lr=!1;function Vl(){if(lr)return;lr=!0,H.count+=1,ar=ar.filter(function(e){try{return process.on(e,zi[e]),!0}catch(t){return!1}}),process.emit=pm,process.reallyExit=hm}var Yl=process.reallyExit;function hm(e){process.exitCode=e||0,Ct("exit",process.exitCode,null),Ct("afterexit",process.exitCode,null),Yl.call(process,process.exitCode)}var Hi=process.emit;function pm(e,t){if(e==="exit"){t!==void 0&&(process.exitCode=t);var r=Hi.apply(this,arguments);return Ct("exit",process.exitCode,null),Ct("afterexit",process.exitCode,null),r}else return Hi.apply(this,arguments)}});var Kl=p((o0,Ql)=>{"use strict";const mm=require("os"),gm=Jl(),ym=1e3*5,bm=(e,t="SIGTERM",r={})=>{const n=e(t);return wm(e,t,r,n),n},wm=(e,t,r,n)=>{if(!Mm(t,r,n))return;const i=vm(r),s=setTimeout(()=>{e("SIGKILL")},i);s.unref&&s.unref()},Mm=(e,{forceKillAfterTimeout:t},r)=>Em(e)&&t!==!1&&r,Em=e=>e===mm.constants.signals.SIGTERM||typeof e=="string"&&e.toUpperCase()==="SIGTERM",vm=({forceKillAfterTimeout:e=!0})=>{if(e===!0)return ym;if(!Number.isInteger(e)||e<0)throw new TypeError(`Expected the \`forceKillAfterTimeout\` option to be a non-negative integer, got \`${e}\` (${typeof e})`);return e},Tm=(e,t)=>{const r=e.kill();r&&(t.isCanceled=!0)},Am=(e,t,r)=>{e.kill(t),r(Object.assign(new Error("Timed out"),{timedOut:!0,signal:t}))},Dm=(e,{timeout:t,killSignal:r="SIGTERM"},n)=>{if(t===0||t===void 0)return n;if(!Number.isInteger(t)||t<0)throw new TypeError(`Expected the \`timeout\` option to be a non-negative integer, got \`${t}\` (${typeof t})`);let i;const s=new Promise((a,l)=>{i=setTimeout(()=>{Am(e,r,l)},t)}),o=n.finally(()=>{clearTimeout(i)});return Promise.race([s,o])},Cm=async(e,{cleanup:t,detached:r},n)=>{if(!t||r)return n;const i=gm(()=>{e.kill()});return n.finally(()=>{i()})};Ql.exports={spawnedKill:bm,spawnedCancel:Tm,setupTimeout:Dm,setExitHandler:Cm}});var Zl=p((a0,Xl)=>{"use strict";const De=e=>e!==null&&typeof e=="object"&&typeof e.pipe=="function";De.writable=e=>De(e)&&e.writable!==!1&&typeof e._write=="function"&&typeof e._writableState=="object";De.readable=e=>De(e)&&e.readable!==!1&&typeof e._read=="function"&&typeof e._readableState=="object";De.duplex=e=>De.writable(e)&&De.readable(e);De.transform=e=>De.duplex(e)&&typeof e._transform=="function"&&typeof e._transformState=="object";Xl.exports=De});var ru=p((l0,eu)=>{eu.exports=tu;function tu(e,t){if(e&&t)return tu(e)(t);if(typeof e!="function")throw new TypeError("need wrapper function");return Object.keys(e).forEach(function(n){r[n]=e[n]}),r;function r(){for(var n=new Array(arguments.length),i=0;i<n.length;i++)n[i]=arguments[i];var s=e.apply(this,n),o=n[n.length-1];return typeof s=="function"&&s!==o&&Object.keys(o).forEach(function(a){s[a]=o[a]}),s}}});var Vi=p((u0,Wi)=>{var nu=ru();Wi.exports=nu(ln);Wi.exports.strict=nu(iu);ln.proto=ln(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return ln(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return iu(this)},configurable:!0})});function ln(e){var t=function(){return t.called?t.value:(t.called=!0,t.value=e.apply(this,arguments))};return t.called=!1,t}function iu(e){var t=function(){if(t.called)throw new Error(t.onceError);return t.called=!0,t.value=e.apply(this,arguments)},r=e.name||"Function wrapped with `once`";return t.onceError=r+" shouldn't be called more than once",t.called=!1,t}});var au=p((c0,su)=>{var xm=Vi(),Sm=function(){},Om=function(e){return e.setHeader&&typeof e.abort=="function"},Im=function(e){return e.stdio&&Array.isArray(e.stdio)&&e.stdio.length===3},ou=function(e,t,r){if(typeof t=="function")return ou(e,null,t);t||(t={}),r=xm(r||Sm);var n=e._writableState,i=e._readableState,s=t.readable||t.readable!==!1&&e.readable,o=t.writable||t.writable!==!1&&e.writable,a=!1,l=function(){e.writable||d()},d=function(){o=!1,s||r.call(e)},u=function(){s=!1,o||r.call(e)},c=function(g){r.call(e,g?new Error("exited with error code: "+g):null)},f=function(g){r.call(e,g)},h=function(){process.nextTick(m)},m=function(){if(a)return;if(s&&!(i&&i.ended&&!i.destroyed))return r.call(e,new Error("premature close"));if(o&&!(n&&n.ended&&!n.destroyed))return r.call(e,new Error("premature close"))},b=function(){e.req.on("finish",d)};return Om(e)?(e.on("complete",d),e.on("abort",h),e.req?b():e.on("request",b)):o&&!n&&(e.on("end",l),e.on("close",l)),Im(e)&&e.on("exit",c),e.on("end",u),e.on("finish",d),t.error!==!1&&e.on("error",f),e.on("close",h),function(){a=!0,e.removeListener("complete",d),e.removeListener("abort",h),e.removeListener("request",b),e.req&&e.req.removeListener("finish",d),e.removeListener("end",l),e.removeListener("close",l),e.removeListener("finish",d),e.removeListener("exit",c),e.removeListener("end",u),e.removeListener("error",f),e.removeListener("close",h)}};su.exports=ou});var cu=p((d0,lu)=>{var km=Vi(),_m=au(),Yi=require("fs"),ur=function(){},Rm=/^v?\.0/.test(process.version),un=function(e){return typeof e=="function"},Pm=function(e){return Rm&&Yi?(e instanceof(Yi.ReadStream||ur)||e instanceof(Yi.WriteStream||ur))&&un(e.close):!1},Lm=function(e){return e.setHeader&&un(e.abort)},Nm=function(e,t,r,n){n=km(n);var i=!1;e.on("close",function(){i=!0}),_m(e,{readable:t,writable:r},function(o){if(o)return n(o);i=!0,n()});var s=!1;return function(o){if(i)return;if(s)return;if(s=!0,Pm(e))return e.close(ur);if(Lm(e))return e.abort();if(un(e.destroy))return e.destroy();n(o||new Error("stream was destroyed"))}},uu=function(e){e()},Fm=function(e,t){return e.pipe(t)},jm=function(){var e=Array.prototype.slice.call(arguments),t=un(e[e.length-1]||ur)&&e.pop()||ur;if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new Error("pump requires two streams per minimum");var r,n=e.map(function(i,s){var o=s<e.length-1,a=s>0;return Nm(i,o,a,function(l){if(r||(r=l),l&&n.forEach(uu),o)return;n.forEach(uu),t(r)})});return e.reduce(Fm)};lu.exports=jm});var fu=p((f0,du)=>{"use strict";const{PassThrough:qm}=require("stream");du.exports=e=>{e={...e};const{array:t}=e;let{encoding:r}=e;const n=r==="buffer";let i=!1;t?i=!(r||n):r=r||"utf8",n&&(r=null);const s=new qm({objectMode:i});r&&s.setEncoding(r);let o=0;const a=[];return s.on("data",l=>{a.push(l),i?o=a.length:o+=l.length}),s.getBufferedValue=()=>t?a:n?Buffer.concat(a,o):a.join(""),s.getBufferedLength=()=>o,s}});var Ji=p((h0,xt)=>{"use strict";const $m=cu(),Bm=fu();class hu extends Error{constructor(){super("maxBuffer exceeded");this.name="MaxBufferError"}}async function cn(e,t){if(!e)return Promise.reject(new Error("Expected a stream"));t={maxBuffer:Infinity,...t};const{maxBuffer:r}=t;let n;return await new Promise((i,s)=>{const o=a=>{a&&(a.bufferedData=n.getBufferedValue()),s(a)};n=$m(e,Bm(t),a=>{if(a){o(a);return}i()}),n.on("data",()=>{n.getBufferedLength()>r&&o(new hu)})}),n.getBufferedValue()}xt.exports=cn;xt.exports.default=cn;xt.exports.buffer=(e,t)=>cn(e,{...t,encoding:"buffer"});xt.exports.array=(e,t)=>cn(e,{...t,array:!0});xt.exports.MaxBufferError=hu});var mu=p((p0,pu)=>{"use strict";const{PassThrough:Um}=require("stream");pu.exports=function(){var e=[],t=new Um({objectMode:!0});return t.setMaxListeners(0),t.add=r,t.isEmpty=n,t.on("unpipe",i),Array.prototype.slice.call(arguments).forEach(r),t;function r(s){return Array.isArray(s)?(s.forEach(r),this):(e.push(s),s.once("end",i.bind(null,s)),s.once("error",t.emit.bind(t,"error")),s.pipe(t,{end:!1}),this)}function n(){return e.length==0}function i(s){e=e.filter(function(o){return o!==s}),!e.length&&t.readable&&t.end()}}});var bu=p((m0,gu)=>{"use strict";const yu=Zl(),wu=Ji(),Gm=mu(),zm=(e,t)=>{if(t===void 0||e.stdin===void 0)return;yu(t)?t.pipe(e.stdin):e.stdin.end(t)},Hm=(e,{all:t})=>{if(!t||!e.stdout&&!e.stderr)return;const r=Gm();return e.stdout&&r.add(e.stdout),e.stderr&&r.add(e.stderr),r},Qi=async(e,t)=>{if(!e)return;e.destroy();try{return await t}catch(r){return r.bufferedData}},Ki=(e,{encoding:t,buffer:r,maxBuffer:n})=>!e||!r?void 0:t?wu(e,{encoding:t,maxBuffer:n}):wu.buffer(e,{maxBuffer:n}),Wm=async({stdout:e,stderr:t,all:r},{encoding:n,buffer:i,maxBuffer:s},o)=>{const a=Ki(e,{encoding:n,buffer:i,maxBuffer:s}),l=Ki(t,{encoding:n,buffer:i,maxBuffer:s}),d=Ki(r,{encoding:n,buffer:i,maxBuffer:s*2});try{return await Promise.all([o,a,l,d])}catch(u){return Promise.all([{error:u,signal:u.signal,timedOut:u.timedOut},Qi(e,a),Qi(t,l),Qi(r,d)])}},Vm=({input:e})=>{if(yu(e))throw new TypeError("The `input` option cannot be a stream in sync mode")};gu.exports={handleInput:zm,makeAllStream:Hm,getSpawnedResult:Wm,validateInputSync:Vm}});var vu=p((g0,Mu)=>{"use strict";const Ym=(async()=>{})().constructor.prototype,Jm=["then","catch","finally"].map(e=>[e,Reflect.getOwnPropertyDescriptor(Ym,e)]),Qm=(e,t)=>{for(const[r,n]of Jm){const i=typeof t=="function"?(...s)=>Reflect.apply(n.value,t(),s):n.value.bind(t);Reflect.defineProperty(e,r,{...n,value:i})}return e},Km=e=>new Promise((t,r)=>{e.on("exit",(n,i)=>{t({exitCode:n,signal:i})}),e.on("error",n=>{r(n)}),e.stdin&&e.stdin.on("error",n=>{r(n)})});Mu.exports={mergePromise:Qm,getSpawnedPromise:Km}});var Tu=p((y0,Eu)=>{"use strict";const Xm=/ +/g,Zm=(e,t=[])=>Array.isArray(t)?[e,...t].join(" "):e,eg=(e,t,r)=>{if(r===0)return[t];const n=e[e.length-1];return n.endsWith("\\")?[...e.slice(0,-1),`${n.slice(0,-1)} ${t}`]:[...e,t]},tg=e=>e.trim().split(Xm).reduce(eg,[]);Eu.exports={joinCommand:Zm,parseCommand:tg}});var Iu=p((w0,St)=>{"use strict";const rg=require("path"),Xi=require("child_process"),Au=si(),ng=Sl(),ig=kl(),sg=Ll(),dn=Gl(),Du=Hl(),{spawnedKill:og,spawnedCancel:ag,setupTimeout:lg,setExitHandler:ug}=Kl(),{handleInput:cg,getSpawnedResult:dg,makeAllStream:fg,validateInputSync:hg}=bu(),{mergePromise:Cu,getSpawnedPromise:pg}=vu(),{joinCommand:xu,parseCommand:Su}=Tu(),mg=1e3*1e3*100,gg=({env:e,extendEnv:t,preferLocal:r,localDir:n,execPath:i})=>{const s=t?{...process.env,...e}:e;return r?ig.env({env:s,cwd:n,execPath:i}):s},Ou=(e,t,r={})=>{const n=Au._parse(e,t,r);return e=n.command,t=n.args,r=n.options,r={maxBuffer:mg,buffer:!0,stripFinalNewline:!0,extendEnv:!0,preferLocal:!1,localDir:r.cwd||process.cwd(),execPath:process.execPath,encoding:"utf8",reject:!0,cleanup:!0,all:!1,windowsHide:!0,...r},r.env=gg(r),r.stdio=Du(r),process.platform==="win32"&&rg.basename(e,".exe")==="cmd"&&t.unshift("/q"),{file:e,args:t,options:r,parsed:n}},cr=(e,t,r)=>typeof t!="string"&&!Buffer.isBuffer(t)?r===void 0?void 0:"":e.stripFinalNewline?ng(t):t,fn=(e,t,r)=>{const n=Ou(e,t,r),i=xu(e,t);let s;try{s=Xi.spawn(n.file,n.args,n.options)}catch(f){const h=new Xi.ChildProcess,m=Promise.reject(dn({error:f,stdout:"",stderr:"",all:"",command:i,parsed:n,timedOut:!1,isCanceled:!1,killed:!1}));return Cu(h,m)}const o=pg(s),a=lg(s,n.options,o),l=ug(s,n.options,a),d={isCanceled:!1};s.kill=og.bind(null,s.kill.bind(s)),s.cancel=ag.bind(null,s,d);const u=async()=>{const[{error:f,exitCode:h,signal:m,timedOut:b},g,w,M]=await dg(s,n.options,l),y=cr(n.options,g),v=cr(n.options,w),A=cr(n.options,M);if(f||h!==0||m!==null){const _=dn({error:f,exitCode:h,signal:m,stdout:y,stderr:v,all:A,command:i,parsed:n,timedOut:b,isCanceled:d.isCanceled,killed:s.killed});if(!n.options.reject)return _;throw _}return{command:i,exitCode:0,stdout:y,stderr:v,all:A,failed:!1,timedOut:!1,isCanceled:!1,killed:!1}},c=sg(u);return Au._enoent.hookChildProcess(s,n.parsed),cg(s,n.options.input),s.all=fg(s,n.options),Cu(s,c)};St.exports=fn;St.exports.sync=(e,t,r)=>{const n=Ou(e,t,r),i=xu(e,t);hg(n.options);let s;try{s=Xi.spawnSync(n.file,n.args,n.options)}catch(l){throw dn({error:l,stdout:"",stderr:"",all:"",command:i,parsed:n,timedOut:!1,isCanceled:!1,killed:!1})}const o=cr(n.options,s.stdout,s.error),a=cr(n.options,s.stderr,s.error);if(s.error||s.status!==0||s.signal!==null){const l=dn({stdout:o,stderr:a,error:s.error,signal:s.signal,exitCode:s.status,command:i,parsed:n,timedOut:s.error&&s.error.code==="ETIMEDOUT",isCanceled:!1,killed:s.signal!==null});if(!n.options.reject)return l;throw l}return{command:i,exitCode:0,stdout:o,stderr:a,failed:!1,timedOut:!1,isCanceled:!1,killed:!1}};St.exports.command=(e,t)=>{const[r,...n]=Su(e);return fn(r,n,t)};St.exports.commandSync=(e,t)=>{const[r,...n]=Su(e);return fn.sync(r,n,t)};St.exports.node=(e,t,r={})=>{t&&!Array.isArray(t)&&typeof t=="object"&&(r=t,t=[]);const n=Du.node(r),{nodePath:i=process.execPath,nodeOptions:s=process.execArgv}=r;return fn(i,[...s,e,...Array.isArray(t)?t:[]],{...r,stdin:void 0,stdout:void 0,stderr:void 0,stdio:n,shell:!1})}});var ku=p(hn=>{"use strict";Object.defineProperty(hn,"__esModule",{value:!0});hn.omit=void 0;function yg(e,t){return Object.keys(e).filter(r=>!t.includes(r)).reduce((r,n)=>(r[n]=e[n],r),{})}hn.omit=yg});var Ru=p((M0,_u)=>{"use strict";const{HTTPParser:wg}=process.binding("http_parser");_u.exports=wg});var Zi=p((v0,Pu)=>{Pu.exports={kUrl:Symbol("url"),kWriting:Symbol("writing"),kResuming:Symbol("resuming"),kQueue:Symbol("queue"),kConnect:Symbol("connect"),kResume:Symbol("resume"),kPause:Symbol("pause"),kSocketTimeout:Symbol("socket timeout"),kIdleTimeout:Symbol("idle timeout"),kKeepAliveMaxTimeout:Symbol("max keep alive timeout"),kKeepAliveTimeoutThreshold:Symbol("keep alive timeout threshold"),kKeepAliveTimeout:Symbol("keep alive timeout"),kKeepAlive:Symbol("keep alive"),kTLSServerName:Symbol("server name"),kHost:Symbol("host"),kTLSOpts:Symbol("TLS Options"),kClosed:Symbol("closed"),kNeedDrain:Symbol("need drain"),kReset:Symbol("reset"),kDestroyed:Symbol("destroyed"),kMaxHeadersSize:Symbol("max headers size"),kHeadersTimeout:Symbol("headers timeout"),kRunningIdx:Symbol("running index"),kPendingIdx:Symbol("pending index"),kError:Symbol("error"),kClient:Symbol("client"),kParser:Symbol("parser"),kOnDestroyed:Symbol("destroy callbacks"),kPipelining:Symbol("pipelinig"),kRetryDelay:Symbol("retry delay"),kSocketPath:Symbol("socket path"),kSocket:Symbol("socket"),kRetryTimeout:Symbol("retry timeout"),kTLSSession:Symbol("tls session cache")}});var $e=p((E0,Lu)=>{"use strict";const bg=require("assert"),{kDestroyed:Nu}=Zi(),{IncomingMessage:Mg}=require("http");function vg(){}function Fu(e){return!!(e&&typeof e.on=="function")}function Eg(e){if(e&&typeof e.on=="function"){const t=e._readableState;return t&&t.ended===!0&&Number.isFinite(t.length)?t.length:null}return bg(!e||Number.isFinite(e.byteLength)),e?e.length:0}function ju(e){return!e||!!(e.destroyed||e[Nu])}function Tg(e,t){if(!Fu(e)||ju(e))return;typeof e.destroy=="function"?(t||Object.getPrototypeOf(e).constructor!==Mg)&&e.destroy(t):t&&process.nextTick((r,n)=>{r.emit("error",n)},e,t),e.destroyed!==!0&&(e[Nu]=!0)}const Ag=/timeout=(\d+)s/;function Dg(e){const t=e.match(Ag);return t?parseInt(t[1])*1e3:null}function Cg(e){const t={};for(var r=0;r<e.length;r+=2){var n=e[r].toLowerCase(),i=t[n];i?(Array.isArray(i)||(i=[i],t[n]=i),i.push(e[r+1])):t[n]=e[r+1]}return t}function xg(e){return e instanceof Uint8Array||Buffer.isBuffer(e)}Lu.exports={nop:vg,isStream:Fu,isDestroyed:ju,parseHeaders:Cg,parseKeepAliveTimeout:Dg,destroy:Tg,bodyLength:Eg,isBuffer:xg}});var we=p((T0,qu)=>{"use strict";class te extends Error{constructor(e){super(e);this.name="UndiciError",this.code="UND_ERR"}}class $u extends te{constructor(e){super(e);Error.captureStackTrace(this,$u),this.name="HeadersTimeoutError",this.message=e||"Headers Timeout Error",this.code="UND_ERR_HEADERS_TIMEOUT"}}class Bu extends te{constructor(e){super(e);Error.captureStackTrace(this,Bu),this.name="SocketTimeoutError",this.message=e||"Socket Timeout Error",this.code="UND_ERR_SOCKET_TIMEOUT"}}class Uu extends te{constructor(e){super(e);Error.captureStackTrace(this,Uu),this.name="RequestTimeoutError",this.message=e||"Request Timeout Error",this.code="UND_ERR_REQUEST_TIMEOUT"}}class Gu extends te{constructor(e){super(e);Error.captureStackTrace(this,Gu),this.name="InvalidArgumentError",this.message=e||"Invalid Argument Error",this.code="UND_ERR_INVALID_ARG"}}class zu extends te{constructor(e){super(e);Error.captureStackTrace(this,zu),this.name="InvalidReturnValueError",this.message=e||"Invalid Return Value Error",this.code="UND_ERR_INVALID_RETURN_VALUE"}}class Hu extends te{constructor(e){super(e);Error.captureStackTrace(this,Hu),this.name="RequestAbortedError",this.message=e||"Request aborted",this.code="UND_ERR_ABORTED"}}class Wu extends te{constructor(e){super(e);Error.captureStackTrace(this,Wu),this.name="InformationalError",this.message=e||"Request information",this.code="UND_ERR_INFO"}}class Vu extends te{constructor(e){super(e);Error.captureStackTrace(this,Vu),this.name="ContentLengthMismatchError",this.message=e||"Request body length does not match content-length header",this.code="UND_ERR_CONTENT_LENGTH_MISMATCH"}}class Yu extends te{constructor(e){super(e);Error.captureStackTrace(this,Yu),this.name="TrailerMismatchError",this.message=e||"Trailers does not match trailer header",this.code="UND_ERR_TRAILER_MISMATCH"}}class Ju extends te{constructor(e){super(e);Error.captureStackTrace(this,Ju),this.name="ClientDestroyedError",this.message=e||"The client is destroyed",this.code="UND_ERR_DESTROYED"}}class Qu extends te{constructor(e){super(e);Error.captureStackTrace(this,Qu),this.name="ClientClosedError",this.message=e||"The client is closed",this.code="UND_ERR_CLOSED"}}class Ku extends te{constructor(e){super(e);Error.captureStackTrace(this,Ku),this.name="SocketError",this.message=e||"Socket error",this.code="UND_ERR_SOCKET"}}class Xu extends te{constructor(e){super(e);Error.captureStackTrace(this,Xu),this.name="NotSupportedError",this.message=e||"Not supported error",this.code="UND_ERR_NOT_SUPPORTED"}}qu.exports={UndiciError:te,SocketTimeoutError:Bu,HeadersTimeoutError:$u,RequestTimeoutError:Uu,ContentLengthMismatchError:Vu,TrailerMismatchError:Yu,InvalidArgumentError:Gu,InvalidReturnValueError:zu,RequestAbortedError:Hu,ClientDestroyedError:Ju,ClientClosedError:Qu,InformationalError:Wu,SocketError:Ku,NotSupportedError:Xu}});var rc=p((A0,Zu)=>{"use strict";const{InvalidArgumentError:ne,RequestAbortedError:Sg,RequestTimeoutError:Og,NotSupportedError:Ig}=we(),ec=$e(),dr=require("assert"),es=Symbol("request timeout"),Ot=Symbol("timeout"),Ze=Symbol("handler");class kg{constructor({path:e,method:t,body:r,headers:n,idempotent:i,upgrade:s,requestTimeout:o},a){if(typeof e!="string"||e[0]!=="/")throw new ne("path must be a valid path");if(typeof t!="string")throw new ne("method must be a string");if(s&&typeof s!="string")throw new ne("upgrade must be a string");if(o!=null&&(!Number.isInteger(o)||o<0))throw new ne("requestTimeout must be a positive integer or zero");if(this.method=t,r==null)this.body=null;else if(ec.isStream(r))this.body=r;else if(ec.isBuffer(r))this.body=r.length?r:null;else if(typeof r=="string")this.body=r.length?Buffer.from(r):null;else throw new ne("body must be a string, a Buffer or a Readable stream");if(this.aborted=!1,this.upgrade=!!s,this.path=e,this.idempotent=i==null?t==="HEAD"||t==="GET":i,this.host=null,this.contentLength=null,this.headers="",Array.isArray(n)){if(n.length%2!==0)throw new ne("headers array must be even");for(let l=0;l<n.length;l+=2)tc(this,n[l],n[l+1])}else if(n&&typeof n=="object")for(const[l,d]of Object.entries(n))tc(this,l,d);else if(n!=null)throw new ne("headers must be an object or an array");this[es]=o!=null?o:3e4,this[Ot]=null,this[Ze]=a}onConnect(e){dr(!this.aborted);const t=r=>{this.aborted||(this.onError(r||new Sg),e())};this[es]&&(this[Ot]&&clearTimeout(this[Ot]),this[Ot]=setTimeout(r=>{r(new Og)},this[es],t)),this[Ze].onConnect(t)}onHeaders(e,t,r){dr(!this.aborted),pn(this),this[Ze].onHeaders(e,t,r)}onBody(e,t,r){return dr(!this.aborted),this[Ze].onData(e.slice(t,t+r))}onUpgrade(e,t,r){dr(!this.aborted),pn(this),this[Ze].onUpgrade(e,t,r)}onComplete(e){dr(!this.aborted),pn(this),this[Ze].onComplete(e)}onError(e){if(this.aborted)return;this.aborted=!0,pn(this),this[Ze].onError(e)}}function tc(e,t,r){if(typeof r=="object")throw new ne(`invalid ${t} header`);if(r===void 0)return;if(e.host===null&&t.length===4&&t.toLowerCase()==="host")e.host=r,e.headers+=`${t}: ${r}\r
`;else if(e.contentLength===null&&t.length===14&&t.toLowerCase()==="content-length"){if(e.contentLength=parseInt(r),!Number.isFinite(e.contentLength))throw new ne("invalid content-length header")}else{if(t.length===17&&t.toLowerCase()==="transfer-encoding")throw new ne("invalid transfer-encoding header");if(t.length===10&&t.toLowerCase()==="connection")throw new ne("invalid connection header");if(t.length===10&&t.toLowerCase()==="keep-alive")throw new ne("invalid keep-alive header");if(t.length===7&&t.toLowerCase()==="upgrade")throw new ne("invalid upgrade header");if(t.length===6&&t.toLowerCase()==="expect")throw new Ig("expect header not supported");e.headers+=`${t}: ${r}\r
`}}function pn(e){const{[Ot]:t}=e;t&&(e[Ot]=null,clearTimeout(t))}Zu.exports=kg});var us=p((D0,nc)=>{"use strict";const{URL:_g}=require("url"),ts=require("net"),ic=require("tls"),xe=Ru(),Rg=require("events"),O=require("assert"),I=$e(),Pg=rc(),{ContentLengthMismatchError:rs,SocketTimeoutError:Lg,TrailerMismatchError:sc,InvalidArgumentError:K,RequestAbortedError:Ng,ClientDestroyedError:ns,ClientClosedError:Fg,HeadersTimeoutError:jg,SocketError:mn,InformationalError:fr}=we(),{kUrl:gn,kReset:be,kPause:is,kHost:yn,kResume:It,kClient:kt,kParser:ss,kConnect:qg,kResuming:et,kWriting:Be,kQueue:B,kNeedDrain:hr,kTLSServerName:wn,kIdleTimeout:bn,kSocketTimeout:os,kTLSOpts:Mn,kClosed:_t,kDestroyed:Ue,kPendingIdx:ie,kRunningIdx:U,kError:vn,kOnDestroyed:tt,kPipelining:En,kRetryDelay:rt,kRetryTimeout:Ge,kSocket:F,kSocketPath:pr,kKeepAliveTimeout:Tn,kMaxHeadersSize:oc,kHeadersTimeout:ac,kKeepAliveMaxTimeout:lc,kKeepAliveTimeoutThreshold:uc,kKeepAlive:as,kTLSSession:mr}=Zi(),cc=Symbol("host header"),dc=parseInt(process.version.split(".")[0].slice(1)),$g=process.execArgv.includes("--insecure-http-parser");class Bg extends Rg{constructor(e,{maxHeaderSize:t,headersTimeout:r,socketTimeout:n,idleTimeout:i,maxKeepAliveTimeout:s,keepAlive:o,keepAliveMaxTimeout:a=s,keepAliveTimeoutThreshold:l,socketPath:d,pipelining:u,tls:c}={}){super();if(typeof e=="string"&&(e=new _g(e)),!e||typeof e!="object")throw new K("invalid url");if(e.port!=null&&e.port!==""&&!Number.isFinite(parseInt(e.port)))throw new K("invalid port");if(d!=null&&typeof d!="string")throw new K("invalid socketPath");if(e.hostname!=null&&typeof e.hostname!="string")throw new K("invalid hostname");if(!/https?/.test(e.protocol))throw new K("invalid protocol");if(/\/.+/.test(e.pathname)||e.search||e.hash)throw new K("invalid url");if(t!=null&&!Number.isFinite(t))throw new K("invalid maxHeaderSize");if(n!=null&&!Number.isFinite(n))throw new K("invalid socketTimeout");if(i!=null&&(!Number.isFinite(i)||i<=0))throw new K("invalid idleTimeout");if(a!=null&&(!Number.isFinite(a)||a<=0))throw new K("invalid keepAliveMaxTimeout");if(o!=null&&typeof o!="boolean")throw new K("invalid keepAlive");if(l!=null&&!Number.isFinite(l))throw new K("invalid keepAliveTimeoutThreshold");if(r!=null&&!Number.isFinite(r))throw new K("invalid headersTimeout");this[F]=null,this[be]=!1,this[En]=u||1,this[oc]=t||16384,this[ac]=r==null?3e4:r,this[gn]=e,this[pr]=d,this[os]=n==null?3e4:n,this[bn]=i==null?4e3:i,this[lc]=a==null?6e5:a,this[uc]=l==null?1e3:l,this[Tn]=this[bn],this[as]=o==null?!0:o,this[_t]=!1,this[Ue]=!1,this[wn]=c&&c.servername||null,this[yn]=null,this[Mn]=c,this[rt]=0,this[Ge]=null,this[tt]=[],this[Be]=!1,this[et]=0,this[hr]=0,this[It]=()=>{this[et]===0&&Ce(this,!0)},this[mr]=null,this[cc]=`host: ${this[gn].hostname}\r
`,this[B]=[],this[U]=0,this[ie]=0}get pipelining(){return this[En]}set pipelining(e){this[En]=e,Ce(this,!0)}get connected(){return this[F]&&this[F].connecting!==!0&&(this[F].authorized!==!1||this[F].authorizationError)&&!this[F].destroyed}get pending(){return this[B].length-this[ie]}get running(){return this[ie]-this[U]}get size(){return this[B].length-this[U]}get busy(){return this[be]||this[Be]||this.pending>0}get destroyed(){return this[Ue]}get closed(){return this[_t]}[qg](e){ls(this),this.once("connect",e)}dispatch(e,t){try{const r=new Pg(e,t);if(this[Ue])throw new ns;if(this[_t])throw new Fg;this[B].push(r),this[et]||(I.isStream(r.body)?(this[et]=1,process.nextTick(Ce,this)):Ce(this,!0))}catch(r){t.onError(r)}}close(e){if(e===void 0)return new Promise((t,r)=>{this.close((n,i)=>n?r(n):t(i))});if(typeof e!="function")throw new K("invalid callback");if(this[Ue]){process.nextTick(e,new ns,null);return}this[_t]=!0,this.size?this[tt].push(e):this.destroy(e)}destroy(e,t){if(typeof e=="function"&&(t=e,e=null),t===void 0)return new Promise((n,i)=>{this.destroy(e,(s,o)=>s?i(s):n(o))});if(typeof t!="function")throw new K("invalid callback");if(this[Ue]){this[tt]?this[tt].push(t):process.nextTick(t,null,null);return}e||(e=new ns);for(const n of this[B].splice(this[ie]))n.onError(e);clearTimeout(this[Ge]),this[Ge]=null,this[_t]=!0,this[Ue]=!0,this[tt].push(t);const r=()=>{const n=this[tt];this[tt]=null;for(const i of n)i(null,null)};this[F]?I.destroy(this[F].on("close",r),e):process.nextTick(r),Ce(this)}}class Gg extends xe{constructor(e,t){if(dc>=12){super();this.initialize(xe.RESPONSE,{},e[oc],$g,e[ac])}else super(xe.RESPONSE,!1);this.client=e,this.socket=t,this.statusCode=null,this.upgrade=!1,this.headers=null,this.shouldKeepAlive=!1,this.read=0,this.request=null}[xe.kOnTimeout](){this.statusCode?this.socket._unrefTimer():I.destroy(this.socket,new jg)}[xe.kOnHeaders](e){this.headers?Array.prototype.push.apply(this.headers,e):this.headers=e}[xe.kOnExecute](e){const{upgrade:t,socket:r}=this;if(!Number.isFinite(e)){O(e instanceof Error),I.destroy(r,e);return}if(r._unrefTimer(),t&&!r.destroyed){const{client:n,headers:i,statusCode:s,request:o}=this;O(!r.destroyed),O(r===n[F]),O(!r.isPaused()),O(o.upgrade||o.method==="CONNECT"),this.headers=null,this.statusCode=null,this.request=null,r._readableState.flowing=null,r.unshift(this.getCurrentBuffer().slice(e));try{o.onUpgrade(s,i,r)}catch(a){I.destroy(r,a),o.onError(a)}!r.destroyed&&!o.aborted&&(Ug(r),n[F]=null,n[B][n[U]++]=null,n.emit("disconnect",new fr("upgrade")),setImmediate(()=>this.close()),Ce(n))}}[xe.kOnHeadersComplete](e,t,r,n,i,s,o,a,l){const{client:d,socket:u}=this,c=d[B][d[U]];if(u.destroyed)return;if(O(!this.upgrade),O(this.statusCode<200),s===100)return I.destroy(u,new mn("bad response")),1;if(a!==c.upgrade)return I.destroy(u,new mn("bad upgrade")),1;if(this.headers?Array.prototype.push.apply(this.headers,r):this.headers=r,this.statusCode=s,this.shouldKeepAlive=l,this.request=c,a||c.method==="CONNECT")return this.unconsume(),this.upgrade=!0,2;let f,h;for(let b=0;b<this.headers.length;b+=2){const g=this.headers[b+0],w=this.headers[b+1];!f&&g.length===10&&g.toLowerCase()==="keep-alive"?f=w:!h&&g.length===7&&g.toLowerCase()==="trailer"&&(h=w)}const{headers:m}=this;if(this.headers=null,this.trailers=h?h.toLowerCase().split(/,\s*/):null,l&&d[as]){const b=f?I.parseKeepAliveTimeout(f):null;if(b!=null){const g=Math.min(b-d[uc],d[lc]);g<1e3?d[be]=!0:d[Tn]=g}else d[Tn]=d[bn]}else d[be]=!0;try{c.onHeaders(s,m,s<200?null:u[It])}catch(b){return I.destroy(u,b),1}return c.method==="HEAD"||s<200?1:0}[xe.kOnBody](e,t,r){const{socket:n,statusCode:i,request:s}=this;if(n.destroyed)return;O(i>=200);try{s.onBody(e,t,r)===!1&&n[is]()}catch(o){I.destroy(n,o)}}[xe.kOnMessageComplete](){const{client:e,socket:t,statusCode:r,headers:n,upgrade:i,request:s,trailers:o}=this;if(t.destroyed)return;if(O(r>=100),i){O(r<300||s.method==="CONNECT");return}if(this.statusCode=null,this.headers=null,this.request=null,this.trailers=null,r<200){O(!t.isPaused());return}try{if(o){if(!n)throw new sc;for(const a of o){let l=!1;for(let d=0;d<n.length;d+=2){const u=n[d+0];if(u.length===a.length&&u.toLowerCase()===a.toLowerCase()){l=!0;break}}if(!l)throw new sc}}s.onComplete(n)}catch(a){I.destroy(t,a);return}e[B][e[U]++]=null,e[Be]?I.destroy(t,new fr("reset")):this.shouldKeepAlive?e[be]?e.running||I.destroy(t,new fr("reset")):(t[It](),Ce(e)):I.destroy(t,new fr("reset"))}}function zg(){const{[kt]:e}=this;O(!this.destroyed),O(!e[Be]),O(!e[Ge]),e[be]=!1,e[rt]=0,e.emit("connect"),Ce(e)}function fc(){I.destroy(this,new Lg)}function hc(e){const{[kt]:t}=this;if(this[vn]=e,e.code==="ERR_TLS_CERT_ALTNAME_INVALID")for(O(!t.running);t.pending&&t[B][t[ie]].host===t[yn];)t[B][t[ie]++].onError(e);else if(!t.running&&e.code!=="UND_ERR_INFO"&&e.code!=="UND_ERR_SOCKET"){O(t[ie]===t[U]);for(const r of t[B].splice(t[U]))r.onError(e)}}function pc(){I.destroy(this,new mn("other side closed"))}function mc(){const{[kt]:e,[ss]:t}=this,r=this[vn]||new mn("closed");if(e[F]=null,t.unconsume(),setImmediate(()=>t.close()),r.code!=="UND_ERR_INFO"&&(e[mr]=null),e[Ue]){O(!e.pending);for(const n of e[B].splice(e[U]))n.onError(r);e[ie]=e[U]}else e.running&&r.code!=="UND_ERR_INFO"&&(e[B][e[U]].onError(r),e[B][e[U]++]=null),e[ie]=e[U],e.emit("disconnect",r);Ce(e)}function gc(e){const{[kt]:t}=this;t[mr]=e}function Ug(e){e[is]=null,e[It]=null,e[kt]=null,e[ss]=null,e[vn]=null,e.removeListener("timeout",fc).removeListener("session",gc).removeListener("error",hc).removeListener("end",pc).removeListener("close",mc)}function ls(e){O(!e[F]),O(!e[Ge]);const{protocol:t,port:r,hostname:n}=e[gn];let i;if(t==="https:"){const o={...e[Mn],servername:e[wn],session:e[mr]};i=e[pr]?ic.connect(e[pr],o):ic.connect(r||443,n,o),i.on("session",gc)}else i=e[pr]?ts.connect(e[pr]):ts.connect(r||80,n);e[F]=i;const s=new Gg(e,i);dc>=12?(O(i._handle),s.consume(i._handle)):(O(i._handle&&i._handle._externalStream),s.consume(i._handle._externalStream)),i[is]=Hg.bind(i),i[It]=Wg.bind(i),i[vn]=null,i[ss]=s,i[kt]=e,i.setNoDelay(!0).setTimeout(e[bn]).on(t==="https:"?"secureConnect":"connect",zg).on("timeout",fc).on("error",hc).on("end",pc).on("close",mc)}function Hg(){this._handle&&this._handle.reading&&(this._handle.reading=!1,this._handle.readStop())}function Wg(){this._handle&&!this._handle.reading&&(this._handle.reading=!0,this._handle.readStart())}function yc(e){e[hr]=0,e.emit("drain")}function Ce(e,t){if(e[et]===2)return;e[et]=2,Vg(e,t),e[et]=0,e[U]>256&&(e[B].splice(0,e[U]),e[ie]-=e[U],e[U]=0)}function Vg(e,t){for(;;){if(e[Ue]){O(!e.pending);return}if(e[_t]&&!e.size){e.destroy(I.nop);continue}if(e[F]){const n=e.running?e[os]:e[Tn];e[F].timeout!==n&&e[F].setTimeout(n)}if(e.running){const{aborted:n}=e[B][e[U]];if(n){I.destroy(e[F]);return}}if(e.pending)e[hr]=2;else{if(e[hr]===2&&!e.busy){t?(e[hr]=1,process.nextTick(yc,e)):yc(e);continue}return}if(e.running>=e[En])return;const r=e[B][e[ie]];if(e[gn].protocol==="https:"&&e[yn]!==r.host){if(e.running)return;e[yn]=r.host;const n=r.host&&!/^\[/.test(r.host)&&!ts.isIP(r.host)?r.host:e[Mn]&&e[Mn].servername;if(e[wn]!==n&&(e[wn]=n,e[mr]=null,e[F])){I.destroy(e[F],new fr("servername changed"));return}}if(!e[F]&&!e[Ge]){e[rt]?(e[Ge]=setTimeout(()=>{e[Ge]=null,ls(e)},e[rt]),e[rt]=Math.min(e[rt]*2,e[os])):(ls(e),e[rt]=1e3);return}if(!e.connected)return;if(e[Be]||e[be])return;if(e.running&&!r.idempotent)return;if(e.running&&(r.upgrade||r.method==="CONNECT"))return;if(I.isStream(r.body)&&I.bodyLength(r.body)===0&&(r.body.on("data",function(){O(!1)}).on("error",function(n){r.onError(n)}).on("end",function(){I.destroy(this)}),r.body=null),e.running&&I.isStream(r.body))return;Yg(e,r)?e[ie]++:e[B].splice(e[ie],1)}}function Yg(e,t){const{body:r,method:n,path:i,host:s,upgrade:o,headers:a}=t,l=n==="PUT"||n==="POST"||n==="PATCH";r&&typeof r.read=="function"&&r.read(0);let d=I.bodyLength(r);if(d===null&&(d=t.contentLength),d===0&&!l&&(d=null),t.contentLength!==null&&t.contentLength!==d)return t.onError(new rs),!1;try{t.onConnect(e[It])}catch(f){return t.onError(f),!1}if(t.aborted)return!1;n==="HEAD"&&(e[be]=!0),(n==="CONNECT"||o)&&(e[be]=!0);let u;o?u=`${n} ${i} HTTP/1.1\r
connection: upgrade\r
upgrade: ${o}\r
`:e[as]?u=`${n} ${i} HTTP/1.1\r
connection: keep-alive\r
`:u=`${n} ${i} HTTP/1.1\r
connection: close\r
`,s||(u+=e[cc]),a&&(u+=a);const c=e[F];if(!r)d===0?c.write(`${u}content-length: ${d}\r
\r
\r
`,"ascii"):(O(d===null,"no body must not have content length"),c.write(`${u}\r
`,"ascii"));else if(I.isBuffer(r))O(d!==null,"buffer body must have content length"),c.cork(),c.write(`${u}content-length: ${d}\r
\r
`,"ascii"),c.write(r),c.write(`\r
`,"ascii"),c.uncork(),l||(e[be]=!0),t.body=null;else{e[Be]=!0,O(I.isStream(r)),O(d!==0||!e.running,"stream body cannot be pipelined");let f=!1,h=0;const m=function(M){try{O(!f);const y=Buffer.byteLength(M);if(!y)return;if(d!==null&&h+y>d){I.destroy(c,new rs);return}h===0&&(l||(e[be]=!0),d===null?c.write(`${u}transfer-encoding: chunked\r
`,"ascii"):c.write(`${u}content-length: ${d}\r
\r
`,"ascii")),d===null&&c.write(`\r
${y.toString(16)}\r
`,"ascii"),h+=y,!c.write(M)&&this.pause&&this.pause()}catch(y){I.destroy(this,y)}},b=function(){O(!f),r.resume&&r.resume()},g=function(){w(new Ng)},w=function(M){if(f)return;if(f=!0,O(e[Be]&&e.running<=1),e[Be]=!1,!M&&d!==null&&h!==d&&(M=new rs),c.removeListener("drain",b).removeListener("error",w),r.removeListener("data",m).removeListener("end",w).removeListener("error",w).removeListener("close",g),t.body=null,I.destroy(r,M),M){I.destroy(c,M);return}h===0?l?c.write(`${u}content-length: 0\r
\r
\r
`,"ascii"):c.write(`${u}\r
`,"ascii"):d===null&&c.write(`\r
0\r
\r
`,"ascii"),Ce(e)};r.on("data",m).on("end",w).on("error",w).on("close",g),c.on("drain",b).on("error",w)}return!0}nc.exports=Bg});var vc=p((C0,wc)=>{"use strict";const bc=2048,cs=bc-1;class Mc{constructor(){this.bottom=0,this.top=0,this.list=new Array(bc),this.next=null}isEmpty(){return this.top===this.bottom}isFull(){return(this.top+1&cs)===this.bottom}push(e){this.list[this.top]=e,this.top=this.top+1&cs}shift(){const e=this.list[this.bottom];return e===void 0?null:(this.list[this.bottom]=void 0,this.bottom=this.bottom+1&cs,e)}}wc.exports=class{constructor(){this.head=this.tail=new Mc}isEmpty(){return this.head.isEmpty()}push(t){this.head.isFull()&&(this.head=this.head.next=new Mc),this.head.push(t)}shift(){const t=this.tail,r=t.shift();return t.isEmpty()&&t.next!==null&&(this.tail=t.next),r}}});var Tc=p((x0,Ec)=>{"use strict";const Jg=us(),{ClientClosedError:Qg,InvalidArgumentError:Kg,ClientDestroyedError:ds}=we(),Xg=vc(),Rt=Symbol("clients"),gr=Symbol("queue"),An=Symbol("destroyed"),nt=Symbol("closed promise"),Dn=Symbol("closed resolve");class Zg{constructor(e,{connections:t,...r}={}){if(t!=null&&(!Number.isFinite(t)||t<=0))throw new Kg("invalid connections");this[gr]=new Xg,this[nt]=null,this[Dn]=null,this[An]=!1,this[Rt]=Array.from({length:t||10},()=>new Jg(e,r));const n=this;function i(){const s=n[gr];for(;!this.busy;){const o=s.shift();if(!o)break;this.dispatch(o.opts,o.handler)}n[Dn]&&s.isEmpty()&&Promise.all(n[Rt].map(o=>o.close())).then(n[Dn])}for(const s of this[Rt])s.on("drain",i)}dispatch(e,t){try{if(this[An])throw new ds;if(this[nt])throw new Qg;const r=this[Rt].find(n=>!n.busy);r?r.dispatch(e,t):this[gr].push({opts:e,handler:t})}catch(r){t.onError(r)}}close(e){try{if(this[An])throw new ds;if(this[nt]||(this[gr].isEmpty()?this[nt]=Promise.all(this[Rt].map(t=>t.close())):this[nt]=new Promise(t=>{this[Dn]=t})),e)this[nt].then(()=>e(null,null));else return this[nt]}catch(t){if(e)e(t);else return Promise.reject(t)}}destroy(e,t){for(this[An]=!0,typeof e=="function"&&(t=e,e=null),e||(e=new ds);;){const n=this[gr].shift();if(!n)break;n.handler.onError(e)}const r=Promise.all(this[Rt].map(n=>n.destroy(e)));if(t)r.then(()=>t(null,null));else return r}}Ec.exports=Zg});var Pt=p((S0,Ac)=>{const{RequestAbortedError:ey}=we(),it=Symbol("kListener"),Se=Symbol("kSignal");function ty(e,t){if(e[Se]=t,e[it]=null,!t)return;e[it]=()=>{e.abort?e.abort():e.onError(new ey)},"addEventListener"in e[Se]?e[Se].addEventListener("abort",e[it]):e[Se].addListener("abort",e[it])}function ry(e){if(!e[Se])return;"removeEventListener"in e[Se]?e[Se].removeEventListener("abort",e[it]):e[Se].removeListener("abort",e[it]),e[Se]=null,e[it]=null}Ac.exports={addSignal:ty,removeSignal:ry}});var fs=p((O0,Dc)=>{"use strict";const{Readable:ny}=require("stream"),{InvalidArgumentError:Cn,RequestAbortedError:iy}=we(),st=$e(),{AsyncResource:sy}=require("async_hooks"),{addSignal:oy,removeSignal:Cc}=Pt(),xc=Symbol("abort");class ay extends ny{constructor(e,t){super({autoDestroy:!0,read:e});this[xc]=t}_destroy(e,t){!e&&!this._readableState.endEmitted&&(e=new iy),e&&this[xc](),t(e)}}class ly extends sy{constructor(e,t){if(!e||typeof e!="object")throw new Cn("invalid opts");const{signal:r,method:n,opaque:i,body:s}=e;try{if(typeof t!="function")throw new Cn("invalid callback");if(r&&typeof r.on!="function"&&typeof r.addEventListener!="function")throw new Cn("signal must be an EventEmitter or EventTarget");if(n==="CONNECT")throw new Cn("invalid method");super("UNDICI_REQUEST")}catch(o){throw st.isStream(s)&&st.destroy(s.on("error",st.nop),o),o}this.opaque=i||null,this.callback=t,this.res=null,this.abort=null,this.body=s,st.isStream(s)&&s.on("error",o=>{this.onError(o)}),oy(this,r)}onConnect(e){this.callback?this.abort=e:e()}onHeaders(e,t,r){const{callback:n,opaque:i,abort:s}=this;if(e<200)return;const o=new ay(r,s);this.callback=null,this.res=o,this.runInAsyncScope(n,null,null,{statusCode:e,headers:st.parseHeaders(t),opaque:i,body:o})}onData(e){const{res:t}=this;return t.push(e)}onComplete(e){const{res:t}=this;Cc(this),t.push(null)}onError(e){const{res:t,callback:r,body:n,opaque:i}=this;Cc(this),r&&(this.callback=null,process.nextTick((s,o,a,l)=>{s.runInAsyncScope(o,null,a,{opaque:l})},this,r,e,i)),t&&(this.res=null,st.destroy(t,e)),n&&(this.body=null,st.destroy(n,e))}}function Sc(e,t){if(t===void 0)return new Promise((r,n)=>{Sc.call(this,e,(i,s)=>i?n(i):r(s))});try{this.dispatch(e,new ly(e,t))}catch(r){if(typeof t=="function")process.nextTick(t,r,{opaque:e&&e.opaque});else throw r}}Dc.exports=Sc});var hs=p((I0,Oc)=>{"use strict";const{finished:uy}=require("stream"),{InvalidArgumentError:yr,InvalidReturnValueError:cy}=we(),Oe=$e(),{AsyncResource:dy}=require("async_hooks"),{addSignal:fy,removeSignal:Ic}=Pt();class hy extends dy{constructor(e,t,r){if(!e||typeof e!="object")throw new yr("invalid opts");const{signal:n,method:i,opaque:s,body:o}=e;try{if(typeof r!="function")throw new yr("invalid callback");if(typeof t!="function")throw new yr("invalid factory");if(n&&typeof n.on!="function"&&typeof n.addEventListener!="function")throw new yr("signal must be an EventEmitter or EventTarget");if(i==="CONNECT")throw new yr("invalid method");super("UNDICI_STREAM")}catch(a){throw Oe.isStream(o)&&Oe.destroy(o.on("error",Oe.nop),a),a}this.opaque=s||null,this.factory=t,this.callback=r,this.res=null,this.abort=null,this.trailers=null,this.body=o,Oe.isStream(o)&&o.on("error",a=>{this.onError(a)}),fy(this,n)}onConnect(e){this.callback?this.abort=e:e()}onHeaders(e,t,r){const{factory:n,opaque:i}=this;if(e<200)return;this.factory=null;const s=this.runInAsyncScope(n,null,{statusCode:e,headers:Oe.parseHeaders(t),opaque:i});if(!s||typeof s.write!="function"||typeof s.end!="function"||typeof s.on!="function")throw new cy("expected Writable");s.on("drain",r),uy(s,{readable:!1},o=>{const{callback:a,res:l,opaque:d,trailers:u,abort:c}=this;this.res=null,(o||!l.readable)&&Oe.destroy(l,o),this.callback=null,this.runInAsyncScope(a,null,o||null,{opaque:d,trailers:u}),o&&c()}),this.res=s}onData(e){const{res:t}=this;return t.write(e)}onComplete(e){const{res:t}=this;Ic(this),this.trailers=e?Oe.parseHeaders(e):{},t.end()}onError(e){const{res:t,callback:r,opaque:n,body:i}=this;Ic(this),this.factory=null,t?(this.res=null,Oe.destroy(t,e)):r&&(this.callback=null,process.nextTick((s,o,a,l)=>{s.runInAsyncScope(o,null,a,{opaque:l})},this,r,e,n)),i&&(this.body=null,Oe.destroy(i,e))}}function kc(e,t,r){if(r===void 0)return new Promise((n,i)=>{kc.call(this,e,t,(s,o)=>s?i(s):n(o))});try{this.dispatch(e,new hy(e,t,r))}catch(n){if(typeof r=="function")process.nextTick(r,n,{opaque:e&&e.opaque});else throw n}}Oc.exports=kc});var ms=p((k0,_c)=>{"use strict";const{Readable:Rc,Duplex:py,PassThrough:my}=require("stream"),{InvalidArgumentError:xn,InvalidReturnValueError:gy,RequestAbortedError:ps}=we(),Ie=$e(),{AsyncResource:yy}=require("async_hooks"),{assert:wy}=require("console"),{addSignal:by,removeSignal:My}=Pt(),Lt=Symbol("resume");class vy extends Rc{constructor(){super({autoDestroy:!0});this[Lt]=null}_read(){const{[Lt]:e}=this;e&&(this[Lt]=null,e())}_destroy(e,t){this._read(),wy(e||this._readableState.endEmitted),t(e)}}class Ey extends Rc{constructor(e){super({autoDestroy:!0});this[Lt]=e}_read(){this[Lt]()}_destroy(e,t){!e&&!this._readableState.endEmitted&&(e=new ps),t(e)}}class Ty extends yy{constructor(e,t){if(!e||typeof e!="object")throw new xn("invalid opts");if(typeof t!="function")throw new xn("invalid handler");const{signal:r,method:n,opaque:i}=e;if(r&&typeof r.on!="function"&&typeof r.addEventListener!="function")throw new xn("signal must be an EventEmitter or EventTarget");if(n==="CONNECT")throw new xn("invalid method");super("UNDICI_PIPELINE");this.opaque=i||null,this.handler=t,this.abort=null,by(this,r),this.req=new vy().on("error",Ie.nop),this.ret=new py({readableObjectMode:e.objectMode,autoDestroy:!0,read:()=>{const{body:s}=this;s&&s.resume&&s.resume()},write:(s,o,a)=>{const{req:l}=this;l.push(s,o)||l._readableState.destroyed?a():l[Lt]=a},destroy:(s,o)=>{const{body:a,req:l,res:d,ret:u,abort:c}=this;!s&&!u._readableState.endEmitted&&(s=new ps),c&&s&&c(),Ie.destroy(a,s),Ie.destroy(l,s),Ie.destroy(d,s),My(this),o(s)}}).on("prefinish",()=>{const{req:s}=this;s.push(null)}),this.res=null}onConnect(e){const{ret:t}=this;t.destroyed?e():this.abort=e}onHeaders(e,t,r){const{opaque:n,handler:i}=this;if(e<200)return;this.res=new Ey(r);let s;try{this.handler=null,s=this.runInAsyncScope(i,null,{statusCode:e,headers:Ie.parseHeaders(t),opaque:n,body:this.res})}catch(o){throw this.res.on("error",Ie.nop),o}if(!s||typeof s.on!="function")throw new gy("expected Readable");s.on("data",o=>{const{ret:a,body:l}=this;!a.push(o)&&l.pause&&l.pause()}).on("error",o=>{const{ret:a}=this;Ie.destroy(a,o)}).on("end",()=>{const{ret:o}=this;o.push(null)}).on("close",()=>{const{ret:o}=this;o._readableState.ended||Ie.destroy(o,new ps)}),this.body=s}onData(e){const{res:t}=this;return t.push(e)}onComplete(e){const{res:t}=this;t.push(null)}onError(e){const{ret:t}=this;this.handler=null,Ie.destroy(t,e)}}function Ay(e,t){try{const r=new Ty(e,t),{path:n,method:i,headers:s,idempotent:o,servername:a,signal:l,requestTimeout:d}=e;return this.dispatch({path:n,method:i,body:r.req,headers:s,idempotent:o,servername:a,signal:l,requestTimeout:d},r),r.ret}catch(r){return new my().destroy(r)}}_c.exports=Ay});var ys=p((_0,Pc)=>{"use strict";const{InvalidArgumentError:gs}=we(),{AsyncResource:Dy}=require("async_hooks"),Cy=$e(),{addSignal:xy,removeSignal:Lc}=Pt();class Sy extends Dy{constructor(e,t){if(!e||typeof e!="object")throw new gs("invalid opts");const{signal:r,opaque:n}=e;if(r&&typeof r.on!="function"&&typeof r.addEventListener!="function")throw new gs("signal must be an EventEmitter or EventTarget");super("UNDICI_UPGRADE");this.opaque=n||null,this.callback=t,this.abort=null,xy(this,r)}onConnect(e){this.callback?this.abort=e:e()}onUpgrade(e,t,r){const{callback:n,opaque:i}=this;Lc(this),this.callback=null,this.runInAsyncScope(n,null,null,{headers:Cy.parseHeaders(t),socket:r,opaque:i})}onError(e){const{callback:t,opaque:r}=this;Lc(this),t&&(this.callback=null,process.nextTick((n,i,s,o)=>{n.runInAsyncScope(i,null,s,{opaque:o})},this,t,e,r))}}function Nc(e,t){if(t===void 0)return new Promise((r,n)=>{Nc.call(this,e,(i,s)=>i?n(i):r(s))});if(typeof t!="function")throw new gs("invalid callback");try{const r=new Sy(e,t),{path:n,method:i,headers:s,servername:o,signal:a,requestTimeout:l,protocol:d}=e;this.dispatch({path:n,method:i||"GET",headers:s,servername:o,signal:a,requestTimeout:l,upgrade:d||"Websocket"},r)}catch(r){process.nextTick(t,r,{opaque:e&&e.opaque})}}Pc.exports=Nc});var bs=p((R0,Fc)=>{"use strict";const{InvalidArgumentError:ws}=we(),{AsyncResource:Oy}=require("async_hooks"),Iy=$e(),{addSignal:ky,removeSignal:jc}=Pt();class _y extends Oy{constructor(e,t){if(!e||typeof e!="object")throw new ws("invalid opts");const{signal:r,opaque:n}=e;if(r&&typeof r.on!="function"&&typeof r.addEventListener!="function")throw new ws("signal must be an EventEmitter or EventTarget");super("UNDICI_CONNECT");this.opaque=n||null,this.callback=t,this.abort=null,ky(this,r)}onConnect(e){this.callback?this.abort=e:e()}onUpgrade(e,t,r){const{callback:n,opaque:i}=this;jc(this),this.callback=null,this.runInAsyncScope(n,null,null,{statusCode:e,headers:Iy.parseHeaders(t),socket:r,opaque:i})}onError(e){const{callback:t,opaque:r}=this;jc(this),t&&(this.callback=null,process.nextTick((n,i,s,o)=>{n.runInAsyncScope(i,null,s,{opaque:o})},this,t,e,r))}}function qc(e,t){if(t===void 0)return new Promise((r,n)=>{qc.call(this,e,(i,s)=>i?n(i):r(s))});if(typeof t!="function")throw new ws("invalid callback");try{const r=new _y(e,t),{path:n,headers:i,servername:s,signal:o,requestTimeout:a}=e;this.dispatch({path:n,method:"CONNECT",headers:i,servername:s,signal:o,requestTimeout:a},r)}catch(r){process.nextTick(t,r,{opaque:e&&e.opaque})}}Fc.exports=qc});var Bc=p((P0,$c)=>{"use strict";const Nt=us(),Ry=we(),ot=Tc();Nt.prototype.request=fs();Nt.prototype.stream=hs();Nt.prototype.pipeline=ms();Nt.prototype.upgrade=ys();Nt.prototype.connect=bs();ot.prototype.request=fs();ot.prototype.stream=hs();ot.prototype.pipeline=ms();ot.prototype.upgrade=ys();ot.prototype.connect=bs();function Sn(e,t){return new ot(e,t)}Sn.Pool=ot;Sn.Client=Nt;Sn.errors=Ry;$c.exports=Sn});var Gc=p(Ft=>{"use strict";var Py=Ft&&Ft.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ft,"__esModule",{value:!0});Ft.Undici=void 0;const Uc=Py(Ji()),Ly=Bc();class Ny{constructor(e,t){this.closed=!1,this.pool=new Ly.Pool(e,{connections:100,pipelining:10,requestTimeout:0,socketTimeout:0,...t})}request(e,t){return new Promise((r,n)=>{this.pool.request({path:"/",method:"POST",headers:{"Content-Type":"application/json",...t},body:e},async(i,s)=>{if(i)n(i);else{const{statusCode:o,headers:a,body:l}=s,d=JSON.parse(await Uc.default(l));r({statusCode:o,headers:a,data:d})}})})}status(){return new Promise((e,t)=>{this.pool.request({path:"/",method:"GET"},async(r,n)=>{if(r)t(r);else{const{statusCode:i,headers:s,body:o}=n,a=JSON.parse(await Uc.default(o));e({statusCode:i,headers:s,data:a})}})})}close(){this.closed||this.pool.close(()=>{}),this.closed=!0}}Ft.Undici=Ny});var vs=p(jt=>{"use strict";var ke=jt&&jt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(jt,"__esModule",{value:!0});jt.NodeEngine=void 0;const D=Pi(),On=ke(Ei()),Fy=ml(),wr=ke(require("path")),jy=ke(require("net")),se=ke(require("fs")),G=ke(ve()),qy=Fi(),Ms=Kr(),zc=require("util"),$y=ke(require("events")),By=Ii(),Uy=require("child_process"),Hc=ke(qi()),Wc=ke(Cl()),Vc=ke(Iu()),Gy=ku(),Yc=Gc(),N=On.default("engine"),zy=zc.promisify(se.default.exists),Hy=zc.promisify(se.default.readdir),Jc=["native","darwin","debian-openssl-1.0.x","debian-openssl-1.1.x","rhel-openssl-1.0.x","rhel-openssl-1.1.x","linux-musl","linux-nixos","windows","freebsd11","freebsd12","openbsd","netbsd","arm"],In=[],br=[];class Vy{constructor({cwd:e,datamodelPath:t,prismaPath:r,generator:n,datasources:i,showColors:s,logLevel:o,logQueries:a,env:l,flags:d,clientVersion:u,enableExperimental:c,engineEndpoint:f,enableDebugLogs:h,enableEngineDebugMode:m,useUds:b}){var g;this.restartCount=0,this.queryEngineStarted=!1,this.enableExperimental=[],this.useUds=!1,this.queryEngineKilled=!1,this.managementApiEnabled=!1,this.ready=!1,this.stderrLogs="",this.stdoutLogs="",this.handleRequestError=async(y,v)=>{var A,_,J,Q,S,de,L;N({error:y});let P;if(this.currentRequestPromise.isCanceled&&this.lastError)this.lastError.is_panic?(P=new D.PrismaClientRustPanicError(D.getErrorMessageWithLink({platform:this.platform,title:D.getMessage(this.lastError),version:this.clientVersion})),this.lastPanic=P):P=new D.PrismaClientUnknownRequestError(D.getErrorMessageWithLink({platform:this.platform,title:D.getMessage(this.lastError),version:this.clientVersion}));else if(this.currentRequestPromise.isCanceled&&this.lastErrorLog)((_=(A=this.lastErrorLog)===null||A===void 0?void 0:A.fields)===null||_===void 0?void 0:_.message)==="PANIC"?(P=new D.PrismaClientRustPanicError(D.getErrorMessageWithLink({platform:this.platform,title:D.getMessage(this.lastErrorLog),version:this.clientVersion})),this.lastPanic=P):P=new D.PrismaClientUnknownRequestError(D.getErrorMessageWithLink({platform:this.platform,title:D.getMessage(this.lastErrorLog),version:this.clientVersion}));else if(y.code&&y.code==="ECONNRESET"||y.code==="ECONNREFUSED"||y.code==="UND_ERR_SOCKET"&&y.message.toLowerCase().includes("closed")||y.message.toLowerCase().includes("client is destroyed")||y.message.toLowerCase().includes("other side closed")||y.code==="UND_ERR_CLOSED"){if(this.globalKillSignalReceived&&!this.child.connected)throw new D.PrismaClientUnknownRequestError(`The Node.js process already received a ${this.globalKillSignalReceived} signal, therefore the Prisma query engine exited
and your request can't be processed.
You probably have some open handle that prevents your process from exiting.
It could be an open http server or stream that didn't close yet.
We recommend using the \`wtfnode\` package to debug open handles.`);if(this.restartCount>4)throw new Error(`Query engine is trying to restart, but can't.
Please look into the logs or turn on the env var DEBUG=* to debug the constantly restarting query engine.`);if(this.lastError?this.lastError.is_panic?(P=new D.PrismaClientRustPanicError(D.getErrorMessageWithLink({platform:this.platform,title:D.getMessage(this.lastError),version:this.clientVersion})),this.lastPanic=P):P=new D.PrismaClientUnknownRequestError(D.getErrorMessageWithLink({platform:this.platform,title:D.getMessage(this.lastError),version:this.clientVersion})):this.lastErrorLog&&(((Q=(J=this.lastErrorLog)===null||J===void 0?void 0:J.fields)===null||Q===void 0?void 0:Q.message)==="PANIC"?(P=new D.PrismaClientRustPanicError(D.getErrorMessageWithLink({platform:this.platform,title:D.getMessage(this.lastErrorLog),version:this.clientVersion})),this.lastPanic=P):P=new D.PrismaClientUnknownRequestError(D.getErrorMessageWithLink({platform:this.platform,title:D.getMessage(this.lastErrorLog),version:this.clientVersion}))),!P){let re=this.getLastLog();re||(await new Promise(Vn=>setTimeout(Vn,500)),re=this.getLastLog());const Pe=re||this.stderrLogs||this.stdoutLogs;let Ir=re!=null?re:y.message,ut=y.stack+`
Exit code: `+this.exitCode+`
`+Pe;if(ut=`signalCode: ${(S=this.child)===null||S===void 0?void 0:S.signalCode} | exitCode: ${(de=this.child)===null||de===void 0?void 0:de.exitCode} | killed: ${(L=this.child)===null||L===void 0?void 0:L.killed}
`+ut,P=new D.PrismaClientUnknownRequestError(D.getErrorMessageWithLink({platform:this.platform,title:Ir,version:this.clientVersion,description:ut})),N(P.message),v)return!1}}throw P||y},this.env=l,this.cwd=this.resolveCwd(e),this.enableDebugLogs=h!=null?h:!1,this.enableEngineDebugMode=m!=null?m:!1,this.datamodelPath=t,this.prismaPath=(g=process.env.PRISMA_QUERY_ENGINE_BINARY)!==null&&g!==void 0?g:r,this.generator=n,this.datasources=i,this.logEmitter=new $y.default,this.showColors=s!=null?s:!1,this.logLevel=o,this.logQueries=a!=null?a:!1,this.clientVersion=u,this.flags=d!=null?d:[],this.enableExperimental=c!=null?c:[];const w=["middlewares","aggregateApi","distinct","aggregations","insensitiveFilters"],M=this.enableExperimental.filter(y=>w.includes(y));if(M.length>0&&console.log(`${G.default.blueBright("info")} The preview flags \`${M.join("`, `")}\` were removed, you can now safely remove them from your schema.prisma.`),this.enableExperimental=this.enableExperimental.filter(y=>!w.includes(y)),this.engineEndpoint=f,b&&process.platform!=="win32"&&(this.socketPath=`/tmp/prisma-${Ms.getRandomString()}.sock`,br.push(this.socketPath),this.useUds=b),f){const y=new URL(f);this.port=Number(y.port)}if(this.logEmitter.on("error",y=>{this.enableDebugLogs&&On.default("engine:log")(y),y instanceof Error?On.default("engine:error")(y):(this.lastErrorLog=y,y.fields.message==="PANIC"&&this.handlePanic(y))}),this.platform){if(!Jc.includes(this.platform)&&!se.default.existsSync(this.platform))throw new D.PrismaClientInitializationError(`Unknown ${G.default.red("PRISMA_QUERY_ENGINE_BINARY")} ${G.default.redBright.bold(this.platform)}. Possible binaryTargets: ${G.default.greenBright(Jc.join(", "))} or a path to the query engine binary.
You may have to run ${G.default.greenBright("prisma generate")} for your changes to take effect.`)}else this.getPlatform();this.enableDebugLogs&&On.default.enable("*"),In.push(this)}resolveCwd(e){return e&&se.default.existsSync(e)&&se.default.lstatSync(e).isDirectory()?e:process.cwd()}on(e,t){this.logEmitter.on(e,t)}async getPlatform(){return this.platformPromise?this.platformPromise:(this.platformPromise=Fy.getPlatform(),this.platformPromise)}getQueryEnginePath(e,t=__dirname){let r=wr.default.join(t,`query-engine-${e}`);return e==="windows"&&(r=`${r}.exe`),r}handlePanic(e){var t;(t=this.child)===null||t===void 0||t.kill(),this.currentRequestPromise&&this.currentRequestPromise.cancel()}async resolvePrismaPath(){if(this.prismaPath)return this.prismaPath;const platform=await this.getPlatform();this.platform&&this.platform!==platform&&(this.incorrectlyPinnedBinaryTarget=this.platform),this.platform=this.platform||platform;const fileName=eval("require('path').basename(__filename)");if(fileName==="NodeEngine.js")return this.getQueryEnginePath(this.platform,wr.default.resolve(__dirname,".."));{const dotPrismaPath=await this.getQueryEnginePath(this.platform,eval("require('path').join(__dirname, '../../../.prisma/client')"));if(N({dotPrismaPath}),se.default.existsSync(dotPrismaPath))return dotPrismaPath;const dirnamePath=await this.getQueryEnginePath(this.platform,eval("__dirname"));if(N({dirnamePath}),se.default.existsSync(dirnamePath))return dirnamePath;const parentDirName=await this.getQueryEnginePath(this.platform,wr.default.join(eval("__dirname"),".."));if(N({parentDirName}),se.default.existsSync(parentDirName))return parentDirName;const datamodelDirName=await this.getQueryEnginePath(this.platform,wr.default.dirname(this.datamodelPath));if(se.default.existsSync(datamodelDirName))return datamodelDirName;const cwdPath=await this.getQueryEnginePath(this.platform,this.cwd);if(se.default.existsSync(cwdPath))return cwdPath;const prismaPath=await this.getQueryEnginePath(this.platform);return N({prismaPath}),prismaPath}}async getPrismaPath(){const e=await this.resolvePrismaPath(),t=await this.getPlatform();if(!await zy(e)){const r=this.incorrectlyPinnedBinaryTarget?`
You incorrectly pinned it to ${G.default.redBright.bold(`${this.incorrectlyPinnedBinaryTarget}`)}
`:"",n=wr.default.dirname(e),i=se.default.existsSync(n);let s=[];i&&(s=await Hy(n));let o=`Query engine binary for current platform "${G.default.bold(t)}" could not be found.${r}
This probably happens, because you built Prisma Client on a different platform.
(Prisma Client looked in "${G.default.underline(e)}")

Files in ${n}:

${s.map(a=>`  ${a}`).join(`
`)}
`;throw this.generator?this.generator.binaryTargets.includes(this.platform)||this.generator.binaryTargets.includes("native")?o+=`
You already added the platform${this.generator.binaryTargets.length>1?"s":""} ${this.generator.binaryTargets.map(a=>`"${G.default.bold(a)}"`).join(", ")} to the "${G.default.underline("generator")}" block
in the "schema.prisma" file as described in https://pris.ly/d/client-generator,
but something went wrong. That's suboptimal.

Please create an issue at https://github.com/prisma/prisma-client-js/issues/new`:o+=`

To solve this problem, add the platform "${this.platform}" to the "${G.default.underline("generator")}" block in the "schema.prisma" file:
${G.default.greenBright(this.getFixedGenerator())}

Then run "${G.default.greenBright("prisma generate")}" for your changes to take effect.
Read more about deploying Prisma Client: https://pris.ly/d/client-generator`:o+=`

Read more about deploying Prisma Client: https://pris.ly/d/client-generator
`,new D.PrismaClientInitializationError(o)}return this.incorrectlyPinnedBinaryTarget&&console.error(`${G.default.yellow("Warning:")} You pinned the platform ${G.default.bold(this.incorrectlyPinnedBinaryTarget)}, but Prisma Client detects ${G.default.bold(await this.getPlatform())}.
This means you should very likely pin the platform ${G.default.greenBright(await this.getPlatform())} instead.
${G.default.dim("In case we're mistaken, please report this to us 🙏.")}`),process.platform!=="win32"&&Ms.plusX(e),e}getFixedGenerator(){const e={...this.generator,binaryTargets:Ms.fixBinaryTargets(this.generator.binaryTargets,this.platform)};return qy.printGeneratorConfig(e)}printDatasources(){return this.datasources?JSON.stringify(this.datasources):"[]"}async start(){return this.startPromise||(this.startPromise=this.internalStart()),this.startPromise}async getEngineEnvVars(){const e={PRISMA_DML_PATH:this.datamodelPath,RUST_BACKTRACE:"1",RUST_LOG:"info"};return this.useUds||(e.PORT=String(this.port),N(`port: ${this.port}`)),(this.logQueries||this.logLevel==="info")&&(e.RUST_LOG="info",this.logQueries&&(e.LOG_QUERIES="true")),this.datasources&&(e.OVERWRITE_DATASOURCES=this.printDatasources()),!process.env.NO_COLOR&&this.showColors&&(e.CLICOLOR_FORCE="1"),{...this.env,...process.env,...e}}internalStart(){return new Promise(async(e,t)=>{var r,n,i;if(await new Promise(s=>process.nextTick(s)),this.stopPromise&&await this.stopPromise,this.engineEndpoint){try{await Wc.default(()=>this.undici.status(),{retries:10})}catch(s){return t(s)}return e()}try{(((r=this.child)===null||r===void 0?void 0:r.connected)||this.child&&!((n=this.child)===null||n===void 0?void 0:n.killed))&&N("There is a child that still runs and we want to start again"),this.queryEngineStarted=!1,this.lastError=void 0,this.lastErrorLog=void 0,this.lastPanic=void 0,this.queryEngineKilled=!1,this.globalKillSignalReceived=void 0,N({cwd:this.cwd});const s=await this.getPrismaPath(),o=this.enableExperimental&&Array.isArray(this.enableExperimental)&&this.enableExperimental.length>0?[`--enable-experimental=${this.enableExperimental.join(",")}`]:[],a=this.enableEngineDebugMode?["--debug"]:[],l=[...o,...a,"--enable-raw-queries",...this.flags];this.useUds&&l.push("--unix-path",this.socketPath),N({flags:l}),this.port=await this.getFreePort();const d=await this.getEngineEnvVars();if(this.child=Uy.spawn(s,l,{env:d,cwd:this.cwd,windowsHide:!0,stdio:["ignore","pipe","pipe"]}),Hc.default(this.child.stderr).on("data",u=>{const c=String(u);N("stderr",c);try{const f=JSON.parse(c);if(typeof f.is_panic!="undefined"&&(N(f),this.lastError=f,this.engineStartDeferred)){const h=new D.PrismaClientInitializationError(this.lastError.message);this.engineStartDeferred.reject(h)}}catch(f){!c.includes("Printing to stderr")&&!c.includes("Listening on ")&&(this.stderrLogs+=`
`+c)}}),Hc.default(this.child.stdout).on("data",u=>{var c;const f=String(u);try{const h=JSON.parse(f);if(N("stdout",h),this.engineStartDeferred&&h.level==="INFO"&&h.target==="query_engine::server"&&((c=h.fields)===null||c===void 0?void 0:c.message.startsWith("Started http server"))&&(this.useUds?this.undici=new Yc.Undici({hostname:"localhost",protocol:"http:"},{socketPath:this.socketPath}):this.undici=new Yc.Undici(`http://localhost:${this.port}`),this.engineStartDeferred.resolve(),this.engineStartDeferred=void 0,this.queryEngineStarted=!0),typeof h.is_panic=="undefined"){const m=By.convertLog(h);this.logEmitter.emit(m.level,m),this.lastLog=m}else this.lastError=h}catch(h){N(h,f)}}),this.child.on("exit",u=>{var c,f;if(this.engineStopDeferred){this.engineStopDeferred.resolve(u);return}if((c=this.undici)===null||c===void 0||c.close(),this.exitCode=u,!this.queryEngineKilled&&this.queryEngineStarted&&this.restartCount<5){Wc.default(async h=>{N(`Restart attempt ${h}. Waiting for backoff`),this.backoffPromise&&await this.backoffPromise,N(`Restart attempt ${h}. Backoff done`),this.restartCount++;const m=Math.random()*2*Math.pow(Math.E,this.restartCount);return this.startPromise=void 0,this.backoffPromise=new Promise(b=>setTimeout(b,m)),this.start()},{retries:4,randomize:!0,minTimeout:1e3,maxTimeout:60*1e3,factor:Math.E,onFailedAttempt:h=>{N(h)}});return}if(u!==0&&this.engineStartDeferred){let h;u!==null?h=new D.PrismaClientInitializationError(`Query engine exited with code ${u}
`+this.stderrLogs):((f=this.child)===null||f===void 0?void 0:f.signalCode)?h=new D.PrismaClientInitializationError(`Query engine process killed with signal ${this.child.signalCode} for unknown reason.
Make sure that the engine binary at ${s} is not corrupt.
`+this.stderrLogs):h=new D.PrismaClientInitializationError(this.stderrLogs),this.engineStartDeferred.reject(h)}if(!this.child)return;if(this.lastError)return;if(this.lastErrorLog){this.lastErrorLog.target="exit";return}u===126?this.lastErrorLog={timestamp:new Date,target:"exit",level:"error",fields:{message:`Couldn't start query engine as it's not executable on this operating system.
You very likely have the wrong "binaryTarget" defined in the schema.prisma file.`}}:this.lastErrorLog={target:"exit",timestamp:new Date,level:"error",fields:{message:(this.stderrLogs||"")+(this.stdoutLogs||"")+`
Exit code: ${u}`}}}),this.child.on("error",u=>{this.lastError={message:u.message,backtrace:"Could not start query engine",is_panic:!1},t(u)}),this.child.on("close",(u,c)=>{var f,h;if((f=this.undici)===null||f===void 0||f.close(),u===null&&c==="SIGABRT"&&this.child){const m=new D.PrismaClientRustPanicError(D.getErrorMessageWithLink({platform:this.platform,title:"Panic in Query Engine with SIGABRT signal",description:this.stderrLogs,version:this.clientVersion}));this.logEmitter.emit("error",m)}else if(u===255&&c===null&&((h=this.lastErrorLog)===null||h===void 0?void 0:h.fields.message)==="PANIC"&&!this.lastPanic){const m=new D.PrismaClientRustPanicError(D.getErrorMessageWithLink({platform:this.platform,title:`${this.lastErrorLog.fields.message}: ${this.lastErrorLog.fields.reason} in
${this.lastErrorLog.fields.file}:${this.lastErrorLog.fields.line}:${this.lastErrorLog.fields.column}`,version:this.clientVersion}));this.logEmitter.emit("error",m)}}),this.lastError)return t(new D.PrismaClientInitializationError(D.getMessage(this.lastError)));if(this.lastErrorLog)return t(new D.PrismaClientInitializationError(D.getMessage(this.lastErrorLog)));try{await new Promise((u,c)=>{this.engineStartDeferred={resolve:u,reject:c}})}catch(u){throw(i=this.child)===null||i===void 0||i.kill(),u}this.url=`http://localhost:${this.port}`,(async()=>{const u=await this.version();N(`Client Version ${this.clientVersion}`),N(`Engine Version ${u}`)})(),this.stopPromise=void 0,e()}catch(s){t(s)}})}async stop(){return this.stopPromise||(this.stopPromise=this._stop()),this.stopPromise}async _stop(){var e,t;if(this.startPromise&&await this.startPromise,await new Promise(n=>process.nextTick(n)),this.currentRequestPromise)try{await this.currentRequestPromise}catch(n){}this.getConfigPromise=void 0;let r;this.child&&(N("Stopping Prisma engine4"),this.startPromise&&(N("Waiting for start promise"),await this.startPromise),N("Done waiting for start promise"),r=new Promise((n,i)=>{this.engineStopDeferred={resolve:n,reject:i}}),this.queryEngineKilled=!0,(e=this.undici)===null||e===void 0||e.close(),(t=this.child)===null||t===void 0||t.kill(),this.child=void 0),r&&await r,await new Promise(n=>process.nextTick(n)),this.startPromise=void 0,this.engineStopDeferred=void 0,setTimeout(()=>{if(this.socketPath){try{se.default.unlinkSync(this.socketPath)}catch(n){N(n)}br.splice(br.indexOf(this.socketPath),1),this.socketPath=void 0}})}async kill(e){var t,r;this.getConfigPromise=void 0,this.globalKillSignalReceived=e,this.queryEngineKilled=!0,(t=this.child)===null||t===void 0||t.kill(),(r=this.undici)===null||r===void 0||r.close()}getFreePort(){return new Promise((e,t)=>{const r=jy.default.createServer(n=>n.end(""));r.unref(),r.on("error",t),r.listen(0,()=>{const n=r.address(),i=typeof n=="string"?parseInt(n.split(":").slice(-1)[0],10):n.port;r.close(s=>{s&&t(s),e(i)})})})}async getConfig(){return this.getConfigPromise||(this.getConfigPromise=this._getConfig()),this.getConfigPromise}async _getConfig(){const e=await this.getPrismaPath(),t=await this.getEngineEnvVars(),r=await Vc.default(e,["cli","get-config"],{env:Gy.omit(t,["PORT"]),cwd:this.cwd});return JSON.parse(r.stdout)}async version(){const e=await this.getPrismaPath(),t=await Vc.default(e,["--version"],{env:{...process.env}});return t.stdout}async request(e,t,r=1){if(this.stopPromise&&await this.stopPromise,await this.start(),!this.child&&!this.engineEndpoint)throw new D.PrismaClientUnknownRequestError("Can't perform request, as the Engine has already been stopped");return this.currentRequestPromise=this.undici.request(Wy(e),t),this.currentRequestPromise.then(({data:n,headers:i})=>{if(n.errors)throw n.errors.length===1?this.graphQLToJSError(n.errors[0]):new Error(JSON.stringify(n.errors));const s=parseInt(i["x-elapsed"])/1e3;return this.restartCount>0&&(this.restartCount=0),{data:n,elapsed:s}}).catch(async n=>{const i=await this.handleRequestError(n,r<3);if(!i&&r<3)return await new Promise(s=>setTimeout(s,Math.random()*1e3)),this.request(e,t,r+1);throw i})}async requestBatch(e,t=!1,r=1){if(await this.start(),!this.child&&!this.engineEndpoint)throw new D.PrismaClientUnknownRequestError("Can't perform request, as the Engine has already been stopped");const n={},i={batch:e.map(s=>({query:s,variables:n})),transaction:t};return this.currentRequestPromise=this.undici.request(JSON.stringify(i)),this.currentRequestPromise.then(({data:s,headers:o})=>{const a=parseInt(o["x-elapsed"])/1e3;if(Array.isArray(s))return s.map(l=>l.errors?this.graphQLToJSError(l.errors[0]):{data:l,elapsed:a});throw s.errors&&s.errors.length===1?new Error(s.errors[0].error):new Error(JSON.stringify(s))}).catch(async s=>{const o=await this.handleRequestError(s,r<3);if(!o&&r<3)return await new Promise(a=>setTimeout(a,Math.random()*1e3)),this.requestBatch(e,t,r+1);throw o})}getLastLog(){var e,t,r;const n=(t=(e=this.lastLog)===null||e===void 0?void 0:e.fields)===null||t===void 0?void 0:t.message;if(n){const i=Object.entries((r=this.lastLog)===null||r===void 0?void 0:r.fields).filter(([s])=>s!=="message").map(([s,o])=>`${s}: ${o}`).join(", ");return i?`${n}  ${i}`:n}return null}graphQLToJSError(e){return e.user_facing_error.error_code?new D.PrismaClientKnownRequestError(e.user_facing_error.message,e.user_facing_error.error_code,e.user_facing_error.meta):new D.PrismaClientUnknownRequestError(e.user_facing_error.message)}}jt.NodeEngine=Vy;function Wy(e){return`{"variables":{},"query":${JSON.stringify(e)}}`}function qt(e,t=!1){process.once(e,()=>{for(const r of In)r.kill(e);if(In.splice(0,In.length),t&&process.exit(),br.length>0)for(const r of br)try{se.default.unlinkSync(r)}catch(n){}})}qt("beforeExit");qt("exit");qt("SIGINT",!0);qt("SIGUSR1",!0);qt("SIGUSR2",!0);qt("SIGTERM",!0)});var Kc=p($t=>{"use strict";var Qc=$t&&$t.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty($t,"__esModule",{value:!0});$t.getInternalDatamodelJson=void 0;const Yy=Qc(require("path")),Jy=require("child_process"),Qy=Qc(qi());function Ky(e,t=Yy.default.join(__dirname,"../schema-inferrer-bin")){return new Promise((r,n)=>{const i=Jy.spawn(t,{stdio:["pipe","pipe",process.stderr]});i.on("error",function(a){console.error("[schema-inferrer-bin] error: %s",a),n(a)}),i.on("exit",function(a,l){a!==0&&console.error("[schema-inferrer-bin] exit: code=%s signal=%s",a,l),n()});const s=Qy.default(i.stdout);s.on("data",a=>{const l=JSON.parse(a),d=Buffer.from(JSON.stringify(l)).toString("base64");r(d)});const o=e.replace(/\n/g," ");i.stdin.write(JSON.stringify({dataModel:o})+`
`)})}$t.getInternalDatamodelJson=Ky});var Xc=p(z=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});z.fixBinaryTargets=z.printGeneratorConfig=z.getInternalDatamodelJson=z.Engine=z.PrismaClientRustPanicError=z.PrismaClientInitializationError=z.PrismaClientUnknownRequestError=z.PrismaClientKnownRequestError=void 0;var kn=Pi();Object.defineProperty(z,"PrismaClientKnownRequestError",{enumerable:!0,get:function(){return kn.PrismaClientKnownRequestError}});Object.defineProperty(z,"PrismaClientUnknownRequestError",{enumerable:!0,get:function(){return kn.PrismaClientUnknownRequestError}});Object.defineProperty(z,"PrismaClientInitializationError",{enumerable:!0,get:function(){return kn.PrismaClientInitializationError}});Object.defineProperty(z,"PrismaClientRustPanicError",{enumerable:!0,get:function(){return kn.PrismaClientRustPanicError}});var Xy=vs();Object.defineProperty(z,"Engine",{enumerable:!0,get:function(){return Xy.NodeEngine}});var Zy=Kc();Object.defineProperty(z,"getInternalDatamodelJson",{enumerable:!0,get:function(){return Zy.getInternalDatamodelJson}});var ew=Fi();Object.defineProperty(z,"printGeneratorConfig",{enumerable:!0,get:function(){return ew.printGeneratorConfig}});var tw=Kr();Object.defineProperty(z,"fixBinaryTargets",{enumerable:!0,get:function(){return tw.fixBinaryTargets}})});var Es=p(oe=>{"use strict";Object.defineProperty(oe,"__esModule",{value:!0});oe.sqltag=oe.empty=oe.raw=oe.join=oe.Sql=void 0;const rw=require("util");class ze{constructor(e,t){if(e.length===0)throw new TypeError("Expected at least 1 string");if(e.length-1!==t.length)throw new TypeError(`Expected ${e.length} strings to have ${e.length-1} values`);let r=t.length,n=e.length;for(const o of t)o instanceof ze&&(r+=o.values.length-1,n+=o.strings.length-2);this.values=new Array(r),this.strings=new Array(n),this.strings[0]=e[0];let i=1,s=0;for(;i<e.length;){const o=t[i-1],a=e[i++];if(o instanceof ze){this.strings[s]+=o.strings[0];let l=0;for(;l<o.values.length;)this.values[s++]=o.values[l++],this.strings[s]=o.strings[l];this.strings[s]+=a}else this.values[s++]=o,this.strings[s]=a}}get text(){return this.strings.reduce((e,t,r)=>`${e}$${r}${t}`)}get sql(){return this.strings.join("?")}[rw.inspect.custom](){return{text:this.text,sql:this.sql,values:this.values}}}oe.Sql=ze;Object.defineProperty(ze.prototype,"sql",{enumerable:!0});Object.defineProperty(ze.prototype,"text",{enumerable:!0});function nw(e,t=","){if(e.length===0)throw new TypeError("Expected `join([])` to be called with an array of multiple elements, but got an empty array");return new ze(["",...Array(e.length-1).fill(t),""],e)}oe.join=nw;function Zc(e){return new ze([e],[])}oe.raw=Zc;oe.empty=Zc("");function ed(e,...t){return new ze(e.raw,t)}oe.sqltag=ed;oe.default=ed});var nd=p(($0,Ts)=>{const iw=require("fs"),sw=require("path");function td(e){console.log(`[dotenv][DEBUG] ${e}`)}const ow=`
`,aw=/^\s*([\w.-]+)\s*=\s*(.*)?\s*$/,lw=/\\n/g,uw=/\n|\r|\r\n/;function rd(e,t){const r=Boolean(t&&t.debug),n={};return e.toString().split(uw).forEach(function(i,s){const o=i.match(aw);if(o!=null){const a=o[1];let l=o[2]||"";const d=l.length-1,u=l[0]==='"'&&l[d]==='"',c=l[0]==="'"&&l[d]==="'";c||u?(l=l.substring(1,d),u&&(l=l.replace(lw,ow))):l=l.trim(),n[a]=l}else r&&td(`did not match key and value when parsing line ${s+1}: ${i}`)}),n}function cw(e){let t=sw.resolve(process.cwd(),".env"),r="utf8",n=!1;e&&(e.path!=null&&(t=e.path),e.encoding!=null&&(r=e.encoding),e.debug!=null&&(n=!0));try{const i=rd(iw.readFileSync(t,{encoding:r}),{debug:n});return Object.keys(i).forEach(function(s){Object.prototype.hasOwnProperty.call(process.env,s)?n&&td(`"${s}" is already defined in \`process.env\` and will not be overwritten`):process.env[s]=i[s]}),{parsed:i}}catch(i){return{error:i}}}Ts.exports.config=cw;Ts.exports.parse=rd});var id=p(_n=>{"use strict";Object.defineProperty(_n,"__esModule",{value:!0});_n.dotenvExpand=void 0;function dw(e){const t=e.ignoreProcessEnv?{}:process.env,r=i=>{var s=i.match(/(.?\${(?:[a-zA-Z0-9_]+)?})/g)||[];return s.reduce(function(o,a){const l=/(.?)\${([a-zA-Z0-9_]+)?}/g.exec(a);if(!l)return o;const d=l[1];let u,c;if(d==="\\")c=l[0],u=c.replace("\\$","$");else{const f=l[2];c=l[0].substring(d.length),u=t.hasOwnProperty(f)?t[f]:e.parsed[f]||"",u=r(u)}return o.replace(c,u)},i)};for(const i in e.parsed){const s=t.hasOwnProperty(i)?t[i]:e.parsed[i];e.parsed[i]=r(s)}for(var n in e.parsed)t[n]=e.parsed[n];return e}_n.dotenvExpand=dw});var sd=p(Rn=>{"use strict";Object.defineProperty(Rn,"__esModule",{value:!0});Rn.mapPreviewFeatures=void 0;const fw={transactionApi:"transaction",aggregateApi:"aggregations"};function hw(e){return Array.isArray(e)&&e.length>0?e.map(t=>{var r;return(r=fw[t])!==null&&r!==void 0?r:t}):[]}Rn.mapPreviewFeatures=hw});var Cs=p(pw=>{Ld(pw,{DMMF:()=>He.DMMF,DMMFClass:()=>Mr,Engine:()=>X.Engine,PrismaClientInitializationError:()=>X.PrismaClientInitializationError,PrismaClientKnownRequestError:()=>X.PrismaClientKnownRequestError,PrismaClientRustPanicError:()=>X.PrismaClientRustPanicError,PrismaClientUnknownRequestError:()=>X.PrismaClientUnknownRequestError,PrismaClientValidationError:()=>Pn,RawValue:()=>j.RawValue,Sql:()=>j.Sql,Value:()=>j.Value,debugLib:()=>As.default,empty:()=>j.empty,getPrismaClient:()=>Ds,join:()=>j.join,makeDocument:()=>vr,raw:()=>j.raw,sqltag:()=>j.sqltag,transformDocument:()=>Er,unpack:()=>Tr});const As=R(er()),X=R(Xc()),j=R(Es())});const He=R(Ea());const We=R(ve()),xs=R(Gr()),od=R(Da()),Ve=(e,t)=>{const r={};for(const n of e){const i=n[t];r[i]=n}return r},ad=(e,t,r)=>{const n={};for(const i of e){const s=i[r];n[s]=i}for(const i of t){const s=i[r];n[s]=i}return n},Bt={String:!0,Int:!0,Float:!0,Boolean:!0,Long:!0,DateTime:!0,ID:!0,UUID:!0,Json:!0},mw={string:"String",boolean:"Boolean",object:"Json"};function Ut(e){return typeof e=="string"?e:e.name}function Ar(e,t){return t?`List<${e}>`:e}function Gt(e,t){if(e===null)return"null";if(Array.isArray(e)){let n=e.reduce((i,s)=>{const o=Gt(s,t);return i.includes(o)||i.push(o),i},[]);return n.includes("Float")&&n.includes("Int")&&(n=["Float"]),`List<${n.join(" | ")}>`}const r=typeof e;if(r==="number")return Math.trunc(e)===e?"Int":"Float";if(Object.prototype.toString.call(e)==="[object Date]")return"DateTime";if(r==="string"){if(/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(e))return"UUID";const n=new Date(e);if(t&&typeof t=="object"&&t.values&&t.values.includes(e))return t.name;if(n.toString()==="Invalid Date")return"String";if(/\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z)/.test(e))return"DateTime"}return mw[r]}function Ln(e,t){const r=t.reduce((n,i)=>{const s=od.default(e,i);return s<n.distance?{distance:s,str:i}:n},{distance:Math.min(Math.floor(e.length)*1.1,...t.map(n=>n.length*3)),str:null});return r.str}function zt(e,t=!1){if(typeof e=="string")return e;if(e.values)return`enum ${e.name} {
${xs.default(e.values.join(", "),2)}
}`;{const r=xs.default(e.fields.map(n=>{const i=`${n.name}`,s=`${t?We.default.green(i):i}${n.isRequired?"":"?"}: ${We.default.white(n.inputTypes.map(o=>Ar(gw(o.type)?o.type.name:Ut(o.type),o.isList)).join(" | "))}`;return n.isRequired?s:We.default.dim(s)}).join(`
`),2);return`${We.default.dim("type")} ${We.default.bold.dim(e.name)} ${We.default.dim("{")}
${r}
${We.default.dim("}")}`}}function gw(e){return!(typeof e=="string")}function Dr(e){return typeof e=="string"?e==="Null"?"null":e:e.name}function at(e){return typeof e=="string"?e:e.name}function Ss(e,t,r=!1){if(typeof e=="string")return e==="Null"?"null":e;if(e.values)return e.values.join(" | ");const n=e,i=t&&n.fields.every(s=>{var o;return s.inputTypes[0].kind==="object"||((o=s.inputTypes[1])==null?void 0:o.kind)==="object"});return r?Dr(e):n.fields.reduce((s,o)=>{let a="";return!i&&!o.isRequired?a=o.inputTypes.map(l=>Dr(l.type)).join(" | "):a=o.inputTypes.map(l=>Ss(l.type,o.isRequired,!0)).join(" | "),s[o.name+(o.isRequired?"":"?")]=a,s},{})}function ld(e,t,r){const n={};for(const i of e)n[r(i)]=i;for(const i of t){const s=r(i);n[s]||(n[s]=i)}return Object.values(n)}function Os(e){return e.substring(0,1).toLowerCase()+e.substring(1)}class Mr{constructor({datamodel:e,schema:t,mappings:r}){this.outputTypeMap={};this.outputTypeToMergedOutputType=e=>{const t=this.modelMap[e.name];return{...e,isEmbedded:t?t.isEmbedded:!1,fields:e.fields}};this.datamodel=e,this.schema=t,this.mappings=r,this.enumMap=this.getEnumMap(),this.queryType=this.getQueryType(),this.mutationType=this.getMutationType(),this.modelMap=this.getModelMap(),this.outputTypes=this.getOutputTypes(),this.outputTypeMap=this.getMergedOutputTypeMap(),this.resolveOutputTypes(this.outputTypes),this.inputTypes=this.schema.inputTypes,this.inputTypeMap=this.getInputTypeMap(),this.resolveInputTypes(this.inputTypes),this.resolveFieldArgumentTypes(this.outputTypes,this.inputTypeMap),this.mappingsMap=this.getMappingsMap(),this.queryType=this.outputTypeMap.Query,this.mutationType=this.outputTypeMap.Mutation,this.outputTypes=this.outputTypes,this.rootFieldMap=this.getRootFieldMap()}resolveOutputTypes(e){for(const t of e){for(const r of t.fields)typeof r.outputType.type=="string"&&!Bt[r.outputType.type]&&(r.outputType.type=this.outputTypeMap[r.outputType.type]||this.enumMap[r.outputType.type]||r.outputType.type);t.fieldMap=Ve(t.fields,"name")}}resolveInputTypes(e){for(const t of e){for(const r of t.fields){const n=r.inputTypes[0].type;typeof n=="string"&&!Bt[n]&&(this.inputTypeMap[n]||this.enumMap[n])&&(r.inputTypes[0].type=this.inputTypeMap[n]||this.enumMap[n]||r.inputTypes[0].type);const i=r.inputTypes[1]&&r.inputTypes[1].type;typeof i=="string"&&!Bt[i]&&(this.inputTypeMap[i]||this.enumMap[i])&&(r.inputTypes[1].type=this.inputTypeMap[i]||this.enumMap[i]||r.inputTypes[1].type)}t.fieldMap=Ve(t.fields,"name")}}resolveFieldArgumentTypes(e,t){for(const r of e)for(const n of r.fields)for(const i of n.args){const s=i.inputTypes[0].type;typeof s=="string"&&!Bt[s]&&(i.inputTypes[0].type=t[s]||this.enumMap[s]||i.inputTypes[0].type);const o=i.inputTypes[1]&&i.inputTypes[1].type;o&&typeof o=="string"&&!Bt[o]&&(i.inputTypes[1].type=t[o]||this.enumMap[o]||i.inputTypes[1].type)}}getQueryType(){return this.schema.outputTypes.find(e=>e.name==="Query")}getMutationType(){return this.schema.outputTypes.find(e=>e.name==="Mutation")}getOutputTypes(){return this.schema.outputTypes.map(this.outputTypeToMergedOutputType)}getEnumMap(){return Ve(this.schema.enums,"name")}getModelMap(){return Ve(this.datamodel.models,"name")}getMergedOutputTypeMap(){return Ve(this.outputTypes,"name")}getInputTypeMap(){return Ve(this.schema.inputTypes,"name")}getMappingsMap(){return Ve(this.mappings,"model")}getRootFieldMap(){return ad(this.queryType.fields,this.mutationType.fields,"name")}}function ud(e){return e instanceof Buffer||e instanceof Date||e instanceof RegExp}function cd(e){if(e instanceof Buffer){const t=Buffer.alloc?Buffer.alloc(e.length):new Buffer(e.length);return e.copy(t),t}else{if(e instanceof Date)return new Date(e.getTime());if(e instanceof RegExp)return new RegExp(e);throw new Error("Unexpected situation")}}function dd(e){const t=[];return e.forEach(function(r,n){typeof r=="object"&&r!==null?Array.isArray(r)?t[n]=dd(r):ud(r)?t[n]=cd(r):t[n]=Cr({},r):t[n]=r}),t}function fd(e,t){return t==="__proto__"?void 0:e[t]}const Cr=function(e,...t){if(!e||typeof e!="object")return!1;if(t.length===0)return e;let r,n;for(const i of t){if(typeof i!="object"||i===null||Array.isArray(i))continue;for(const s of Object.keys(i)){if(n=fd(e,s),r=fd(i,s),r===e)continue;if(typeof r!="object"||r===null){e[s]=r;continue}else if(Array.isArray(r)){e[s]=dd(r);continue}else if(ud(r)){e[s]=cd(r);continue}else if(typeof n!="object"||n===null||Array.isArray(n)){e[s]=Cr({},r);continue}else{e[s]=Cr(n,r);continue}}}return e};const hd=e=>Array.isArray(e)?e:e.split("."),Is=(e,t)=>hd(t).reduce((r,n)=>r&&r[n],e),Nn=(e,t,r)=>hd(t).reduceRight((n,i,s,o)=>Object.assign({},Is(e,o.slice(0,s)),{[i]:n}),r);function pd(e,t){if(!e||typeof e!="object"||typeof e.hasOwnProperty!="function")return e;const r={};for(const n in e){const i=e[n];e.hasOwnProperty(n)&&t(n,i)&&(r[n]=i)}return r}function Fn(e,t){const r={},n=Array.isArray(t)?t:[t];for(const i in e)e.hasOwnProperty(i)&&!n.includes(i)&&(r[i]=e[i]);return r}"use strict";const yw=Ia(),ww=_a(),bw=Ra().default,Mw=(e,t,r)=>{const n=[];return function i(s,o={},a="",l=[]){o.indent=o.indent||"	";let d;o.inlineCharacterLimit===void 0?d={newLine:`
`,newLineOrSpace:`
`,pad:a,indent:a+o.indent}:d={newLine:"@@__STRINGIFY_OBJECT_NEW_LINE__@@",newLineOrSpace:"@@__STRINGIFY_OBJECT_NEW_LINE_OR_SPACE__@@",pad:"@@__STRINGIFY_OBJECT_PAD__@@",indent:"@@__STRINGIFY_OBJECT_INDENT__@@"};const u=c=>{if(o.inlineCharacterLimit===void 0)return c;const f=c.replace(new RegExp(d.newLine,"g"),"").replace(new RegExp(d.newLineOrSpace,"g")," ").replace(new RegExp(d.pad+"|"+d.indent,"g"),"");return f.length<=o.inlineCharacterLimit?f:c.replace(new RegExp(d.newLine+"|"+d.newLineOrSpace,"g"),`
`).replace(new RegExp(d.pad,"g"),a).replace(new RegExp(d.indent,"g"),a+o.indent)};if(n.indexOf(s)!==-1)return'"[Circular]"';if(s==null||typeof s=="number"||typeof s=="boolean"||typeof s=="function"||typeof s=="symbol"||yw(s))return String(s);if(s instanceof Date)return`new Date('${s.toISOString()}')`;if(Array.isArray(s)){if(s.length===0)return"[]";n.push(s);const c="["+d.newLine+s.map((f,h)=>{const m=s.length-1===h?d.newLine:","+d.newLineOrSpace;let b=i(f,o,a+o.indent,[...l,h]);return o.transformValue&&(b=o.transformValue(s,h,b)),d.indent+b+m}).join("")+d.pad+"]";return n.pop(),u(c)}if(ww(s)){let c=Object.keys(s).concat(bw(s));if(o.filter&&(c=c.filter(h=>o.filter(s,h))),c.length===0)return"{}";n.push(s);const f="{"+d.newLine+c.map((h,m)=>{const b=c.length-1===m?d.newLine:","+d.newLineOrSpace,g=typeof h=="symbol",w=!g&&/^[a-z$_][a-z$_0-9]*$/i.test(h),M=g||w?h:i(h,o,void 0,[...l,h]);let y=i(s[h],o,a+o.indent,[...l,h]);o.transformValue&&(y=o.transformValue(s,h,y));let v=d.indent+String(M)+": "+y+b;return o.transformLine&&(v=o.transformLine({obj:s,indent:d.indent,key:M,stringifiedValue:y,value:s[h],eol:b,originalLine:v,path:l.concat(M)})),v}).join("")+d.pad+"}";return n.pop(),u(f)}return s=String(s).replace(/[\r\n]/g,c=>c===`
`?"\\n":"\\r"),o.singleQuotes===!1?(s=s.replace(/"/g,'\\"'),`"${s}"`):(s=s.replace(/\\?'/g,"\\'"),`'${s}'`)}(e,t,r)};var xr=Mw;const ae=R(ve()),ks=R(Xt()),_s="@@__DIM_POINTER__@@";function jn({ast:e,keyPaths:t,valuePaths:r,missingItems:n}){let i=e;for(const{path:s,type:o}of n)i=Nn(i,s,o);return xr(i,{indent:"  ",transformLine:({indent:s,key:o,value:a,stringifiedValue:l,eol:d,path:u})=>{const c=u.join("."),f=t.includes(c),h=r.includes(c),m=n.find(g=>g.path===c);let b=l;if(m){typeof a=="string"&&(b=b.slice(1,b.length-1));const g=m.isRequired?"":"?",w=m.isRequired?"+":"?",M=m.isRequired?ae.default.greenBright:ae.default.green;let y=M(Ew(o+g+": "+b+d,s,w));return m.isRequired||(y=ae.default.dim(y)),y}else{const g=n.some(v=>c.startsWith(v.path)),w=o[o.length-2]==="?";w&&(o=o.slice(1,o.length-1)),w&&typeof a=="object"&&a!==null&&(b=b.split(`
`).map((v,A,_)=>A===_.length-1?v+_s:v).join(`
`)),g&&typeof a=="string"&&(b=b.slice(1,b.length-1),w||(b=ae.default.bold(b))),(typeof a!="object"||a===null)&&!h&&!g&&(b=ae.default.dim(b));const M=f?ae.default.redBright(o):o;b=h?ae.default.redBright(b):b;let y=s+M+": "+b+(g?d:ae.default.dim(d));if(f||h){const v=y.split(`
`),A=String(o).length,_=f?ae.default.redBright("~".repeat(A)):" ".repeat(A),J=h?vw(s,o,a,l):0,Q=Boolean(h&&typeof a=="object"&&a!==null),S=h?"  "+ae.default.redBright("~".repeat(J)):"";_&&_.length>0&&!Q&&v.splice(1,0,s+_+S),_&&_.length>0&&Q&&v.splice(v.length-1,0,s.slice(0,s.length-2)+S),y=v.join(`
`)}return y}}})}function vw(e,t,r,n){return r===null?4:typeof r=="string"?r.length+2:typeof r=="object"?Tw(`${t}: ${ks.default(n)}`)-e.length:String(r).length}function Tw(e){return e.split(`
`).reduce((t,r)=>r.length>t?r.length:t,0)}function Ew(e,t,r){return e.split(`
`).map((n,i,s)=>i===0?r+t.slice(1)+n:i<s.length-1?r+n.slice(1):n).map(n=>ks.default(n).includes(_s)?ae.default.dim(n.replace(_s,"")):n.includes("?")?ae.default.dim(n):n).join(`
`)}const Ye=R(ve()),Aw=Ye.default.rgb(246,145,95),Dw=Ye.default.rgb(107,139,140),qn=Ye.default.cyan,md=Ye.default.rgb(127,155,155),gd=e=>e,yd={keyword:qn,entity:qn,value:md,punctuation:Dw,directive:qn,function:qn,variable:md,string:Ye.default.greenBright,boolean:Aw,number:Ye.default.cyan,comment:Ye.default.grey};var $n={},Cw=0,C={manual:$n.Prism&&$n.Prism.manual,disableWorkerMessageHandler:$n.Prism&&$n.Prism.disableWorkerMessageHandler,util:{encode:function(e){if(e instanceof Me){const t=e;return new Me(t.type,C.util.encode(t.content),t.alias)}else return Array.isArray(e)?e.map(C.util.encode):e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(e){return Object.prototype.toString.call(e).slice(8,-1)},objId:function(e){return e.__id||Object.defineProperty(e,"__id",{value:++Cw}),e.__id},clone:function e(t,r){var n,i,s=C.util.type(t);r=r||{};switch(s){case"Object":if(i=C.util.objId(t),r[i])return r[i];n={},r[i]=n;for(var o in t)t.hasOwnProperty(o)&&(n[o]=e(t[o],r));return n;case"Array":return i=C.util.objId(t),r[i]?r[i]:(n=[],r[i]=n,t.forEach(function(a,l){n[l]=e(a,r)}),n);default:return t}}},languages:{extend:function(e,t){var r=C.util.clone(C.languages[e]);for(var n in t)r[n]=t[n];return r},insertBefore:function(e,t,r,n){n=n||C.languages;var i=n[e],s={};for(var o in i)if(i.hasOwnProperty(o)){if(o==t)for(var a in r)r.hasOwnProperty(a)&&(s[a]=r[a]);r.hasOwnProperty(o)||(s[o]=i[o])}var l=n[e];return n[e]=s,C.languages.DFS(C.languages,function(d,u){u===l&&d!=e&&(this[d]=s)}),s},DFS:function e(t,r,n,i){i=i||{};var s=C.util.objId;for(var o in t)if(t.hasOwnProperty(o)){r.call(t,o,t[o],n||o);var a=t[o],l=C.util.type(a);l==="Object"&&!i[s(a)]?(i[s(a)]=!0,e(a,r,null,i)):l==="Array"&&!i[s(a)]&&(i[s(a)]=!0,e(a,r,o,i))}}},plugins:{},highlight:function(e,t,r){var n={code:e,grammar:t,language:r};return C.hooks.run("before-tokenize",n),n.tokens=C.tokenize(n.code,n.grammar),C.hooks.run("after-tokenize",n),Me.stringify(C.util.encode(n.tokens),n.language)},matchGrammar:function(e,t,r,n,i,s,o){for(var a in r){if(!r.hasOwnProperty(a)||!r[a])continue;if(a==o)return;var l=r[a];l=C.util.type(l)==="Array"?l:[l];for(var d=0;d<l.length;++d){var u=l[d],c=u.inside,f=!!u.lookbehind,h=!!u.greedy,m=0,b=u.alias;if(h&&!u.pattern.global){var g=u.pattern.toString().match(/[imuy]*$/)[0];u.pattern=RegExp(u.pattern.source,g+"g")}u=u.pattern||u;for(var w=n,M=i;w<t.length;M+=t[w].length,++w){var y=t[w];if(t.length>e.length)return;if(y instanceof Me)continue;if(h&&w!=t.length-1){u.lastIndex=M;var S=u.exec(e);if(!S)break;for(var Q=S.index+(f?S[1].length:0),de=S.index+S[0].length,v=w,A=M,_=t.length;v<_&&(A<de||!t[v].type&&!t[v-1].greedy);++v)A+=t[v].length,Q>=A&&(++w,M=A);if(t[w]instanceof Me)continue;J=v-w,y=e.slice(M,A),S.index-=M}else{u.lastIndex=0;var S=u.exec(y),J=1}if(!S){if(s)break;continue}f&&(m=S[1]?S[1].length:0);var Q=S.index+m,S=S[0].slice(m),de=Q+S.length,L=y.slice(0,Q),P=y.slice(de),re=[w,J];L&&(++w,M+=L.length,re.push(L));var Pe=new Me(a,c?C.tokenize(S,c):S,b,S,h);if(re.push(Pe),P&&re.push(P),Array.prototype.splice.apply(t,re),J!=1&&C.matchGrammar(e,t,r,w,M,!0,a),s)break}}}},tokenize:function(e,t){var r=[e],n=t.rest;if(n){for(var i in n)t[i]=n[i];delete t.rest}return C.matchGrammar(e,r,t,0,0,!1),r},hooks:{all:{},add:function(e,t){var r=C.hooks.all;r[e]=r[e]||[],r[e].push(t)},run:function(e,t){var r=C.hooks.all[e];if(!r||!r.length)return;for(var n=0,i;i=r[n++];)i(t)}},Token:Me};C.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/((?:\b(?:class|interface|extends|implements|trait|instanceof|new)\s+)|(?:catch\s+\())[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:if|else|while|do|for|return|in|instanceof|function|new|try|throw|catch|finally|null|break|continue)\b/,boolean:/\b(?:true|false)\b/,function:/\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+\.?\d*|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/--?|\+\+?|!=?=?|<=?|>=?|==?=?|&&?|\|\|?|\?|\*|\/|~|\^|%/,punctuation:/[{}[\];(),.:]/};C.languages.javascript=C.languages.extend("clike",{"class-name":[C.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])[_$A-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\.(?:prototype|constructor))/,lookbehind:!0}],keyword:[{pattern:/((?:^|})\s*)(?:catch|finally)\b/,lookbehind:!0},{pattern:/(^|[^.])\b(?:as|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],number:/\b(?:(?:0[xX](?:[\dA-Fa-f](?:_[\dA-Fa-f])?)+|0[bB](?:[01](?:_[01])?)+|0[oO](?:[0-7](?:_[0-7])?)+)n?|(?:\d(?:_\d)?)+n|NaN|Infinity)\b|(?:\b(?:\d(?:_\d)?)+\.?(?:\d(?:_\d)?)*|\B\.(?:\d(?:_\d)?)+)(?:[Ee][+-]?(?:\d(?:_\d)?)+)?/,function:/[_$a-zA-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,operator:/-[-=]?|\+[+=]?|!=?=?|<<?=?|>>?>?=?|=(?:==?|>)?|&[&=]?|\|[|=]?|\*\*?=?|\/=?|~|\^=?|%=?|\?|\.{3}/});C.languages.javascript["class-name"][0].pattern=/(\b(?:class|interface|extends|implements|instanceof|new)\s+)[\w.\\]+/;C.languages.insertBefore("javascript","keyword",{regex:{pattern:/((?:^|[^$\w\xA0-\uFFFF."'\])\s])\s*)\/(\[(?:[^\]\\\r\n]|\\.)*]|\\.|[^/\\\[\r\n])+\/[gimyus]{0,6}(?=\s*($|[\r\n,.;})\]]))/,lookbehind:!0,greedy:!0},"function-variable":{pattern:/[_$a-zA-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|[_$a-zA-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+[_$A-Za-z\xA0-\uFFFF][$\w\xA0-\uFFFF]*)?\s*\(\s*)(?!\s)(?:[^()]|\([^()]*\))+?(?=\s*\))/,lookbehind:!0,inside:C.languages.javascript},{pattern:/[_$a-z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\s*=>)/i,inside:C.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()]|\([^()]*\))+?(?=\s*\)\s*=>)/,lookbehind:!0,inside:C.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:[_$A-Za-z\xA0-\uFFFF][$\w\xA0-\uFFFF]*\s*)\(\s*)(?!\s)(?:[^()]|\([^()]*\))+?(?=\s*\)\s*\{)/,lookbehind:!0,inside:C.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/});C.languages.markup&&C.languages.markup.tag.addInlined("script","javascript");C.languages.js=C.languages.javascript;C.languages.typescript=C.languages.extend("javascript",{keyword:/\b(?:abstract|as|async|await|break|case|catch|class|const|constructor|continue|debugger|declare|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|is|keyof|let|module|namespace|new|null|of|package|private|protected|public|readonly|return|require|set|static|super|switch|this|throw|try|type|typeof|var|void|while|with|yield)\b/,builtin:/\b(?:string|Function|any|number|boolean|Array|symbol|console|Promise|unknown|never)\b/});C.languages.ts=C.languages.typescript;function Me(e,t,r,n,i){this.type=e,this.content=t,this.alias=r,this.length=(n||"").length|0,this.greedy=!!i}Me.stringify=function(e,t){return typeof e=="string"?e:Array.isArray(e)?e.map(function(r){return Me.stringify(r,t)}).join(""):xw(e.type)(e.content)};function xw(e){return yd[e]||gd}function wd(e){return Sw(e,C.languages.javascript)}function Sw(e,t){const r=C.tokenize(e,t);return r.map(n=>Me.stringify(n)).join("")}const bd=R(ja());function Md(e){return bd.default(e)}const le=R(ve()),vd=R(Pa());function Ow(e,t){const r=String(t).length,n=String(e).length;return n>=r?String(e):" ".repeat(r-n)+e}const Bn=({callsite:e,originalMethod:t,onUs:r,showColors:n,renderPathRelative:i,printFullStack:s,isValidationError:o})=>{const a=20;let l=":",d=`
`,u="",c=0,f=`prisma.${t}()`;if(e&&typeof window=="undefined"){const g=vd.parse(e),w=g.find((M,y)=>y<3&&M.methodName.includes("Object.")?!1:M.file&&!M.file.includes("@prisma")&&!M.file.includes("getPrismaClient")&&!M.methodName.includes("new ")&&!M.methodName.includes("_getCallsite")&&M.methodName.split(".").length<4);if(process.env.NODE_ENV!=="production"&&w&&w.file&&w.lineNumber&&w.column&&!w.file.startsWith("internal/")){const M=w.lineNumber,y=i?require("path").relative(process.cwd(),w.file):w.file;l=e?` in
${le.default.underline(`${y}:${w.lineNumber}:${w.column}`)}`:"";const v=process.stdout.rows||20,A=Math.max(0,M-5),_=a+M-A;if(v>_||s){const J=require("fs"),Q=J.existsSync(w.file);if(Q){const S=J.readFileSync(w.file,"utf-8"),de=S.split(`
`).slice(A,M).join(`
`),L=Md(de).split(`
`),P=L[L.length-1];if(!P||P.trim()==="")l=":";else{const re=/(\S+(create|updateMany|deleteMany|update|delete|findMany|findOne)\()/,Pe=P.match(re);Pe&&(f=`${Pe[1]})`);const Ir=P.indexOf("{"),ut=L.map((Le,Ht,Yn)=>!r&&Ht===Yn.length-1?Le.slice(0,Ir>-1?Ir:Le.length-1):Le).join(`
`),Vn=n?wd(ut).split(`
`):ut.split(`
`);d=`
`+Vn.map((Le,Ht)=>le.default.grey(Ow(Ht+A+1,M+A+1)+" ")+le.default.reset()+Le).map((Le,Ht,Yn)=>Ht===Yn.length-1?`${le.default.red.bold("→")} ${le.default.dim(Le)}`:le.default.dim("  "+Le)).join(`
`),!Pe&&!o&&(d+=`

`),u=")",c=String(M+A+1).length+h(P)+1+(Pe?2:0)}}}}}function h(g){let w=0;for(let M=0;M<g.length;M++){if(g.charAt(M)!==" ")return w;w++}return w}const m=r?le.default.red(`Oops, an unknown error occured! This is ${le.default.bold("on us")}, you did nothing wrong.
It occured in the ${le.default.bold(`\`${f}\``)} invocation${l}`):le.default.red(`Invalid ${le.default.bold(`\`${f}\``)} invocation${l}`),b=`
${m}
${d}${le.default.reset()}`;return{indent:c,stack:b,afterLines:u,lastErrorHeight:a}};function Iw(e){return Array.prototype.concat.apply([],e)}function Rs(e,t,r){return Iw(e.map(t,r))}const E=R(ve()),Je=R(Gr()),Ps=R(Xt()),Sr=2;class _w{constructor(e,t){this.type=e;this.children=t;this.printFieldError=({error:e,path:t},r,n)=>{if(e.type==="emptySelect"){const i=n?"":` Available options are listed in ${E.default.greenBright.dim("green")}.`;return`The ${E.default.redBright("`select`")} statement for type ${E.default.bold(at(e.field.outputType.type))} must not be empty.${i}`}if(e.type==="emptyInclude"){if(r.length===0)return`${E.default.bold(at(e.field.outputType.type))} does not have any relation and therefore can't have an ${E.default.redBright("`include`")} statement.`;const i=n?"":` Available options are listed in ${E.default.greenBright.dim("green")}.`;return`The ${E.default.redBright("`include`")} statement for type ${E.default.bold(at(e.field.outputType.type))} must not be empty.${i}`}if(e.type==="noTrueSelect")return`The ${E.default.redBright("`select`")} statement for type ${E.default.bold(at(e.field.outputType.type))} needs ${E.default.bold("at least one truthy value")}.`;if(e.type==="includeAndSelect")return`Please ${E.default.bold("either")} use ${E.default.greenBright("`include`")} or ${E.default.greenBright("`select`")}, but ${E.default.redBright("not both")} at the same time.`;if(e.type==="invalidFieldName"){const i=e.isInclude?"include":"select",s=e.isIncludeScalar?"Invalid scalar":"Unknown",o=n?"":e.isInclude&&r.length===0?`
This model has no relations, so you can't use ${E.default.redBright("include")} with it.`:` Available options are listed in ${E.default.greenBright.dim("green")}.`;let a=`${s} field ${E.default.redBright(`\`${e.providedName}\``)} for ${E.default.bold(i)} statement on model ${E.default.bold.white(e.modelName)}.${o}`;return e.didYouMean&&(a+=` Did you mean ${E.default.greenBright(`\`${e.didYouMean}\``)}?`),e.isIncludeScalar&&(a+=`
Note, that ${E.default.bold("include")} statements only accept relation fields.`),a}if(e.type==="invalidFieldType"){const i=`Invalid value ${E.default.redBright(`${xr(e.providedValue)}`)} of type ${E.default.redBright(Gt(e.providedValue,void 0))} for field ${E.default.bold(`${e.fieldName}`)} on model ${E.default.bold.white(e.modelName)}. Expected either ${E.default.greenBright("true")} or ${E.default.greenBright("false")}.`;return i}};this.printArgError=({error:e,path:t},r,n)=>{if(e.type==="invalidName"){let i=`Unknown arg ${E.default.redBright(`\`${e.providedName}\``)} in ${E.default.bold(t.join("."))} for type ${E.default.bold(e.outputType?e.outputType.name:Dr(e.originalType))}.`;return e.didYouMeanField?i+=`
→ Did you forget to wrap it with \`${E.default.greenBright("select")}\`? ${E.default.dim("e.g. "+E.default.greenBright(`{ select: { ${e.providedName}: ${e.providedValue} } }`))}`:e.didYouMeanArg?(i+=` Did you mean \`${E.default.greenBright(e.didYouMeanArg)}\`?`,!r&&!n&&(i+=` ${E.default.dim("Available args:")}
`+zt(e.originalType,!0))):e.originalType.fields.length===0?i+=` The field ${E.default.bold(e.originalType.name)} has no arguments.`:!r&&!n&&(i+=` Available args:

`+zt(e.originalType,!0)),i}if(e.type==="invalidType"){let i=xr(e.providedValue,{indent:"  "});const s=i.split(`
`).length>1;if(s&&(i=`
${i}
`),e.requiredType.bestFittingType.kind==="enum")return`Argument ${E.default.bold(e.argName)}: Provided value ${E.default.redBright(i)}${s?"":" "}of type ${E.default.redBright(Gt(e.providedValue))} on ${E.default.bold(`prisma.${this.children[0].name}`)} is not a ${E.default.greenBright(Ar(Ut(e.requiredType.bestFittingType.kind),e.requiredType.bestFittingType.isList))}.
→ Possible values: ${e.requiredType.bestFittingType.type.values.map(d=>E.default.greenBright(`${Ut(e.requiredType.bestFittingType.type)}.${d}`)).join(", ")}`;let o=".";Un(e.requiredType.bestFittingType.type)&&(o=`:
`+zt(e.requiredType.bestFittingType.type));let a=`${e.requiredType.inputType.map(d=>E.default.greenBright(Ar(Ut(d.type),e.requiredType.bestFittingType.isList))).join(" or ")}${o}`;const l=e.requiredType.inputType.length===2&&e.requiredType.inputType.find(d=>Un(d.type))||null;return l&&(a+=`
`+zt(l.type,!0)),`Argument ${E.default.bold(e.argName)}: Got invalid value ${E.default.redBright(i)}${s?"":" "}on ${E.default.bold(`prisma.${this.children[0].name}`)}. Provided ${E.default.redBright(Gt(e.providedValue))}, expected ${a}`}if(e.type==="invalidNullArg"){const i=t.length===1&&t[0]===e.name?"":` for ${E.default.bold(`${t.join(".")}`)}`,s=` Please use ${E.default.bold.greenBright("undefined")} instead.`;return`Argument ${E.default.greenBright(e.name)}${i} must not be ${E.default.bold("null")}.${s}`}if(e.type==="missingArg"){const i=t.length===1&&t[0]===e.missingName?"":` for ${E.default.bold(`${t.join(".")}`)}`;return`Argument ${E.default.greenBright(e.missingName)}${i} is missing.`}if(e.type==="atLeastOne"){const i=n?"":` Available args are listed in ${E.default.dim.green("green")}.`;return`Argument ${E.default.bold(t.join("."))} of type ${E.default.bold(e.inputType.name)} needs ${E.default.greenBright("at least one")} argument.${i}`}if(e.type==="atMostOne"){const i=n?"":` Please choose one. ${E.default.dim("Available args:")} 
${zt(e.inputType,!0)}`;return`Argument ${E.default.bold(t.join("."))} of type ${E.default.bold(e.inputType.name)} needs ${E.default.greenBright("exactly one")} argument, but you provided ${e.providedKeys.map(s=>E.default.redBright(s)).join(" and ")}.${i}`}};this.type=e,this.children=t}toString(){return`${this.type} {
${Je.default(this.children.map(String).join(`
`),Sr)}
}`}validate(e,t=!1,r,n,i){e||(e={});const s=this.children.filter(g=>g.hasInvalidChild||g.hasInvalidArg);if(s.length===0)return;const o=[],a=[],l=e&&e.select?"select":e.include?"include":void 0;for(const g of s){const w=g.collectErrors(l);o.push(...w.fieldErrors.map(M=>({...M,path:t?M.path:M.path.slice(1)}))),a.push(...w.argErrors.map(M=>({...M,path:t?M.path:M.path.slice(1)})))}const d=this.children[0].name,u=t?this.type:d,c=[],f=[],h=[];for(const g of o){const w=this.normalizePath(g.path,e).join(".");if(g.error.type==="invalidFieldName"){c.push(w);const M=g.error.outputType,{isInclude:y}=g.error;M.fields.filter(v=>y?v.outputType.kind==="object":!0).forEach(v=>{const A=w.split(".");h.push({path:`${A.slice(0,A.length-1).join(".")}.${v.name}`,type:"true",isRequired:!1})})}else g.error.type==="includeAndSelect"?(c.push("select"),c.push("include")):f.push(w);if(g.error.type==="emptySelect"||g.error.type==="noTrueSelect"||g.error.type==="emptyInclude"){const M=this.normalizePath(g.path,e),y=M.slice(0,M.length-1).join("."),v=g.error.field.outputType.type;v.fields.filter(A=>g.error.type==="emptyInclude"?A.outputType.kind==="object":!0).forEach(A=>{h.push({path:`${y}.${A.name}`,type:"true",isRequired:!1})})}}for(const g of a){const w=this.normalizePath(g.path,e).join(".");if(g.error.type==="invalidName")c.push(w);else if(g.error.type!=="missingArg"&&g.error.type!=="atLeastOne")f.push(w);else if(g.error.type==="missingArg"){const M=g.error.missingArg.inputTypes.length===1?g.error.missingArg.inputTypes[0].type:g.error.missingArg.inputTypes.map(y=>{const v=Dr(y.type);return v==="Null"?"null":y.isList?v+"[]":v}).join(" | ");h.push({path:w,type:Ss(M,!0,w.split("where.").length===2),isRequired:g.error.missingArg.isRequired})}}const m=g=>{const w=a.some(L=>L.error.type==="missingArg"&&L.error.missingArg.isRequired),M=Boolean(a.find(L=>L.error.type==="missingArg"&&!L.error.missingArg.isRequired)),y=M||w;let v="";w&&(v+=`
${E.default.dim("Note: Lines with ")}${E.default.reset.greenBright("+")} ${E.default.dim("are required")}`),M&&(v.length===0&&(v=`
`),w?v+=E.default.dim(`, lines with ${E.default.green("?")} are optional`):v+=E.default.dim(`Note: Lines with ${E.default.green("?")} are optional`),v+=E.default.dim("."));const A=`${a.filter(L=>L.error.type!=="missingArg"||L.error.missingArg.isRequired).map(L=>this.printArgError(L,y,n==="minimal")).join(`
`)}
${o.map(L=>this.printFieldError(L,h,n==="minimal")).join(`
`)}`;if(n==="minimal")return Ps.default(A);const{stack:_,indent:J,afterLines:Q}=Bn({callsite:g,originalMethod:r||u,showColors:n&&n==="pretty",isValidationError:!0});let S={ast:t?{[d]:e}:e,keyPaths:c,valuePaths:f,missingItems:h};(r==null?void 0:r.endsWith("aggregate"))&&(S=kw(S));const de=`${_}${Je.default(jn(S),J).slice(J)}${E.default.dim(Q)}

${A}${v}
`;return process.env.NO_COLOR||n==="colorless"?Ps.default(de):de},b=new Pn(m(i));throw process.env.NODE_ENV!=="production"&&Object.defineProperty(b,"render",{get:()=>m,enumerable:!1}),b}normalizePath(e,t){const r=e.slice(),n=[];let i,s=t;for(;(i=r.shift())!==void 0;){if(!Array.isArray(s)&&i===0)continue;i==="select"?s[i]?s=s[i]:s=s.include:s&&s[i]&&(s=s[i]),n.push(i)}return n}}class Pn extends Error{}class ue{constructor({name:e,args:t,children:r,error:n,schemaField:i}){this.name=e,this.args=t,this.children=r,this.error=n,this.schemaField=i,this.hasInvalidChild=r?r.some(s=>Boolean(s.error||s.hasInvalidArg||s.hasInvalidChild)):!1,this.hasInvalidArg=t?t.hasInvalidArg:!1}toString(){let e=this.name;return this.error?e+" # INVALID_FIELD":(this.args&&this.args.args&&this.args.args.length>0&&(this.args.args.length===1?e+=`(${this.args.toString()})`:e+=`(
${Je.default(this.args.toString(),Sr)}
)`),this.children&&(e+=` {
${Je.default(this.children.map(String).join(`
`),Sr)}
}`),e)}collectErrors(e="select"){const t=[],r=[];if(this.error&&t.push({path:[this.name],error:this.error}),this.children)for(const n of this.children){const i=n.collectErrors(e);t.push(...i.fieldErrors.map(s=>({...s,path:[this.name,e,...s.path]}))),r.push(...i.argErrors.map(s=>({...s,path:[this.name,e,...s.path]})))}return this.args&&r.push(...this.args.collectErrors().map(n=>({...n,path:[this.name,...n.path]}))),{fieldErrors:t,argErrors:r}}}class ce{constructor(e=[]){this.args=e,this.hasInvalidArg=e?e.some(t=>Boolean(t.hasError)):!1}toString(){return this.args.length===0?"":`${this.args.map(e=>e.toString()).filter(e=>e).join(`
`)}`}collectErrors(){return this.hasInvalidArg?Rs(this.args,e=>e.collectErrors()):[]}}function Gn(e,t,r,n,i){return i?e&&e.values&&e.__prismaRawParamaters__?JSON.stringify(e.values):JSON.stringify(JSON.stringify(e)):e===void 0?null:e===null?"null":n&&typeof e=="string"?e:n&&Array.isArray(e)?`[${e.join(", ")}]`:JSON.stringify(e,t,r)}class _e{constructor({key:e,value:t,argType:r,isEnum:n=!1,error:i,schemaArg:s}){this.key=e,this.value=t,this.argType=r,this.isEnum=n,this.error=i,this.schemaArg=s,this.isNullable=(s==null?void 0:s.inputTypes.reduce((o,a)=>o&&s.isNullable,!0))||!1,this.hasError=Boolean(i)||(t instanceof ce?t.hasInvalidArg:!1)||Array.isArray(t)&&t.some(o=>o instanceof ce?o.hasInvalidArg:!1)}_toString(e,t){var r;if(typeof e=="undefined")return;if(e instanceof ce)return e.args.length===1&&e.args[0].key==="set"&&((r=e.args[0].schemaArg)==null?void 0:r.inputTypes[0].type)==="Json"?`${t}: {
  set: ${Gn(e.args[0].value,null,2,this.isEnum,!0)}
}`:`${t}: {
${Je.default(e.toString(),2)}
}`;if(Array.isArray(e)){if(this.argType==="Json")return`${t}: ${Gn(e,null,2,this.isEnum,this.argType==="Json")}`;const n=!e.some(i=>typeof i=="object");return`${t}: [${n?"":`
`}${Je.default(e.map(i=>i instanceof ce?`{
${Je.default(i.toString(),Sr)}
}`:Gn(i,null,2,this.isEnum)).join(`,${n?" ":`
`}`),n?0:Sr)}${n?"":`
`}]`}return`${t}: ${Gn(e,null,2,this.isEnum,this.argType==="Json")}`}toString(){return this._toString(this.value,this.key)}collectErrors(){if(!this.hasError)return[];const e=[];return this.error&&e.push({error:this.error,path:[this.key]}),Array.isArray(this.value)&&e.push(...Rs(this.value,(t,r)=>t.collectErrors?t.collectErrors().map(n=>({...n,path:[this.key,r,...n.path]})):[])),this.value instanceof ce&&e.push(...this.value.collectErrors().map(t=>({...t,path:[this.key,...t.path]}))),e}}function vr({dmmf:e,rootTypeName:t,rootField:r,select:n}){n||(n={});const i=t==="query"?e.queryType:e.mutationType,s={args:[],outputType:{isList:!1,type:i,kind:"object"},isRequired:!0,name:t},o=Ed(e,{[r]:n},s,[t]);return new _w(t,o)}function Er(e){return e}function Ed(e,t,r,n){const i=r.outputType.type;return Object.entries(t).reduce((s,[o,a])=>{const l=i.fieldMap?i.fieldMap[o]:i.fields.find(g=>g.name===o);if(!l)return s.push(new ue({name:o,children:[],error:{type:"invalidFieldName",modelName:i.name,providedName:o,didYouMean:Ln(o,i.fields.map(g=>g.name)),outputType:i}})),s;if(typeof a!="boolean"&&l.outputType.kind==="scalar"&&l.name!=="executeRaw"&&l.name!=="queryRaw"&&i.name!=="Query"&&!o.startsWith("aggregate")&&l.name!=="count")return s.push(new ue({name:o,children:[],error:{type:"invalidFieldType",modelName:i.name,fieldName:o,providedValue:a}})),s;if(a===!1)return s;const d={name:l.name,fields:l.args,constraints:{minNumFields:null,maxNumFields:null}},u=typeof a=="object"?Fn(a,["include","select"]):void 0,c=u?zn(u,d,[],typeof l=="string"?void 0:l.outputType.type):void 0,f=l.outputType.kind==="object";if(a){if(a.select&&a.include)s.push(new ue({name:o,children:[new ue({name:"include",args:new ce,error:{type:"includeAndSelect",field:l}})]}));else if(a.include){const g=Object.keys(a.include);if(g.length===0)return s.push(new ue({name:o,children:[new ue({name:"include",args:new ce,error:{type:"emptyInclude",field:l}})]})),s;if(l.outputType.kind==="object"){const w=l.outputType.type,M=w.fields.filter(v=>v.outputType.kind==="object").map(v=>v.name),y=g.filter(v=>!M.includes(v));if(y.length>0)return s.push(...y.map(v=>new ue({name:v,children:[new ue({name:v,args:new ce,error:{type:"invalidFieldName",modelName:w.name,outputType:w,providedName:v,didYouMean:Ln(v,M)||void 0,isInclude:!0,isIncludeScalar:w.fields.some(A=>A.name===v)}})]}))),s}}else if(a.select){const g=Object.values(a.select);if(g.length===0)return s.push(new ue({name:o,children:[new ue({name:"select",args:new ce,error:{type:"emptySelect",field:l}})]})),s;const w=g.filter(M=>M);if(w.length===0)return s.push(new ue({name:o,children:[new ue({name:"select",args:new ce,error:{type:"noTrueSelect",field:l}})]})),s}}const h=f?Td(l.outputType.type):null;let m=h;a&&(a.select?m=a.select:a.include&&(m=Cr(h,a.include)));const b=m!==!1&&f?Ed(e,m,l,[...n,o]):void 0;return s.push(new ue({name:o,args:c,children:b,schemaField:l})),s},[])}function Td(e){return e.fields.reduce((t,r)=>(r.outputType.kind==="scalar"||r.outputType.kind==="enum"?t[r.name]=!0:r.outputType.type.isEmbedded&&(t[r.name]={select:Td(r.outputType.type)}),t),{})}function Ls(e,t,r,n){const i=new _e({key:e,value:t,isEnum:n.kind==="enum",argType:n.type,error:{type:"invalidType",providedValue:t,argName:e,requiredType:{inputType:r.inputTypes,bestFittingType:n}}});return i}function Rw(e,t,r){const{type:n,isList:i}=r,s=Ar(Ut(n),i),o=Gt(e,n);return i&&o==="List<>"||(s==="Json"||(o==="DateTime"&&s==="String"||(o==="List<DateTime>"&&s==="List<String>"||(o==="UUID"&&s==="String"||(o==="List<UUID>"&&s==="List<String>"||(o==="String"&&s==="ID"||(o==="List<String>"&&s==="List<ID>"||(s==="List<String>"&&(o==="List<String | UUID>"||o==="List<UUID | String>")||(o==="Int"&&s==="Float"||(o==="List<Int>"&&s==="List<Float>"||(o==="Int"&&s==="Long"||(o==="List<Int>"&&s==="List<Long>"||o===s))))))))))))?!0:!t.isRequired&&e===null}const Hn=e=>pd(e,(t,r)=>r!==void 0);function Lw(e,t,r){let n=null;for(const i of r.inputTypes)if(n=Pw(e,t,r,i),(n==null?void 0:n.collectErrors().length)===0)return n;return n}function Pw(e,t,r,n){if(typeof t=="undefined")return r.isRequired?new _e({key:e,value:t,isEnum:n.kind==="enum",error:{type:"missingArg",missingName:e,missingArg:r,atLeastOne:!1,atMostOne:!1}}):null;const{isNullable:i,isRequired:s}=r;if(t===null&&!i&&!s){const d=Un(n.type)?n.type.constraints.minNumFields!==null&&n.type.constraints.minNumFields>0:!1;if(!d)return new _e({key:e,value:t,isEnum:n.kind==="enum",error:{type:"invalidNullArg",name:e,invalidType:r.inputTypes,atLeastOne:!1,atMostOne:!1}})}if(!n.isList)if(Un(n.type)){if(typeof t!="object")return Ls(e,t,r,n);{let d=Hn(t),u;const c=Object.keys(d||{}),f=c.length;return f===0&&typeof n.type.constraints.minNumFields=="number"&&n.type.constraints.minNumFields>0?u={type:"atLeastOne",key:e,inputType:n.type}:f>1&&typeof n.type.constraints.maxNumFields=="number"&&n.type.constraints.maxNumFields<2&&(u={type:"atMostOne",key:e,inputType:n.type,providedKeys:c}),new _e({key:e,value:d===null?null:zn(d,n.type,r.inputTypes),isEnum:n.kind==="enum",error:u,argType:n.type,schemaArg:r})}}else return Ad(e,t,r,n);if(!Array.isArray(t)&&n.isList&&(e!=="updateMany"&&(t=[t])),n.kind==="enum"||n.kind==="scalar")return Ad(e,t,r,n);const o=n.type,a=typeof o.constraints.minNumFields=="number"&&o.constraints.minNumFields>0?Array.isArray(t)&&t.some(d=>!d||Object.keys(Hn(d)).length===0):!1;let l=a?{inputType:o,key:e,type:"atLeastOne"}:void 0;if(!l){const d=typeof o.constraints.maxNumFields=="number"&&o.constraints.maxNumFields<2?Array.isArray(t)&&t.find(u=>!u||Object.keys(Hn(u)).length!==1):!1;d&&(l={inputType:o,key:e,type:"atMostOne",providedKeys:Object.keys(d)})}if(!Array.isArray(t))for(const d of r.inputTypes){const u=zn(t,d.type);if(u.collectErrors().length===0)return new _e({key:e,value:u,isEnum:!1,argType:d.type,schemaArg:r})}return new _e({key:e,value:t.map(d=>n.isList&&typeof d!="object"?d:typeof d!="object"||!t?Ls(e,d,r,n):zn(d,o)),isEnum:!1,argType:o,schemaArg:r,error:l})}function Un(e){return typeof e=="string"?!1:!e.hasOwnProperty("values")}function Ad(e,t,r,n){return Rw(t,r,n)?new _e({key:e,value:t,isEnum:r.inputTypes[0].kind==="enum",argType:n.type,schemaArg:r}):Ls(e,t,r,n)}function zn(e,t,r,n){const i=Hn(e),{fields:s,fieldMap:o}=t,a=s.map(c=>[c.name,void 0]),l=Object.entries(i||{}),d=ld(l,a,c=>c[0]),u=d.reduce((c,[f,h])=>{const m=o?o[f]:s.find(g=>g.name===f);if(!m){const g=typeof h=="boolean"&&n&&n.fields.some(w=>w.name===f)?f:null;return c.push(new _e({key:f,value:h,error:{type:"invalidName",providedName:f,providedValue:h,didYouMeanField:g,didYouMeanArg:!g&&Ln(f,[...s.map(w=>w.name),"select"])||void 0,originalType:t,possibilities:r,outputType:n}})),c}const b=Lw(f,h,m);return b&&c.push(b),c},[]);if(typeof t.constraints.minNumFields=="number"&&l.length<t.constraints.minNumFields||u.find(c=>{var f,h;return((f=c.error)==null?void 0:f.type)==="missingArg"||((h=c.error)==null?void 0:h.type)==="atLeastOne"})){const c=t.fields.filter(f=>!f.isRequired&&i&&(typeof i[f.name]=="undefined"||i[f.name]===null));u.push(...c.map(f=>{const h=f.inputTypes[0];return new _e({key:f.name,value:void 0,isEnum:h.kind==="enum",error:{type:"missingArg",missingName:f.name,missingArg:f,atLeastOne:Boolean(t.constraints.minNumFields)||!1,atMostOne:t.constraints.maxNumFields===1||!1}})}))}return new ce(u)}function Tr({document:e,path:t,data:r}){const n=Is(r,t);if(n==="undefined")return null;if(typeof n!="object")return n;const i=Nw(e,t),s=Ns({field:i,data:n});return Fs({field:i,data:s})}function Ns({field:e,data:t}){if(!t||typeof t!="object"||!e.children||!e.schemaField)return t;for(const r of e.children){if(r.schemaField&&r.schemaField.outputType.type==="DateTime")if(Array.isArray(t))for(const n of t)typeof n[r.name]!="undefined"&&(n[r.name]=n[r.name]?new Date(n[r.name]):n[r.name]);else typeof t[r.name]!="undefined"&&(t[r.name]=t[r.name]?new Date(t[r.name]):t[r.name]);if(r.schemaField&&r.schemaField.outputType.kind==="object")if(Array.isArray(t))for(const n of t)Ns({field:r,data:n[r.name]});else Ns({field:r,data:t[r.name]})}return t}function Fs({field:e,data:t}){if(!t||typeof t!="object"||!e.children||!e.schemaField)return t;for(const r of e.children){if(r.schemaField&&r.schemaField.outputType.type==="Json")if(Array.isArray(t))for(const n of t)typeof n[r.name]!="undefined"&&(n[r.name]=n[r.name]?JSON.parse(n[r.name]):n[r.name]);else typeof t[r.name]!="undefined"&&(t[r.name]=t[r.name]?JSON.parse(t[r.name]):t[r.name]);if(r.schemaField&&r.schemaField.outputType.kind==="object")if(Array.isArray(t))for(const n of t)Fs({field:r,data:n[r.name]});else Fs({field:r,data:t[r.name]})}return t}function Nw(e,t){const r=t.slice(),n=r.shift();let i=e.children.find(s=>s.name===n);if(!i)throw new Error(`Could not find field ${n} in document ${e}`);for(;r.length>0;){const s=r.shift();if(!i.children)throw new Error(`Can't get children for field ${i} with child ${s}`);const o=i.children.find(a=>a.name===s);if(!o)throw new Error(`Can't find child ${s} of field ${i}`);i=o}return i}function js(e){return e.split(".").filter(t=>t!=="select").join(".")}function qs(e){const t=Object.prototype.toString.call(e);if(t==="[object Object]"){const r={};for(const n in e)if(n==="select")for(const i in e.select)r[i]=qs(e.select[i]);else r[n]=qs(e[n]);return r}return e}function kw({ast:e,keyPaths:t,missingItems:r,valuePaths:n}){const i=t.map(js),s=n.map(js),o=r.map(l=>({path:js(l.path),isRequired:l.isRequired,type:l.type})),a=qs(e);return{ast:a,keyPaths:i,missingItems:o,valuePaths:s}}function Dd(e){return typeof e=="string"?e:e.reduce((t,r)=>{const n=typeof r=="string"?r:r.level;return n==="query"?t:t&&(r==="info"||t==="info")?"info":n},void 0)}function xd(e,t,r){const n=Cd(e,r),i=Cd(t,r),s=Object.values(i).map(a=>a[a.length-1]),o=Object.keys(i);return Object.entries(n).forEach(([a,l])=>{o.includes(a)||s.push(l[l.length-1])}),s}const Cd=(e,t)=>e.reduce((r,n)=>{const i=t(n);return r[i]||(r[i]=[]),r[i].push(n),r},{});class Sd{constructor(e){this.options=e;this.tickActive=!1;this.batches={}}request(e){const t=this.options.batchBy(e);return t?(this.batches[t]||(this.batches[t]=[],this.tickActive||(this.tickActive=!0,process.nextTick(()=>{this.dispatchBatches(),this.tickActive=!1}))),new Promise((r,n)=>{this.batches[t].push({request:e,resolve:r,reject:n})})):this.options.singleLoader(e)}dispatchBatches(){for(const e in this.batches){const t=this.batches[e];delete this.batches[e],t.length===1?this.options.singleLoader(t[0].request).then(r=>{r instanceof Error?t[0].reject(r):t[0].resolve(r)}).catch(r=>{t[0].reject(r)}):this.options.batchLoader(t.map(r=>r.request)).then(r=>{if(r instanceof Error)for(let n=0;n<t.length;n++)t[n].reject(r);else for(let n=0;n<t.length;n++){const i=r[n];i instanceof Error?t[n].reject(i):t[n].resolve(i)}}).catch(r=>{for(let n=0;n<t.length;n++)t[n].reject(r)})}}}function lt(e){return JSON.stringify($s(e))}function $s(e){const t=Object.prototype.toString.call(e);if(t==="[object Date]")return{prisma__type:"date",prisma__value:e.toJSON()};if(t==="[object Object]"){const r={};for(let n in e)n!=="__proto__"&&(r[n]=$s(e[n]));return r}if(t==="[object Array]"){let r=e.length,n;for(n=new Array(r);r--;)n[r]=$s(e[r]);return n}return e}const Or=R(require("path")),ge=R(Cs()),Bs=R(vs()),Wn=R(er()),Us=R(require("fs")),Re=R(ve()),Gs=R(Es()),Od=R(nd()),Id=R(id()),kd=R(Xt()),_d=R(sd()),Rd=R(require("async_hooks")),ye=Wn.default("prisma-client"),Fw={findOne:"query",findFirst:"query",findMany:"query",count:"query",create:"mutation",update:"mutation",updateMany:"mutation",upsert:"mutation",delete:"mutation",deleteMany:"mutation",executeRaw:"mutation",queryRaw:"mutation",aggregate:"query"},jw={avg:!0,count:!0,sum:!0,min:!0,max:!0};function Ds(e){class t{constructor(r){this._middlewares=[];this._engineMiddlewares=[];var m,b,g,w,M;const n=r!=null?r:{},i=(m=n.__internal)!=null?m:{},s=i.debug===!0;s&&Wn.default.enable("prisma-client"),i.hooks&&(this._hooks=i.hooks);let o=(b=e.sqliteDatasourceOverrides)!=null?b:[];o=o.map(y=>({name:y.name,url:"file:"+Or.default.resolve(e.dirname,y.url)}));const a=Object.entries(n.datasources||{}).filter(([y,v])=>v&&v.url).map(([y,{url:v}])=>({name:y,url:v})),l=xd(o,a,y=>y.name),d=i.engine||{};n.errorFormat?this._errorFormat=n.errorFormat:process.env.NODE_ENV==="production"?this._errorFormat="minimal":process.env.NO_COLOR?this._errorFormat="colorless":this._errorFormat="colorless";const u=this.readEnv();this._dmmf=new Mr(e.document);let c=Or.default.resolve(e.dirname,e.relativePath);Us.default.existsSync(c)||(c=e.dirname);const f=(w=(g=e.generator)==null?void 0:g.previewFeatures)!=null?w:[];this._engineConfig={cwd:c,enableDebugLogs:s,enableEngineDebugMode:d.enableEngineDebugMode,datamodelPath:Or.default.join(e.dirname,"schema.prisma"),prismaPath:(M=d.binaryPath)!=null?M:void 0,engineEndpoint:d.endpoint,datasources:l,generator:e.generator,showColors:this._errorFormat==="pretty",logLevel:n.log&&Dd(n.log),logQueries:n.log&&Boolean(typeof n.log=="string"?n.log==="query":n.log.find(y=>typeof y=="string"?y==="query":y.level==="query")),env:u,flags:[],clientVersion:e.clientVersion,enableExperimental:_d.mapPreviewFeatures(f),useUds:i.useUds};const h=Fn(this._engineConfig,["env","datasources"]);if(ye({engineConfig:h}),this._engine=new Bs.NodeEngine(this._engineConfig),this._fetcher=new qw(this,!1,this._hooks),n.log)for(const y of n.log){const v=typeof y=="string"?y:y.emit==="stdout"?y.level:null;v&&this.$on(v,A=>{const _={query:"blue",info:"cyan",warn:"yellow",error:"red"};console.error(Re.default[_[v]](`prisma:${v}`.padEnd(13))+(A.message||A.query))})}this._bootstrapClient()}readEnv(){const r=Or.default.resolve(e.dirname,e.relativePath,".env");return Us.default.existsSync(r)?Id.dotenvExpand(Od.default.config({path:r})).parsed:{}}use(...r){return console.warn(`${Re.default.yellow("warn")} prisma.use() is deprecated, please use prisma.$use() instead`),this.$use(...r)}$use(r,n){if(typeof r=="function")this._middlewares.push(r);else if(typeof r=="string")if(r==="all")this._middlewares.push(n);else if(r==="engine")this._engineMiddlewares.push(n);else throw new Error(`Unknown middleware hook ${r}`);else throw new Error(`Invalid middleware ${r}`)}on(r,n){return console.warn(`${Re.default.yellow("warn")} prisma.on() is deprecated, please use prisma.$on() instead`),this.$on(r,n)}$on(r,n){this._engine.on(r,i=>{const s=i.fields;r==="query"?n({timestamp:i.timestamp,query:s.query,params:s.params,duration:s.duration_ms,target:i.target}):n({timestamp:i.timestamp,message:s.message,target:i.target})})}connect(){return console.warn(`${Re.default.yellow("warn")} prisma.connect() is deprecated, please use prisma.$connect() instead`),this.$connect()}async $connect(){return this._engine.start()}async _runDisconnect(){await this._engine.stop(),delete this._connectionPromise,this._engine=new Bs.NodeEngine(this._engineConfig),delete this._disconnectionPromise,delete this._getConfigPromise}disconnect(){return console.warn(`${Re.default.yellow("warn")} prisma.disconnect() is deprecated, please use prisma.$disconnect() instead`),this.$disconnect()}async $disconnect(){return this._engine.stop()}async _getActiveProvider(){const r=await this._engine.getConfig();return r.datasources[0].activeProvider}executeRaw(r,...n){return console.warn(`${Re.default.yellow("warn")} prisma.executeRaw() is deprecated, please use prisma.$executeRaw() instead`),this.$executeRaw(r,...n)}async $executeRaw(r,...n){let i="",s;const o=await this._getActiveProvider()==="postgresql"?"text":"sql";if(ye("Prisma Client call:"),Array.isArray(r)){const l=Gs.sqltag(r,...n);i=l[o],s={values:lt(l.values),__prismaRawParamaters__:!0}}else typeof r=="string"?(i=r,n.length&&(s={values:lt(n),__prismaRawParamaters__:!0})):(i=r[o],s={values:lt(r.values),__prismaRawParamaters__:!0});(s==null?void 0:s.values)?ye(`prisma.executeRaw(${i}, ${s.values})`):ye(`prisma.executeRaw(${i})`);const a={query:i,parameters:s};return this._request({args:a,clientMethod:"executeRaw",dataPath:[],action:"executeRaw",callsite:this._getCallsite(),runInTransaction:!1})}_getCallsite(){return this._errorFormat!=="minimal"?new Error().stack:void 0}queryRaw(r,...n){return console.warn(`${Re.default.yellow("warn")} prisma.queryRaw() is deprecated, please use prisma.$queryRaw() instead`),this.$queryRaw(r,...n)}async $queryRaw(r,...n){let i="",s;const o=await this._getActiveProvider()==="postgresql"?"text":"sql";if(ye("Prisma Client call:"),Array.isArray(r)){const l=Gs.sqltag(r,...n);i=l[o],s={values:lt(l.values),__prismaRawParamaters__:!0}}else typeof r=="string"?(i=r,n.length&&(s={values:lt(n),__prismaRawParamaters__:!0})):(i=r[o],s={values:lt(r.values),__prismaRawParamaters__:!0});(s==null?void 0:s.values)?ye(`prisma.queryRaw(${i}, ${s.values})`):ye(`prisma.queryRaw(${i})`);const a={query:i,parameters:s};return this._request({args:a,clientMethod:"queryRaw",dataPath:[],action:"queryRaw",callsite:this._getCallsite(),runInTransaction:!1})}async __internal_triggerPanic(r){if(!this._engineConfig.enableEngineDebugMode)throw new Error(`In order to use .__internal_triggerPanic(), please enable the debug mode like so:
new PrismaClient({
  __internal: {
    engine: {
      enableEngineDebugMode: true
    }
  }
})`);const n="SELECT 1",i=r?{"X-DEBUG-FATAL":"1"}:{"X-DEBUG-NON-FATAL":"1"};return this._request({action:"queryRaw",args:{query:n,parameters:void 0},clientMethod:"queryRaw",dataPath:[],runInTransaction:!1,headers:i,callsite:this._getCallsite()})}transaction(r){return console.warn(`${Re.default.yellow("warn")} prisma.transaction() is deprecated, please use prisma.$transaction() instead`),this.$transaction(r)}async $transaction(r){var n,i;if((i=(n=e.generator)==null?void 0:n.previewFeatures)==null?void 0:i.includes("transactionApi")){for(const s of r)if(!s.requestTransaction||typeof s.requestTransaction!="function")throw new Error("All elements of the array need to be Prisma Client promises.");return Promise.all(r.map(s=>s.requestTransaction()))}else throw new Error(`In order to use the .transaction() api, please enable 'previewFeatures = "transactionApi" in your schema.`)}_request(r){const n=new Rd.AsyncResource("prisma-client-request");if(this._middlewares.length>0){const i={args:r.args,dataPath:r.dataPath,runInTransaction:r.runInTransaction,action:r.action,model:r.model};return n.runInAsyncScope(()=>this._requestWithMiddlewares(i,this._middlewares.slice(),r.clientMethod,r.callsite,r.headers))}return n.runInAsyncScope(()=>this._executeRequest(r))}_requestWithMiddlewares(r,n,i,s,o){const a=n.shift();return a?a(r,l=>this._requestWithMiddlewares(l,n,i,s)):(r.clientMethod=i,r.callsite=s,r.headers=o,this._executeRequest(r))}_executeRequest({args:r,clientMethod:n,dataPath:i,callsite:s,runInTransaction:o,action:a,model:l,headers:d}){if(a!=="executeRaw"&&a!=="queryRaw"&&!l)throw new Error(`Model missing for action ${a}`);if((a==="executeRaw"||a==="queryRaw")&&l)throw new Error(`executeRaw and queryRaw can't be executed on a model basis. The model ${l} has been provided`);let u;const c=Fw[a];(a==="executeRaw"||a==="queryRaw")&&(u=a);let f;if(l){if(f=this._dmmf.mappingsMap[l],!f)throw new Error(`Could not find mapping for model ${l}`);u=f[a]}if(c!=="query"&&c!=="mutation")throw new Error(`Invalid operation ${c} for action ${a}`);const h=this._dmmf.rootFieldMap[u];if(!h)throw new Error(`Could not find rootField ${u} for action ${a} for model ${l} on rootType ${c}`);const{isList:m}=h.outputType,b=at(h.outputType.type);let g=vr({dmmf:this._dmmf,rootField:u,rootTypeName:c,select:r});if(g.validate(r,!1,n,this._errorFormat,s),g=Er(g),Wn.default.enabled("prisma-client")){const w=String(g);ye("Prisma Client call:"),ye(`prisma.${n}(${jn({ast:r,keyPaths:[],valuePaths:[],missingItems:[]})})`),ye("Generated request:"),ye(w+`
`)}return this._fetcher.request({document:g,clientMethod:n,typeName:b,dataPath:i,isList:m,rootField:u,callsite:s,showColors:this._errorFormat==="pretty",args:r,engineHook:this._engineMiddlewares[0],runInTransaction:o,headers:d})}_bootstrapClient(){const r=this._dmmf.mappings.reduce((n,i)=>{const s=Os(i.model),o=this._dmmf.modelMap[i.model];if(!o)throw new Error(`Invalid mapping ${i.model}, can't find model`);const a=({operation:l,actionName:d,args:u,dataPath:c,modelName:f})=>{c=c!=null?c:[];const h=`${s}.${d}`;let m;const b=this._getCallsite(),g=f!=null?f:o.name,w={then:(M,y)=>(m||(m=this._request({args:u,dataPath:c,action:d,model:g,clientMethod:h,callsite:b,runInTransaction:!1})),m.then(M,y)),requestTransaction:()=>(m||(m=this._request({args:u,dataPath:c,action:d,model:g,clientMethod:h,callsite:b,runInTransaction:!0})),m),catch:M=>(m||(m=this._request({args:u,dataPath:c,action:d,model:g,clientMethod:h,callsite:b,runInTransaction:!1})),m.catch(M)),finally:M=>(m||(m=this._request({args:u,dataPath:c,action:d,model:g,clientMethod:h,callsite:b,runInTransaction:!1})),m.finally(M))};for(const M of o.fields.filter(y=>y.kind==="object"))w[M.name]=y=>{const v=c.includes("select")?"select":c.includes("include")?"include":"select",A=[...c,v,M.name],_=Nn(u,A,y||!0);return r[M.type]({operation:l,actionName:d,args:_,dataPath:A,isList:M.isList,modelName:f||o.name})};return w};return n[o.name]=a,n},{});for(const n of this._dmmf.mappings){const i=Os(n.model),s={model:!0,plural:!0,aggregate:!0},o=Object.entries(n).reduce((a,[l,d])=>{if(!s[l]){const u=$w(l);a[l]=c=>r[n.model]({operation:u,actionName:l,args:c})}return a},{});o.count=a=>r[n.model]({operation:"query",actionName:"aggregate",args:a?{...a,select:{count:!0}}:void 0,dataPath:["count"]}),o.aggregate=a=>{const l=Object.entries(a).reduce((d,[u,c])=>(jw[u]?(d.select||(d.select={}),u==="count"?d.select[u]=c:d.select[u]={select:c}):d[u]=c,d),{});return r[n.model]({operation:"query",actionName:"aggregate",rootField:n.aggregate,args:l,dataPath:[]})},this[i]=o}}}return t}class qw{constructor(e,t=!1,r){this.prisma=e,this.debug=t,this.hooks=r,this.dataloader=new Sd({batchLoader:async n=>{const i=n.map(o=>String(o.document)),s=n[0].runInTransaction;return this.prisma._engine.requestBatch(i,s)},singleLoader:async n=>{const i=String(n.document);return this.prisma._engine.request(i,n.headers)},batchBy:n=>{var o;if(n.runInTransaction)return"transaction-batch";if(!n.document.children[0].name.startsWith("findOne"))return null;const i=n.document.children[0].children.join(","),s=(o=n.document.children[0].args)==null?void 0:o.args.map(a=>a.value instanceof ce?a.key+"-"+a.value.args.map(l=>l.key).join(","):a.key).join(",");return`${n.document.children[0].name}|${s}|${i}`}})}async request({document:e,dataPath:t=[],rootField:r,typeName:n,isList:i,callsite:s,clientMethod:o,runInTransaction:a,showColors:l,engineHook:d,args:u,headers:c}){if(this.hooks&&this.hooks.beforeRequest){const f=String(e);this.hooks.beforeRequest({query:f,path:t,rootField:r,typeName:n,document:e,isList:i,clientMethod:o,args:u})}try{let f,h;if(d){const b=await d({document:e,runInTransaction:a},g=>this.dataloader.request(g));f=b.data,h=b.elapsed}else{const b=await this.dataloader.request({document:e,runInTransaction:a,headers:c});f=b.data,h=b.elapsed}const m=this.unpack(e,f,t,r);return process.env.PRISMA_CLIENT_GET_TIME?{data:m,elapsed:h}:m}catch(f){ye(f);let h=f.message;if(s){const{stack:m}=Bn({callsite:s,originalMethod:o,onUs:f.isPanic,showColors:l});h=m+`
  `+f.message}throw h=this.sanitizeMessage(h),f.code?new ge.PrismaClientKnownRequestError(h,f.code,f.meta):f.isPanic?new ge.PrismaClientRustPanicError(h):f instanceof ge.PrismaClientUnknownRequestError?new ge.PrismaClientUnknownRequestError(h):f instanceof ge.PrismaClientInitializationError?new ge.PrismaClientInitializationError(h):f instanceof ge.PrismaClientRustPanicError?new ge.PrismaClientRustPanicError(h):f}}sanitizeMessage(e){return this.prisma._errorFormat&&this.prisma._errorFormat!=="pretty"?kd.default(e):e}unpack(e,t,r,n){t.data&&(t=t.data);const i=[];return n&&i.push(n),i.push(...r.filter(s=>s!=="select"&&s!=="include")),Tr({document:e,data:t,path:i})}}function $w(e){return e===He.DMMF.ModelAction.findMany||e===He.DMMF.ModelAction.findOne||e===He.DMMF.ModelAction.findFirst?"query":"mutation"}module.exports=Cs();
/*!
 * @description Recursive object extending
 * @author Viacheslav Lotsmanov <lotsmanov89@gmail.com>
 * @license MIT
 *
 * The MIT License (MIT)
 *
 * Copyright (c) 2013-2018 Viacheslav Lotsmanov
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy of
 * this software and associated documentation files (the "Software"), to deal in
 * the Software without restriction, including without limitation the rights to
 * use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of
 * the Software, and to permit persons to whom the Software is furnished to do so,
 * subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS
 * FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR
 * COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER
 * IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN
 * CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 */
//# sourceMappingURL=index.js.map
