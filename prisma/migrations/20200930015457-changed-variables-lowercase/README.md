# Migration `20200930015457-changed-variables-lowercase`

This migration has been generated by Charles Nguyen at 9/29/2020, 9:54:57 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
ALTER TABLE "public"."Produce" DROP CONSTRAINT "Produce_storeId_fkey"

ALTER TABLE "public"."Receipt" DROP CONSTRAINT "Receipt_clientId_fkey"

ALTER TABLE "public"."Receipt" DROP CONSTRAINT "Receipt_storeId_fkey"

ALTER TABLE "public"."Produce" DROP COLUMN "storeId",
ADD COLUMN "storeid" integer   NOT NULL 

ALTER TABLE "public"."Receipt" DROP COLUMN "clientId",
DROP COLUMN "storeId",
ADD COLUMN "clientid" integer   NOT NULL ,
ADD COLUMN "storeid" integer   NOT NULL 

ALTER TABLE "public"."Store" DROP COLUMN "storeOwner",
ADD COLUMN "storeowner" text   NOT NULL 

ALTER TABLE "public"."Produce" ADD FOREIGN KEY ("storeid")REFERENCES "public"."Store"("id") ON DELETE CASCADE ON UPDATE CASCADE

ALTER TABLE "public"."Receipt" ADD FOREIGN KEY ("clientid")REFERENCES "public"."Client"("id") ON DELETE CASCADE ON UPDATE CASCADE

ALTER TABLE "public"."Receipt" ADD FOREIGN KEY ("storeid")REFERENCES "public"."Store"("id") ON DELETE CASCADE ON UPDATE CASCADE

DROP TABLE "public"."mock_data_produce"
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20200929235131-modified-produce-type-name..20200930015457-changed-variables-lowercase
--- datamodel.dml
+++ datamodel.dml
@@ -8,9 +8,9 @@
 // 4. Use Prisma Client in your application code to access your database.
 datasource db {
   provider = "postgresql"
-  url = "***"
+  url = "***"
 }
 generator client {
   provider = "prisma-client-js"
@@ -39,10 +39,10 @@
   price Float
   foodType String
   // Relations
-  store Store @relation(fields: [storeId], references: [id])
-  storeId Int
+  store Store @relation(fields: [storeid], references: [id])
+  storeid Int
   receipt Receipt[] // Many to many
   // Logs
   createdAt DateTime @default(now())
@@ -54,12 +54,12 @@
   subtotal Float
   total Float
   // Relations
-  client Client @relation(fields: [clientId], references: [id])
-  clientId Int
-  store Store @relation(fields: [storeId], references: [id])
-  storeId Int
+  client Client @relation(fields: [clientid], references: [id])
+  clientid Int
+  store Store @relation(fields: [storeid], references: [id])
+  storeid Int
   produces Produce[] // Many to many
   // Logs
   createdAt DateTime @default(now())
@@ -70,9 +70,9 @@
   id Int @id @default(autoincrement())
   name String
   address String
   email String
-  storeOwner String
+  storeowner String
   city String
   province String
   // Relations
```


